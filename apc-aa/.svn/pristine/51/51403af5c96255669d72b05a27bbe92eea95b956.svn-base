The changes could be tracked on:
    https://sourceforge.net/p/apc-aa/svn/commit_browser
    https://sourceforge.net/p/apc-aa/svn/HEAD/log/
    https://sourceforge.net/p/apc-aa/svn/feed

--- Older changes are listed also here: -----
20-01-16 - optimized SQL query for remote items search like in query
(honzam)     {ids:{_#SLICE_ID}:d-status_code.....@27803bcb3e04af9fe56a4420aa3a8b35/relation........-=-1}
         - better js detection in {require:myscript.js?v=5} - .js with ?parameters is detected well
20-01-14 - new {sortable}, {sortable:#mytable}, {sortable:table.sortable} (default)
(honzam)   makes the specified table sortable. Good to add also short
           css rules - see cdn.jsdelivr.net/gh/honzito/plain.sortable/sortable.css
         - new experimental {datatable:<selector>:<options>} - creates Datatable form tables
           matching the <selector> (.datatable) by default (see datatables.net)
              {datatable}, {datatable:#mytable}, {datatable:.datatable:{ paging:false, info:false }}
20-01-06 - better pagacache cron cleanup process - no old records remain, now
20-01-02 - new possibility to specify label for {formsaver::Fill&nbsp;by} - prefixes the searches
(honzam)   buttons with the label (HTML could be used)
         - new '410 Gone' status code for {header} - {header:410}
19-12-30 - new {formsaver[:<container>]} - creates <div> with clickable options corresponding to previously
(honzam)   filled form values by the user. Max 5 saved searches are stored (using localStore)
             {formsaver}              - whole form is saved (the one in which is the {formsaver})
             {formsaver:.my_subform}  - only the subform is saved
         - fix - {math..} now handles Division by zero Err
         - allow require ggogle fonts:
             {require:["//fonts.googleapis.com/css?family=Open+Sans#:400,600&amp;subset=latin-ext"]}
19-12-27 - {ids} now can be returned as JSON, if "json" is specified as delimiter
(honzam) - nicer output of AA Finder
         - better view help text and example on Admin -> View
         - removed unused functions
19-12-19 - improved {foreach} - it can use named variables as well as multidimensional loops:
(honzam)     named variables (alias _#x reflects the key name "x" in JSON:
               {foreach:{"x":["val1","val2","val3"]}: * _#x :json:<br>}
             multilevel foreach is easier with named variables:
               {foreach:{"x":["X1","X2","X3"]}:{(
                  {foreach:{"y":["Y1","Y2"]}: * _#x, _#y :json:<br>}
                )}:json:}
             even easier way to write multilevel foreach
             (_#loop0 _#loop1, ... as default aliases, or _#x, _y, ... if you use named variables):
               {foreach:[["X1","X2","X3"],["Y1","Y2"]]: * _#loop0, _#loop1:json:<br>}
               {foreach:{"x":["X1","X2","X3"],"y":["Y1","Y2"],"zet":["ZET1","ZET2"]}: _#x - _#y - _#zet:json:, }
19-12-17 - fixed hash generator for identifiers - now we use only safe a-zA-Z0-9 characers
(honzam)
19-12-13 - improved "Insert as new" - the seo is now regenerated form alias is the seo is duplicated
(honzam)
19-12-11 - session lifetime and auth lifetime set to 1 day by default
(honzam)   (we are also trying to set session.gc_maxlifetime to 86400 in php.ini to make us sure
           the garbage collector of PHP do not delete it)
19-12-09 - fixed {manager} when sometimes the wrong generated hash lead to JS error
19-12-04 - the Seo field (with SEO Name insert function) is filled with unique value, when user
(honzam)   hits "Insert as new" in inputform
         - {seoname:name:all} counts at least with current slice if the slice is not part of any site module
19-12-03 - fixed new view in Admin Views
(honzam) - fixed file upload - form multipart - on inputform
         - removed unused functions
         - fixed checkbox in the inputform
         - fixed bug with empty multi-selectbox in inputform
         - fixed file upload validation when the file upload field is required
19-12-02 - fixed new view in Admin Views
(honzam) - fixed bug with pre-fill fields
         - fixed bug with validation empty fields
         - old type of JS validation removed form inputform - HTML5 validation should be enough
19-11-29 - better page scroller in AA Item Manager (Thanks to Sarka Vasku)
(honzam) - fixed translation button of multilanguage textarea
19-11-26 - better AA logging in log table (AA -> Log)
(honzam)    - more login entries (ITEM_NEW, ITEM_UPD, all events with item is logged, now)
            - more information about context of the operation (IP, script)
         - moving items between bins uses standard storeItem function (with logging, ...) and not special code
         - do not log validate problem for hidden fields from item table
         - fixed php bug in {recompute}
         - version bump of js files to be reloaded from server
19-11-25 - new possibility to display Date Widget as HTML5 input type=date - just
(honzam)   place 2 in "Date-time input type" Parameter in Date widget setting
             - min and max widget parameters in this case could be used
               as year (2019), month (2019-03) or day (2019-03-16)
         - ugly arrows (>>) used in AA interface replaced by real html arrows
         - improved Two Boxes Widget - better js
         - improved Related Item Window - the size could grow a bit if the widget is already filled
         - the password Rehashing to stronger password is logged to the AA Log
         - fixed password store function
         - fixed bug in File Widget
19-11-22 - fixed new widgets on AA Item Edit - mainly multiple checkboxes, ...
(honzam) - better type checks in the code
19-11-21 - Admin -> View Edit now shows the hint for {view... command including the d-... conditions.
(honzam) - Admin -> Item Set now uses short d-.. conditions as default (instead of long conds[value]=... format)
         - page scroller in AA user interface now displays the number of found items even if there is only one page
         - code editor now added to Admin -> Javascript for field
         - validation of new item now switched to LOG by default (as it was month ago)
         - better constant group name check - only alphanum characters allowed
         - the items from Slice marked as deleted is not shown in Site Module
         - fixed problem with {var} used in {item:...:{(...some text {var:x}...)}}
           - now the {var:x} is actualized when changed, even if we display the same item
         - img.php now works with https
         - fixed upload in CKEditor
         - some zids methods are with fluent API, now (returns $this, so you can change it $zid->clear()->add(..))
19-11-11 - fixed constant setting
(honzam) - added note to RSS feeds, that the mapping is URL dependent, so it is not good idea
           to change the url of the feed
         - a bit improved html code for input field and textarea
         - usage of fluent programming interface for AA_Content and AA_Object
19-11-05 - fixed language setting - setlocale() added to all utf8 languages in order {order:...:locale} works well
(honzam) - the default DB_COLLATION is preset to correct utf8mb4_***_ci version of utf
19-10-30 - [+] and [-] images in {toggle...} are surrounded by span.aa-img-plus or span.aa-img-minus so we can
(honzam)   redefine then using CSS bofre/after
         - in {ajax} the whole content works as button by default. Now you can redefine it using _#AA_AJAX_
           alias like:
              The text which works with value <button _#AA_AJAX_>Change it</button>
         - http:// replaced by https:// in comments and help texts
19-10-18 - New possibility to call Google Translate and directly translate
(honzam)   the Textarea Widgets which uses different languages
         - new {inputonly} command - the same as {input}, but do not contain Labels and hints
           Used also for Itemedit in AA
         - AA form validation was rewritten in order we can better use new XxxWidget
           widgets in the AA inputform
         - Views in Slice Admin now uses more universal Manager approach
         - new possibility to move views between slice
         - Manager Widget fixed, when displayed in many instances on the same page
           (used sessions, more complete hashes)
         - fixed Tags widget - now could be used in {ajax} displayed widgets
           (the required scripts and CSS are loaded authomaticaly)
         - better requires control - now we are able to control the requires during AJAX calls
           (so {ajax} widgets are able to load its JS and CSS)
         - quicker AA\Cache\PageCache - better values for DB keys, quicker invaliadation (grouped for more slices)
         - The functions for inserting Item Fields to the DB was rewritten to classes
           (which also allows better validation functions)
         - Links Module converted to ManagerActions and secured
           (better parametrer checks, better SQL calls)
         - better zids filtering - better zids consistence
         - optimalizded manageractions code
19-10-01 - new possibility to redefine just selected variables in the query string by {go:xqs_<variable>=<value>}
(honzam)   like:
            {go:xqs_year=2019&xqs_type=enviro}  ==> example.org/...?year=2019&type=enviro&some_other_params_from_old_url
19-09-13 - fixed problem with "Reset Password" - the recovery e-mail was written to wrong address
(honzam)
19-09-11 - Widget is possible to use with {ajax} and {live} - not only in AA interface
(honzam) - {htmlajaxtoggle} now allows switch between two content - the primary and the one generated
           by the ajax call. In previous version expects the initial content is empty.
           The change is backward compatible.
         - fixed {protectmail} - the script for generate protectmail is removed after execution, because when
           the content is redisplayed again (by {htmlajaxtoggle} for example, the script is executed again,
           which leads to wrong content
         - fixed {text2html} and {field2html} - now correctly works with UTF strings
         - jQuery updated from v 3.3.1 to 3.4.1
         - select2 is now preferred in version 4.x over 3.x
19-08-28 - {qs} is now able to access the variables sent as application/json request body (used by JS APIs)
(jirkar)   (we count with the request body in caching system in this case)
(honzam) - improved input validation
            - items with invalid values are not stored in the database
            - password field now works correctly even if validation (for password length) is not set in field setting
            - password field in the form now should not be autofilled
         - new link "Log" in Planned task manager to see results of the task in the log
         - new _#PWD_URLP - Password change url parameter - alias for URL parameter used for password change link
           in _#PWD_LINK (you can use it, if you want to use your own url for it)
         - fixed {jwtdecode} for some Apache instalations
         - fixed onSuccess function call in AA_Ajax()
         - fixed return values of {changepwdsendmail}
         - fixed ANONYMOUS_EDIT_CRON - "Only by Planned tasks (cron-toexecute)" permissions for cron task
19-08-06 - new Manager input widget - it allows manage Items from remote slice, when the remote
(honzam)   item points to editted item. It the same as we can achieve with {manager}. It works
           also in AA admin interface, where was problem with Add Item operation (the ID of new
           item is not knows). Solved by artificial "connector ID". Best for galeries and other
           tabular data which is multivalue and different for each item.
         - New search field in AA user interface - right top - which searches the AA the same
           way as you do in AA -> Find. It is shown just to Superadmins.
         - The information about Item deletion is written to the log, now.
         - fixed logout - the logout on admin pages works now
           (there was cases when the logout page was cached and so the logout failed)
         - Links to history records for items/views/... now contain count of history records.
           The link is displayed only if there are some history records.
         - New permission for "Anonymous item update" - "Only by Planned task (cron-toexecute)".
           Allows update items by Planned tasks.
         - Better debug messages. Debug output could be started in AA Admin interface
           in Item Manager left menu, again.
         - Database structure updated - The enumeration/constant fields in all tables converted
           to varbinary instead of encodig-specific varchar/char (and other small improvements)
         - fix site module administration code - the unused spots are correctly removed from database
         - removed unused configuration options and css
         - fixed AA_Message box in AA admin interface
         - fixed Date widget when used in {ajax} - setting empty date now works
         - improved metabases Insert functions which validates values automaticaly
         - better working with utf strings - mainly substrings, ...
         - improved AA internal character encoding setting - encoding set also for utf mb_* functions
         - database operations rewritten to more safe form
         - better handling of Err messages inside AA code
19-07-25 - fixed Invalid SQL: INSERT INTO `hit_long_id` problem with too long data record
19-07-24 - diff of database structure in "Update database structure" optimize task is nicer
(honzam) - better AA Finder - now is possible to - replace text with empty or shorter string
                                                 - search for shorter strings
19-07-18 - fix {shorten} - now works correctly with utf8 encoding
(honzam)
19-07-09 - SEO field now can have multivalue when using SEO Name insert function
(honzam) - new possibility to get charset of the slice - {modulefield:2e637469436961532d65732e332e446a:charset}
         - improved {math} - more "strange" expressions are accepted
         - Improved history
             - more links to history versions in AA admin interface
             - history is now stored also for fields, users, slice, spot ...
             - better history design
         - fixed implementation of "!=" and "<>"" operator in conditions ({view}, {ids}, ...)
         - hitcounter now writes info about page generation time and caching into the log for future statistics
         - new NamedInterface for better internal AA API on components naming
         - changes monitor moved to separate file/namespace
         - toexecute now uses new LaterInterface for cleaner internal AA API
         - css improvements - images as data/base64, UI improvement
         - improved user management UX - standard widgets used
         - improved internal Javascripts
             - removed eval() calls
             - removed old tricks with selectbox widths
         - removed unused files (old unused CSS)
19-06-18 - AA_Message() - better CSS - inner div are not scrambled
(honzam)
19-06-17 - protecting of domain by specify request frequency moved to more genaral AbsractGrabber class
(honzam)
19-06-14 - fixed bug with session
(honzam)
19-06-11 - new SOAP grabber implementing SOAP interface
(honzam) - XML grabber now
               - allows load data by POST request
               - works with namespaced XML files
                 (the best approach is to use useFakeNamespaces() to convert res:result to res_result)
               - have domain protection, so the request for one domain is not more otfen than 2 seconds (by default)
         - new AA\IO\Importer which allows to create scheduled task from the import
19-06-06 - site chache now caches desktop / mobile / tablet separatelly
(honzam)   (you can have the different content on the same url switched by {detect} condition
           in the sitemodule, for example)
         - Rich Text Editor fileupload now works outside the AA Admin interface (in sitemodule)
(honzam)   did not work on Safari 12.1
19-06-04 - fixed syntax Error in JS AA__SiteUpdatePart causing the Dropzone for image upload
(honzam)   did not work on Safari 12.1
19-05-29 - new parameter expression in {sortstring:<item-id>[:<relation-field>[:<expression>]]}
(honzam)   which allows to use other expression for tree ordering, than the default short ID
           (which is OK for discussions, .. but maybe not for the use cases, where one want
           to move items in tree)
19-05-28 - fixed error in {sessurl}
(honzam)
19-05-27 - fixed problem with Authentication. User was able to login into sitemodule
(honzam)   with Reader slice not belonginig to this site
         - {updateitem:...} now works also in view.php and AA admin interface
            - the item updated must be from slice of the view or current slice
         - some messages with alerst are translateable, now ("E-mail unsubscribed",...)
19-05-16 - sessions in AA improved - used more secure settings, removed old unused directions
(honzam) - used fully qualified class names for namespaced classes
         - cookies are set as secure (and samesit=lax) for https pages
19-05-10 - fixed problem (fatal error) with RSS feeding
19-05-02 - fixed bug in central (bug introduced with refactoring last week)
19-04-30 - tag widget now allows two more options
(honzam)      - disable_new - disallow to add new items to related slice
              - max_values  - allows to limit maximum number of options (even 1)
         - tag widget moved to select2 v4 library
         - fix error when updated User Group with MariaDB 10.3
         - fixed namespace paths to Saver and Grabber
19-04-29 - html code for {rotator} improved a bit
(honzam) - fixed AA -> User Group - assigning users to group work with LDAP again
19-04-25 - new operator BITSET for bitwise AND - test if the bit(s) are set - goot for bitfields
(honzam)     {item:{ids:{_#SLICE_ID}:d-highlight.......-BITSET-4}:_#HEADLINE:<br>}
                - third bit of highlight field must be set (val & 4 == 4)
             {item:{ids:{_#SLICE_ID}:d-highlight.......-BITSET-6}:_#HEADLINE:<br>}
                - second and third bit of highlight field must be set (val & 6 == 6)
         - fix Two boxes widget - wrong constants - broken after previous commit
19-04-23 - fix {manager} - do not show all items when no item is edited (adding item)
(honzam) - {header} now removes newlines, so the code could be more readable
         - new parameter <type> for {facebook:<url>:<type>} - when <type> is "+share",
           then the FB button will contain Like + Share button
         - new libraries select2@3 and select2@4 added for {require:}
         - new {changepwdsendmail:<reader_slice_id>:<from-email>:<username>} sends mail
           to the user identified by username and readerslice to allow password change.
           Return 1 if mail is sent, anything else in case of error
         - new {detect} - Detects mobile/tablet/desktop (and print one of the mentioned keywords)
         - site module now removes initial and ending newlines from the page output,
           so the page begins with usefull content
         - The transformation "Divide the text to multiple values" now allows multiline delimiters
         - Page is not cached when Authorization header is changed
         - Grabbers and Savers moved form global AA_Grabber_* namespace to its own AA\IO\Grabber, AA\IO\Saver
         - new searchfileds class to manipulate slice/view condition fields.
           It will be used for view filtering on remote fields (headline........@relation.......1)
19-04-04 - fix optimize.php3 script which time to time calls OPTIMIZE on database tables
(honzam)   (it wasn't executed in php >=5.3. It is also called on all tables, now)
19-03-28 - {math} allows also bitwise operators & and |
(honzam)
19-02-18 - fixed {newitem} when used with {var} and {define} - {define}s are not cleaned after Item Insert
19-02-15 - better generated SeoName - trim multiple dots as well as dots at the end and start
19-02-08 - better {shorten:...} behavior - better strips tags, when the text is shorten
(honzam) - new possible {headers:CSP:param} - Content-Security-Policy:
                        {headers:CSP-RO:param} - Content-Security-Policy-Report-Only:
                        {headers:RT:param} - Report-To:
                        {headers:NEL:param} - NEL:
                        {headers:Xss:param} - X-Xss-Protection:
             example of usage using report-uri.com:
              {header:CSP-RO:{- default-src 'self' https://myexamplesite.ecn.cz; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://unpkg.com/; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://unpkg.com/; font-src 'self' https://fonts.gstatic.com; img-src 'self' https://myexamplesite.ecn.cz/ https://*.tile.openstreetmap.org https://unpkg.com/; form-action 'self'; frame-ancestors 'self'; report-uri https://myexample.report-uri.com/r/d/csp/reportOnly}}
              {header:RT:{- {"group":"myexamplegroup","max_age":31536000,"endpoints":[{"url":"https://myexample.report-uri.com/a/d/g"}],"include_subdomains":true}}}
              {header:NEL:{- {"report_to":"myexamplegroup","max_age":31536000,"include_subdomains":true}}}
              {header:XSS:{- 1; mode=block; report=https://example.report-uri.com/r/d/xss/enforce}}
         - fixed file upload for {manager:..} - now works also on pages with parameter in url
         - fixed problem with {recount} called from computed field - the cached
           old content of the item is invalidated before counting' include/item_content.php3 CHANGES
19-02-06 - substrings now counts with different encodings
(honzam)
19-02-05 - better item filtering for "<>" conditions - now works well also with multivalues
(honzam) - added new "is not" ("<>") operator in Admin searchbar.
19-02-04 - "AA -> Scheduled tasks" now allows to run individual task
(honzam) - the user interface for "AA -> Scheduled tasks" is the same as for "Slice Admin -> Task Manager"
         - fixed problem with hit...........xx fields - it did not count hits after last update
19-01-30 - new {formantispam} command -generates html code (<input name=answer) to be inside <form> which protects
(honzam)   the form from spammers by easy trick (the generated code could be changed in future)
         - input type for "Unique email" changed to <input type=email ...>
         - fixed Tags widget - now works again
         - fixed crypt functions, when the password is longer than 32 characters
19-01-30 - {editable:...} text editor now asks user, when (s)he wants to leave the page without saving changes
(honzam)
19-01-29 - fix - <persistent-id> parameter for {htmltoggle:<toggle1>:<text1>:<toggle2>:<text2>[:<position>][:<persistent-id>]}
(honzam)   now works also in jQuery version of the aajslib
19-01-28 - new JSON Web Token stateless authentication possibility using {jwtencode} and {jwtdecode}
(honzam) - new {jwtencode:<secret-key>:<username>:<password>[:<lifetime>[:<add-validity>]]}
            - Generates JWT (JSON Web Token) for user identified by <username> and <password>. The validity is
              checked in {jwtdecode} using secret-key and optional <add-validity>
            - add-validity - aditional check - alias or aa code evaluated for the user. When user then access
              the AA with token, the evaluated text for the user must be the same for success login
            - could be used for invalidating of the token. Let's create end_date........ field with _#EXITTIME alias
              passed as $add_validity. Then with user logout we just update the end_date........ field of the user
            - works only for Readermanagement users
           usage: {jwtencode:secret-key:{qss:email}:{qss:password}:3600:_#EXITTIME}
         - new {jwtdecode:<secret-key>[:<add-validity>]} - checks the validity of the JWS token in Authorization header
           an if OK, returns user id of authenticated user
           <add-validity> is the additional check which allows invalidate older tokens - see {jwtencode:...}
           Note: Appache webserver sometimes do not pass the Authorization header. The solution could be in adding
                   FcgidPassHeader Authorization
                in Apache configuration (for Apache/mod_fcgid)
         - new \Firebase\JWT\JWT library (used for JWT parsing)
19-01-23 - new {field2html:<field_id>} - converts the content of the field to html better
(honzam)   than standard {text............} comand would do (makes html links from urls...).
19-01-22 - manager now allows to create items by upload file to slice (allows drag&drop)
(honzam) - {input:<slice_id>:<field_id>} as well as {edit:<item_id>:<field_id>} now works
           with CKEditor (Rich Edit Text Area widget)
19-01-17 - fixed problem with Reader slice password rehashing from 19-01-15
(honzam) - fixed site module login - removed duplicated login process on the page
         - allow dot in the seoname
         - hitcounter now uses newer approach to write the result to hit_x... fields
19-01-16 - new parameter <edit_code> in
(honzam)     {manager:<slice>:<relation-field>:<item>:<code>[:<conds>[:<sort>[:<mode>[:<edit_code>]]]]}
           which allows you to specify code for edit - like _#EDIT_ITM.
           Displays _#EDIT_ITM for item defined in {qss:aaedit}.
           Two related buttons are added in <mode>
             - E for Edit,
             - B for Back
19-01-15 - Reader slice password now allows to authenticate with old sha1 hash. This could be used
(honzam)   for imported user database which uses this algorithm to authenticate. The hash is automatically
           updated to newer one upon user login
         - the LDAP permission system now stores passwords crypted with sha512
19-01-07 - sitemodule Aliases edit now uses Codemirror editor (and possibly all Object edited in AA)
(honzam) - improved HTML code - <center> replaced with style="text-align: center;"
         - improved function PHPDoc
19-01-02 - new {iftype:teststring:test:ok:...:else} Tests type of the string
(honzam)     test could be longid or shortid at this moment
             example: {iftype:{qs:id}:longid:_#1:shortid:warning - use long id:parameter is not id}
         - better JS code for {tooltip} - the tippy library is loaded at the bottom of the page
         - widgets Select and Multiselect on Inputform accepts "values array" setting
           (constants defined by string (json) and not constants or slice)
18-12-28 - "AA -> Finder" now allows to search and replace by multiline string
(honzam) - fixed {ajax:...} - the shown values respects plaintext/html setting, so newlines are displayed correctly
         - fix for private/public caching
18-12-21 - new implementation of {encrypt} and {decrypt}. It now uses libsodium, if available (php 7.2)
(honzam)   or openssl (php 7.1). Old mcrypt based solution is no longer supported by PHP devs.
           Unfortunately, the algorithms are not compatible, so you will be able to decrypt
           previously encrypted string only in PHP<7.2.
           {encrypt} in php 7.1 will produce result, which will be compatible in 7.1, 7.2, ...
         - the AJAX calls (in {manager}...) now displays popup message, on error.
         - cache header now uses Cache-Control private for pages with logged user, which should
           be better for cacheability on proxy
         - AA Admin interface now also displays debuggung statistic with added url parameter ?debug=255
18-12-11 - search fields in Item Manager serachbox is restricted to first 8 fields in the remotes slice.
(honzam)   - "all fields"  search in remote slices is allowed
         - new {xid:<slice_id>} expression, which returns the last item id in path, which is in the slice_id
18-12-06 - fixed problem with non html e-mail with non utf-8 encoding - the mail is no longer empty
18-12-05 - fixed bug in text e-mails, which was truncated after dot on empty line
(honzam) - fixed list of search field in Item Manager Searchbar
         - fixed unique check in filler.php3
         - better database handling in Alerts
18-12-03 - new expression {specialstring:BOM} - prints 3-byte symbol BOM used as identifier
(honzam)   at the beginning of utf-8 file on some systems
         - new parameters time and crc for {fileinfo:<file>:crc}
           - returns timestamp of last modification of the file or crc32 respectively
         - the buttons Add, Add Mutual and Backward in Related item selection window is now correctly translated
18-11-22 - fixed bug in sending alerts - the # was added befor all : characters like https#://...
(honzam) - fixed "Recompute field" transformation in Item manager's "Modify content..." action
18-11-21 - {menu} expression now matches as class="active" the last presented active menu item, even if this item is not
(honzam)   {xid} - the last one in the url - the menuentry then remains active for example in detail of article
           not presented in the menu. The exact match with the real last itenm id is marked as class=xidmatch
18-11-20 - searchbar in Item Manager now allows to search in related fields
(honzam)     1) the ones, where any of the current fields points to
             2) the ones which points to current slice from any other slice
18-11-19 - fixed operator selection in view setting
(honzam) - fixed typo
18-11-13 - fixed problem with user login - password was corrupted by feeding action
(honzam)   performed wrongly based on wrong relation table record.
           To fix it you need to run:
             AA -> Optimize -> Relation table duplicate records -> Repair
         - improved {mail} function - AA removes the end-line whitespaces in the generated
           plain-text version of e-mail (which broke responsivity in some templates in some
           email clients - Zurb/Thunderbird...)
         - small fixes, removed unnecessary functions and function parameters
         - functions have better phpDoc
18-11-07 - all AA admin pages converted to AA_Adminpageutil aproach
(honzam) - better implementation of AA admin menu
         - AA UI improved - removed old links to documentation
         - fixed multiple chckboxes weidget, when diplayes through {live} or {ajax} - the deselecting by click
           on the tag now works as expected
         - better html entities escaping for display in HTML
         - fix - sitemodule marked as deleted now do not show any output
18-10-29 - improved Field Edit page - htmleditor used for textareas, ...
(honzam) - added new PSR-4 compatible autoloader by composer
18-10-26 - fixed functionality of aliases in fields defined by slice
18-10-25 - now you can install AA with composer:
             composer create-project apc/actionapps -s dev
         - new PSR-4 compatible autoloader
         - started moving classes to separate files in new /src directory and namespaces compatible with PSR-4 specification
         - slice Admin -> Fields improved
            - checks for duplicated aliases
            - Analyze now allows to optimize some aliases for speed - change some occurrences of f_h/f_t to f_1
            - Analyze highlightes empty fields and the fields with only single value
         - the fields defined by slice now supports aliases
             If you want to create alias for the field, then define _#FLD_ANxx for alias
             name and _#FLD_AVxx for alias params (f_t function is used)
             example: you can use _#MY_LINK_ for the field if you in the slice containing
             the field definitions for the slice set
               _#FLD_AN_1 = MY_LINK_ and
               _#FLD_AV_1 to <a href="_#SOME_URL">_#SOME_LNK</a>
         - better constants selectbox in Slice Admin -> Fields -> Edit
         - fixed Central and updated Copy slice to AA_Adminpageutil class
         - widget File is now prepared for multiple file upload (not yet enabled)
         - files manipulation library updated to last version
         - deleted slices moved to the end of slice selection selectbox and marked with xxx
18-10-03 - fixed problem with module switching (sometimes wrong module menu was loaded
(honzam)   (slice menu for site module, ...), mainly with opened more than one browser window)
         - fixed problem with Alerts switching when wrong alerts module was loaded into tabledit
         - fixed validation of unique field (mail) in filler.php3
         - fixed polls module delete
         - fixed some SQL for MariaBD 10.3 strict sql-mode
         - fixed problem with broken "Settings" link when no "Slice field" is defined in the slice
         - polyfill for window.console used for debug info is no longer applied (browsers already support console for some time)
18-09-27 - {live} and {ajax} widget for Two Boxes input type now uses 1-column multiple checkbox form
(honzam) - fixed css for aa-toolbox
18-09-26 - new {siteitem:<seo-string>[:<text>]} - Translates seo in current site module to item
(honzam)   and prints fulltext of the item, or specified text for the item
             {siteitem:about-us}       - prints fulltext
                but {siteitem:about-us:}  - prints empty string
             {siteitem:about-us:<h1>_#HEADLINE</h1>}  - headline of about-us item in current site module
           - searches only current (approved) items of current site
           - only the first item with the same seo is evaluated
18-09-25 - new http headers available for {header} - {header:css} for text/css, plain, js, html, bin, gif, png, jpg, ico
(honzam) - anonym wizard for form no longer use use_post2shtml - shtml are not used in most cases now, so no need for it
18-09-21 - better behavior of required Date Input widget - the year selectbor is not prefilled and is required, now
(honzam) - fixed Slice Admin - "Show content of pending items" - now it is possible to check this option
         - fixed inner links in AA admin interface
         - AA admin interface - Object Edit uses jQuery version of aajslib
18-09-20 - fixed bug wher sitemoduel have in User login databases set "first User Management slice"
(honzam)   - now it works really with the first listed, not random
18-08-23 - updated database structure (mostly change form VARCHAR to VARBINARY for raw content)
(honzam) - fixed bug in slice deletion button
         - fix - INSERT queries are checked for consistency with database
18-08-22 - the debug output with ?debug=128 ($debug&128 bit set) now shows duplicated queries and longest queries
(honzam) - fixed user add SQL for MariaBD 10.3 strict sql-mode
18-08-16 - new js library leaflet.js added for {reguire:leaflet@1}
(honzam) - fix - better checks for view id if the view is displayed
         - fixed link to chart.js library for {reguire:chartjs@2}
         - the debug output with ?debug=128 ($debug&128 bit set) now shows whole queries
18-08-15 - fixed CSS for AA_Message()
18-08-14 - fixed SQL for MariaBD 10.3 strict sql-mode
(honzam)   Database inserts (item table, log, ...) now checks database schema in AA_Metabase and converts the
           inserted data accordingly - data type (int, ..) as well as text length, which is truncated by AA, not MariaBD
         - fix - better return addres after itemedit
18-08-13 - fixed SQL for MariaBD 10.3 strict sql-mode
18-08-09 - View's vid now could use non numeric identifiers - like: photo_list and then use it instead of numeric vid
(honzam)   like:
             {view:photo_list:...} or ..?vid=photo_list...
           The named vid is searched only in current sitemodule's slices. It allows us to use the same name of view
           for different sites, so it is the way, how to write "copyable" and installable slices/sites
         - new "Accept site module paging - {xpage}" listing view option - if checked, no need to pass page-{xpage}
           param to the view
         - {live:}, {edit:} and {editfull} now allows redefine widget the same way, as {axaj:}
           like:
              {live::number..........:::sel:{"const_arr":{"0":"no","1":"yes"}}}
18-08-08 - all system JS/CSS libs used in {require:} updated to last versions
(honzam) - added jquery-ui to available libs by {require:jquery-ui} command
         - textareas with CodeMirror (syntax highlight code editor) now adapts its size to its content. It is as big
           as required. Also problem with searching in code editor is fixed.
         - new helpbox on available {require:} libraries is presented on Site Admin page
         - more checks for item id validity when storing item in the database
18-07-16 - the translation expression now can use parameters _#1, _#2, ... - {tr:found _#1 items:5}
(honzam) - fixed new bug in slice unique validation
         - better parsing ids passed to {item:}
         - better email charset
18-06-29 - fixed validation error for email unique value, when invoked from
(honzam)   {newitem:...} in sitemodule
         - fixed bad include of site module legacy_util.php
18-06-28 - new {sitespot:8} syntax, which includes html code of the site's spot with specified ID (8 in our case)
(honzam)   (allowed only in site module spots)
         - {generate:} now works also on site's Login Page
         - better help text for directly specified constants in Radio, Multiple Checkboxes,... widgets
         - fixed "v0" constants bug - v0 is no longer presented, when no constants selected in Field setting
         - admin pages which uses tableedit have bigger textareas
         - better parsing of SEO router path
18-06-21 - fixed AA Item Manager left menu when displayed from bookmarks - no empty numbered rows
(honzam) - fixed parsing of AA_SEO_Router site module url
18-06-18 - fixed AA_AjaxSendForm, so the result text is displayed for {form:...}
18-06-14 - fixed aajslib.php3 vs aajslib.php - both are in SVN and the same.
(honzam) - the AA scripts loaded by {generate:HEAD} uses version, so we know the last version is always loaded
         - fixed Multiple Fext Field widget - rewritten to plain JS, so no additional library is required
         - fixed HTML / Plain text formater switch for translated textareas widget (textarea with Allow translation)
         - AA are now more strict about Required field, so checkboxes marked as Required must be filled (=checked)
         - new AA -> Optimize test "List Checkbox fields marked as required" which list all potential problem field
           if you accidentally set required on checkbox field in the history.
         - added year in alerts statistics
18-06-13 - fixed CKEditor - some plugins was not updated (scyat spellchecker, ...), path to editor better computed
18-06-12 - sitemodule now is able to omit language, so the pages /en/about is the same as /about
(honzam)     - you have to specify the "Languages on website" setting in Sitemodule admin
             - the first language is the default one)
         - AA is able to handle RESTful interface
             - you can use {server:REQUEST_METHOD} to get GET, POST, PUT, DELETE,...
             - the sitemodule cache counts with REQUEST_METHOD
             - there are new headers for status codes {header:200}, ...
                  - 200: HTTP/1.1 200 OK
                  - 201: HTTP/1.1 201 Created
                  - 304: HTTP/1.1 304 Not Modified
                  - 400: HTTP/1.1 400 Bad Request
                  - 401: HTTP/1.1 401 Unauthorized
                  - 404: HTTP/1.0 404 Not Found
                  - 409: HTTP/1.1 409 Conflict
         - improved CKEditor settings and include scripts
         - write_mail.php - the form for writing mail to reders is updated to use AA_Adminpageutil and CKEditor
18-06-05 - The value-tags displayed above Multiple checkbox widget now could be switched on and off by mouse click, as
(honzam)   expected
         - site spot edit in AA uses Code Editor
         - legacy functions of site module are moved to separate file legacy_util.php
         - returned AA_Config object to aajslib-jquery.php, since it could be used in some external apps. The newer
           aajslib-jquery.min.js do not provide it, however. Use AA_GetConf('path') and AA_GetConf('loader'), instead
         - fixed group permission settings - the It wasn't possible to assign slice to Reader Set
         - fix - image upload in CKEditor works again
18-06-04 - change field ID now allows field numbers up to 9999
(honzam) - fixed bug - the view wasn't possible to delete in View Admin
18-05-29 - do not show html / plain text switch for ajax and live widgets
(honzam) - quickfix of plaintext/HTML + Editor link broken with last commit
18-05-28 - Multiple checkbox switched to newer form code
(honzam) - Textarea with translations uses the new form code as well, which fixes the problem with Plain text / HTML
           and CKeditor
18-05-24 - Textarea and Text Field moved back to use older codepath (new one needs to rewrite JS triggers (SetValue()...)
(honzam) - AA javascript libraries are compressed, the JS code inside optimized a bit.
         - AA JS Triggers moved to its class
         - HTML / Plain text Formatters are generalized to its own class
         - PNG files are optimized for size
         - fixed central/setcookie.php for crossdomain auth
         - icons in admin-ecn.css inserted directly inside .css file - no external images needed
18-05-02 - initial implementation of "Permission alias" site-module setting
(honzam)   You can define the alias, which will be checked for all the displayed
           {xid} (=pages). If the value will be word "Valid", then the page will
           be shown. Otherwise the loginform will be shown. Of course, you do
           not need to use this feature and do it older way - directly
           in the tree of sitemodule.
18-04-30 - textarea and text inputs moved to AA_Widget_* approach for itemedit
(honzam) - jQuery updated to last stable v3.3.1
18-04-26 - CKEditor updated to 4.9.2 - there was some security problems in CKEditor
(honzam) - removed unnecessary session parameters to functions
         - better function documentation in the code
18-04-25 - fixed bug in CSV import preview - slice->fields was null
18-04-24 - new Google Map Locator help page - allows you to find latitude/ longitude of the place
18-04-23 - (several) Admin page moved to modern AA_Adminpageutil
(honzam) - aajslib-jquery rewritten to use only Javascript - not php config settings. It is now better cacheable
           and we provide also minified version aajslib-jquery.min.js
         - the textareas with ACE code editor moved to CodeMirror editor in Slice Admin
         - textarea and Richtexteditor area use standard widgets - not old formutil's code
18-03-28 - {go} now filter out all err=1 and logout=1 internal AA parameters from resulting url
(honzam) - fixed problem with encoding in previously changed Slice Admin - Fulltext
18-03-27 - Slice Admin - Fulltext is rewritten to use newer AA_Adminpage approach, which
(honzam)   simplifies and unifies the AA admin interface.
         - Slice Admin - Fulltext uses Codemirror editor, now (seems better for AA than ACE)
         - finished move of global instance of pagecache to AA::Pagecache() approach
         - fixed Slice Admin -> Change field ID (there was bug after refactoring)
18-03-23 - AA admin interface switched to HTML5 (just header...)
(honzam) - fixed problem with Slice owner field on Slice Admin page (now displayed correctly)
         - code cleanup
           - more documentation of functions, ...
           - better language handling
           - safer javascipt usage - removed some eval()'
18-03-18 - new {html2text:<some HTML code>} function which removes html tags
(honzam) - pagecache global instance moved to AA::Pagecache()
         - code cleanup
            - better use of singleton (chained method call)
            - unified return types of some functions
18-03-15 - many files are now autoloaded
(honzam)    -code cleanup
            - removed closing php tag
            - removed unused variables and classes
            - fixed function name cases
            - removed wrong css attributes
            - converted some queries safer DB_AA::select()
            - removed short php start tags
            - fixed constants names...
         - better parametter examples in wizard
         - removed old, unused files - no longer needed
18-03-05 - new {twitter} Tweet share button. It requires {generate:HEAD}
(honzam)   in the sitemodule to load scripts
         - new possibility to use inline expressions in {item} - just like
             {item:6625:{(some text {headline........}...etc.)}}
         - reworked Parameter Wizard for Input Types - the parameters are now
           grabbed directly form Widgets
         - Tags input type now uses Widgets for all - live, ajax as well as itemedit
         - better warning Change Slice Id in Optimize actions
         - better check for site module consistency - starting spot found
18-02-28 - fix of {pager} problem - even better
18-02-27 - removed old and unused test.php scripts with possible security risks
18-02-24 - new possibility to get data form current item
(honzam)     {xid:<some aa expression} like {xid:this is my _#NAME____}
               - it is shortcut for {item:{xid}:this is my _#NAME____}
         - new shortcut for right number format in
           {math:<expression>[:<decimals>[:<dec_point_char>:<thousands_char>]]}
           - now you can specify EN or FR instead of <dec_point_char>:<thousands_char>
             which sets correct english SI or european SI formats - just like
             {math:478778:1:.:&#8239;} or {math:478778:1:,:&#8239;}
         - new possibility to add Google Analytics code automaticaly - just fill
           the "Google analytics tracking id" in site setting and use
           {generate:HEAD} and {generate:FOOT} in yor sitemodule code
         - new "Show Datastructure Documentation" possibility
           on AA -> Slice Export page which prints table with fields setting
         - new possibility to specify Code to show in "Info text - output" input type
         - new possibility to specify maxlength of Text Input
         - fix default values for fields filled by aa[] type of form
         - switched form tooltipjs to tippy library for {tooltip:...} - it has
           better setting and do not require jQuery
         - fixed problem with parsing {xflag}, {xlang}, {xpage} and pager
         - better contentcache for internal caching
         -fix for php 7.2 (AA not yet tested in PHP 7.2)
17-12-14 - removed live_checkbox.php3 - no longer used - we use {live} widgets
(honzam)   for all Live Checkbox - even f_k, now (which do not use live_checkbox.php3)
17-12-11 - fixed multiple text field live widget - allows delete of last text, now
(honzam) - another fixes for php 7.1 - fixed last bits - RSS feeds, Alerts,
           {dictionary:...}
         - fix site module for old sites, which was based on private control file
           but derived for AA_Router_Seo - {xseo1}... is emptyf for root /, which
           is correct, fot "{xseo1}
17-11-23 - replaced old $sess->url() with better StataUrl()
(honzam) - removing session $sess variable, where not necessary
         - fixed view caching, when no related slice is found
           (so the cache for the view wasn't invalidated on site change)
17-11-20 - new css/aa-system.css - all system and widgets css - mostly autoloaded
(honzam)
17-11-08 - fixed {generate:HEAD} when working with different versions of libs
(honzam)   on the page (mainly for jslib)
17-11-07 - AA now works well with PHP 7.1
(honzam) - new {range} - returns human readable ranges
            {range:2008-2009-2010-2011} - 2008-2011
            {range:1-4-5-6}             - 1, 4-6
            {range:{@year............:-}}
            {range:_#this}
         - {mail:...} now supports attachments:
             {mail:1:test@ecn.cz:test mail:{view:24}:utf-8:actionapps@ecn.cz:::::["https#://test.org/img1.png","https#://test.org/img2.png"]}
             {mail:1:test@ecn.cz:test mail:Hi, I am body of mail:utf-8:actionapps@ecn.cz:::::{@file............:json}}
         - new {lang} - better than {xlang} - returns always valid lang code
           - not only in sitemodule
         - new {tooltip:myinfoicon:<b>My tip</b><br>tip text} which creates
           popup tooltip. All the JS libraries are automaticaly loaded. You must
           be using {generate:HEAD} and {generate:FOOT} in your site module!
           We may replace the JS by another one with the same functionality in
           the future, so do not count on the exact library in the code.
           The {tooltip} code will remain functional, however.
         - better AA finder - first searchfield looks for all - items, slices...
17-11-07 - new Code editor widget - HTML with syntax highlight using CodeMirror
(honzam)   js library
         - new {updateitem:<long_item_id>[:<field_1>:<new_value_1>:<field_2>:<new_value_2>:...]}
             - updates item fields
           It works only on slices where "Allow anonymous editing of items" is
           set to "All items", right now.
           The plan is to work with field permissions in future.
             {updateitem:c239cb267837a25b4efb5892ca4f4324:headline........:test item:category........:["enviro","social"]}
             - c239cb267837a25b4efb5892ca4f4324 is ID of the updated item.
           The values could be single (for headline........), or multiple
             - written in JSON format.
           If you want to update the item conditionaly just do not fill <long_item_id>
           in cases you do not want update.
           Returns <long_item_id> if updated, nothing if item is not updated' include/grabber.class.php3
         - new {editfull:} - the same as {edit} but also with labels
         - many {aa commands} registers its used libraries in order
           {generate:HEAD} and {generate:FOOT} can include the libs automaticaly,
           when used in sitemodule
         - new <bin> parameter to {item:<ids>:<content>:<delim>:<top>:<bottom>:<bins>}
           which allows to use data from other bins than ACTIVE
           - the format is dash separated bins: ACTIVE-HOLDING-TRASH
         - added codemirror and ACE JS libraries
           (experimentaly - ACE will be probably removed)
         - better Bulk email sending. Now AA can send email to much more users
           (>1000), because we using ToExecute queue not only for sending emails,
           but also for its generation
         - fix AA for PHP 7.1
         - experimental syntax highlight for Admin->Fulltext using Codemirror
         - experimental syntax highlight for aliases in Admin->Field - Edit
           using ACE editor (will be replaced by Codemirror, probably)
         - Anonymous form wizard uses {generate:HEAD} and {generate:FOOT}.
           However, still uses older filler approach with v... variables and
           not aa[][].... It is on TODO
         - js prepared for automatical item inline editig using sitemodule,
           {partdiv} and AA_Toolbox
         - fixed HTML code for Admin->Task Manager
         - fixed broken Slice Import
         - removed MAX_RELATED_COUNT
         - improved a bit HTML and CSS of admin pages
         - widget generator for fields use common functions internaly
         - fixed problem with module deletion when some of the tables do not exists
         - more informations on Admin-> User Profile settings
         - fixed object edit - there is no more missing column
         - views no longer displays expired items when no
           "Show content of expired items" in slice is set
         - cleanup - using more vanilla JS instead of prototype.js
         - small changes and typos
17-09-12 - new operators for conditions - CONTAIN and BEGIN which are like LIKE
(honzam)   and RLIKE, but better - characters -*?_%'\ are treated as normal
           characters so you can search for them. It do not allow OR, AND, NOT.
         - even better fix of previous fix of numeric queries (floats allowed)
17-09-10 - fixed previous fix with numeric searches - now we count with all
(honzam)   cases (some numeric searches was broken from last update 17-09-08)
17-09-08 - fixed problem of creation of new AA system user when Readers uses
(honzam)   numeric usernames
         - fixed "Export to file" in AA UI - the column names was not shown
           in some cases and encodings
         - fixed CSS in AA - aa-system.css was not loaded in the AA UI
17-08-15 - fixed bug with assigning user to empty group
(honzam) - optimaization - module property obtained by right method with
           checking for valid module
         - fixed AA_DB::sql making WHERE - NULL values are OK, now
17-08-02 - fixed validation bug, so dates now could be older than 1970 again
(honzam) - added fontawesome 4.7 for {require:css-fontawesome}
         - improved {expandable:} - shorted text is clickable
         - AA UI - longer field for Field Name in Admin -> Fields
17-05-26 - the all_fields constant could be used also in conditions with
(honzam)   relations:
             d-all_fields@relation........-LIKE-mystring
           which searches all fields in the item related through
           relation........ field
         - new {tableexport:.xlsexportable} which creates "Export to XLSX"
           button on the table specified by selector. All the JS libraries are
           automaticaly loaded. You must using {generate:HEAD} and {generate:FOOT}
           in your site module, of course.
           We may replace the JS by another with the same functionality in the
           future, so do not count on the exact library in the code.
           The {tableexport} code will remain functional, however.
         - new parameters <limit> and <add> for
             {sort:<values>[:<order-type>[:<unique>[:<delimiter>[:<limit>[:<add>]]]]}
           so you are able to limit number of results directly in sort and also
           add some text, if the number of results is higher, than limit.
           The <add> text is added just like the last item, so it is also
           delimited by delimiter
         - css styles in {require} now also supports SRI hashes (integrity=...)
         - {require} now better detects CSS vs JS includes, so the you can use
           something like xxx.css?v=22 for CSS in {require}
         - {require} now could work with alternative scripts, so if you use
           {editable} for example, which will include ckeditor scripts in the
           page and also aajslib. If aa-jslib@1 (the prototype.js based one)
           is already required by {require:aa-jslib@1}, then it do not include
           the default (latest) version (aa-jslib@2) - the one using jQuery
         - new exprimental {require:vue-test} used for vue.js debugging
           (probably will be switched to another dev/production switch in future)
         - aajslib.php used internaly instead of php3 one - aajslib.php3
           (which should be the same)
         - dirname(__FILE__) replaced by quicker __DIR__ variable
17-05-16 - {editable} now automaticaly include all the scripts needed for CKeditor
(honzam)   if you place {generate:HEAD} in the <head> and {generate:FOOT} just
           before the </body> of the sitemodule HTML code
         - {require:} now allows custom .css and .js, just like:
             {require:/css/my.css}
           or
             {require:https#://cdn.jsdelivr.net/js-xlsx/0.9.12/xlsx.min.js}
           {require} also allows to multirequire in one command:
             {require:["vue@2","aa-jslib@1"]}
         - textareas in object editor (site aliases editor,...) is bigger,
           if already contain longer text
         - irregular alerts now can be invoked by slice editor (not only superadmin)
         - {manager} now works with jquery version of aajslib-jquery.js
17-05-10 - new Slice Admin -> History manager - allows to return back the user
(honzam)   changes in items
         - new "User login databases" site setting - perm_mode:
             1 - first Reader Management slice listed in Uses slices
                 (encouraged option) - only the people from this slice is
                 allowed to login to public pages
             2 - all Reader Management slices listed in Uses slices
             3 - AA + all Reader Management slices in AA (old - default option)
         - AA Finder - when searched by Search and Replace the link to item edit
           is shown
         - new {generate:HEAD} and {generate:FOOT} commands, which works
           together with {require:<jslib>:<script-to-run>}.
           Generate commands should be places in sitemodule - HEAD in header,
           FOOT before </body> tag. In the HEAD and FOOT then AA dynamicaly
           generates all JS libraries, CSS and scripts needed for current page
         - {require:<library>[:<js-to-run>]} - dynamicaly adds the js <library>
           to the page (to {generate:HEAD}) and runs (on DOMContentLoaded) the
           script <js-to-run> placed in {generate:FOOT}.
           So if you place both {generate:..} commands to sitemodule, you can
           place for example following command to any place in the page
           (even the for just one item):
             {require:lightgallery:{- lightGallery(document.getElementById("userform"), { "selector": ".lightgallery" });}}
           this command adds lightgallery.js lib to the head and runs the command
           on document load.
           {require} also manages dependencies, so it includes also css (if needed)
           and for example jquery (if needed). Currently supported scripts are
            - lightgallery     - latest version of lightgallery.js library
            - lightgallery@1,  - latest version of lightgallery.js library from 1.x.x row
            - jquery           - latest version of jquery.js library
            - jquery@3         - latest version of jquery.js library from 3.x.x row
           The scripts we will update to latest versions. The libraries are now
           hardcoded in stringexpand.php. They are loaded from cdn.jsdelivr.net CDN,
           right now and uses SRI (integrity) attribute, so it is safe to load it this way.
         - new {header:json}, {header:csv}, {header:utf-8},
             {header:filename:<name-of-file>} HTTP headers options available
         - view now supports "Show content of expired items" slice setting
         - the SQL queries uses more readable notation of packed ids 0xe345ea564b
           whereever possible
         - item SQL search in AA now uses INNER JOIN instead of LEFT JOIN,
           where it is safe (which should be quicker)
         - fix for Chrome 57 which do not allow to send HTML in POST request
           sometimes (ERR_BLOCKED_BY_XSS_AUDITOR)
         - better debug output - f_* functions are watched as well
         - improved czech translation of manager
         - old prototip.js library used with prototype.js is updated from 1.1.0
           to last version 2.2.5. But I would recommend to use more modern
           jQuery with other tooltip solution
17-05-10 - new type of Alerts type "irregular" - best for irregular Newsletters.
(honzam)   You will probably call it by Button in admin interface - the
           newsletter is then send to all Readers with confirmed e-mail and
           howoften field set to "irregular".
           The button could be set as:
             if (confirm('Send?')) {
               AA_Response('Alertitem', { "item_id":"{id..............}", "collection_id":"sQjwa"}, function(responseText) {
                 alert('sent mails'+responseText);
               });}
           or for testing:
             if (confirm('Send test?')) {
               AA_Response('Alertitem', { "item_id":"{id..............}", "collection_id":"sQjwa", "test_email":"test@actionapps.org"}, function(responseText) {
                 alert('sent mails'+responseText);
               } );}
         - views of any type uses the same universal caching code, now
         - dirname(__FILE__) replaced by quicker __DIR__ variable
         - fixes in polls module - fixed language encoding
         - the SQL queries uses more readable notation of packed ids 0xe345ea564b...
17-03-27 - unalias refactoring - now it is cleaner and more extensible:
(honzam)     AA_Stringexpand::unalias -> AA::Stringexpander()->unalias
         - new {manager} <mode> parameter which edit features presented
             'N' - new
             'D' - delete
             '-' - no manage (just view)
           default is all possible
           {manager:<slice>:<relation-field>:<item>:<code>[:<conds>[:<sort>[:<mode>]]]}
         - better {ajax} default display
         - slice.php3 no longer displays items in holding bin or trash
         - fix for PHP 5.3
17-03-16 - new "im" option in
(honzam)   {img:_#this:w=168&h=127&zc=1:im:_#HEADLINE:width=168 height=127}
           which do not checks exact image size (so it is a much quicker)
         - fixed err_url for public page login (it was used even if login was OK
           in some cases)
         - {ajax:..} widget improved - better default size and autofocus
         - CKEditor (HTMLarea) better title atribute
         - better and quicker item deletion
           (removed tracks also from hit archive, ...)
17-02-07 - more accurate slice delele
(honzam) - added placeholder text as help for AA search
         - fix for setup - do not check active_sessions table, which is
           no longer necessary
         - small change do not use global $sess for session if not necessary
         - the config.php3 file is now on ignore list in SVN in order it could
           be ignored during comits and diffs. As the base of config.php3 you
           can use newely created config.php3.default
17-02-03 - {ajax} widgets are now rendered above the the document, so it looks
(honzam)   like dialog window and do not change ocuppied space. It looks way
           better, now
         - item search in AA admin interface searches not only for item ID, but
             - it can find ID in the string (like url, ...)
             - it searches for multiple id in the string
             - it searches also for exact match of any seo string
         - better default field setting for the fields defined by slice
         - fix the AA to still work with PHP 5.3
         - fix for new {userinfo:<user_id>:logintime}
         - unified MySQL access to db_mysql using mysqli approach
         - cleaned javascripts from old code (Netscape 4 support,...)
         - fixed bug in site creation array() error
         - storing items is cleaner - no longer uses global varset and
           itemvarset variables
17-01-29 - new {userinfo:<user_id>:logintime} and {userinfo:<user_id>:logintimes}
(honzam)   function - displays timestamp of last login (for logintime) or dash
           separated list of last login times of the user specified by his ID
           You can display the times for example by:
             {foreach:{userinfo:{user:id}:logintimes}:{(<br>{date:j.n.y H#:i:_#1} )} }
         - {protectmail:<email>[:<text>]} no longer uses deprecated
           document.write() function, so it do not block page rendering
         - {math:..} accepts numbers in scientific notation - 2.15E10
         - fixed {text2html:...} - better url parsing
         - you can use _#loop alias as reference to {foreach:..} loop variable:
             {foreach:val1-val2:<p>_#loop</p>:-:<br>}
           so it do not colide with _#1 in other expressions:
             {foreach:2011-2012:{(<span {ifeq:_#loop:{qs:year}:class="active"}>_#loop</span>)}}
16-12-29 - new possibility to sort items in view by alias instead of fields,
(honzam)   but it could be very slow (computed for all the possible items in
           the view), so use fields sorting whereever possible
         - new "Show content of pending items" option - it is useful for
           the cases, you want to see prepared item before the publication
         - fixed problem with lost login session but username did not expire
         - optimized permission queries - do not ask for non defined groups
         - better parsing of queries with dash or apostrophe
         - fixed character conversion when source or destination encoding
           is not specified
         - optimized SQL query to get multiple items
         - fixed database access problem for mailman group sync
16-12-27 - Slice defined fields now finished and works. You can assign special
(honzam)   slice (Slice Admin -> Slice -> Fields defined by another slice) to
           any other slice, where you specify the fields for the slice. Instead
           of defining the fields on Slice Admin -> Fields, you will define it
           as items in special slice.
           The priority of the fields is then defined by _#FLD_PRI_ alias,
           name by _#FLD_NAME, helptext by _#FLD_HELP, default value by _#FLD_DEFA,
           required/not required by _#FLD_REQ_, widget type by _#FLD_TYPE and
           _#FLD_PARM, validator by _#FLD_VALI, insert function by _#FLD_INS_,
           show/not show by _#FLD_SHOW and text stored/numeric by _#FLD_STOR.
           With this feature it is possible to let user to create public forms
           with its own fioelds just by let him insert the item to special
           "fields" slice
         - new {colonescape:val1} - escapes colon as internaly used in AA.
           It is special case function - more internal one:
              {colonescape:_#this}  - 16:45  -->  16#:45
         - fixed poblem with lost login session after 3 hours
         - fixed toexecute cron tasks. now runs smoother (do not run infinitely)
         - fixed view.php3 to work with wrong slice ids again
           (it skips wrong slice ids)
         - fixed - debug url param now works for cron.php3 in php >5.3
         - fixed problem of filler - undefined query() for special cases
16-11-21 - new parameter <code> in {redirect:<url>[:<code>]} - default is 301
(honzam)   (Moved Permanently);
         - {rotator} better switches between pictures (for both - onclick and
           onmouseover
         - optimize AA to run behind a proxy
         - better validation - validators are unified and uses the same code for
           all codepaths
         - optimized for speed
16-11-21 - new (experimental - so the code could be changed)
(honzam)     {manager:<slice>:<relation-field>:<item>:<code>[:<conds>[:<sort>]]}
             - quite powerfull for managing of related items. Works great for
           manging the related item to the edited one - my_item <-- photos,
           where photos have relation........ field which points to item.
           Then you can manage the photos using
             {manager:45d43f4d567dd8a9f459aa51576a6ce2:relation........:{id..............}:_#ROW_EDIT}.
           The _#ROW_EDIT is then code in photos slice to be displayed for each
           photo - could contain {live} edits, ... It allows you also to add new
           photo with instant redraw.
         - any site module page is able to serve aa[..].. requests for item
           insert/update. If called by AJAX, then only the changed part of the
           page should be refreshed (now works in new {manager:...} block).
         - new {inintersect:<mainset>:<compare-set-1>:<output-1>:<compare-set-2>:<output-2>:...:<else>}
            - equivalent to:
               {ifset:{intersect:SetMember1-SetMember2-SetMember3:SetMember2-SetMember4}:..}
            - example:
               {ifintersect:{_#P_RIGHTS}:{_#MY_ROLES}:Access granted:Access denied}
         - new possibility to block editing of {ajax::} commands by deffining
           AA_FLAG_NOEDIT variable {define:AA_FLAG_NOEDIT:1}. If you set the
           AA_FLAG_NOEDIT before the {ajax} is called, then the ajax editing is
           disabled for the rest of the page
         - the <input type="number"> are now displayed with bertter default
           width (based on min, max and size values)
         - better support of {editable} editing with multiple languages - the
           value for translated {editable} is stored just to current language
         - better save-icon placing in {live::}
         - quicker SQL for {ids:....} where limit is applied - we use LIMIT
           in SQL there
         - fixed problem with short time of needed relogin
         - beter long_id validity check
         - is_numeric check replaced by more accurate ctype_digit check
         - fix for backward compatibility with PHP 5.3
         - better tmp filenames generation
         - removed old AA_Modules interface in favor of AA_Module
16-11-02 - password generation as well as password check now uses standard php
(honzam)   functions for php>=5.5
         - the salt for password is generated in more secure way even for
           php<5.5
         - the sql_update.php is more secure
           (all above fixes are based on Gert Steenssens's security
           observations. Thanks Gert.)
         - the expiration time of the session now respects AA_LOGIN_TIMEOUT or
           is 200 minutes as was previously
           (gc_maxlifetime increased, so it do not expire after 40 minutes)
         - doc and demo directories of the phpThumb library is not necessary to
           have in our repository - deleted (could be possible security risk)
16-10-28 - new {xajax} variable in Sitemodule, which is = 1 if the site module
(honzam)   is called as ajax call. Now you can switch site module tree by this
           variable.
           Sometimes you need to call some view as ajax call. You can do that by
           calling /apc-aa/view.php3, but in this case you lost {xlang} and
           other site module variuables. Now you can for example create slice
           with such views as items and call them by ajax as /en/page-with-view
         - better page caching - now we use Etag and Last-Modified headers and
           if the content is not modified, we are sendning 304 Not modified
           header. It saves bandwith mainly when used with reverse proxies.
         - better support for inline editing with CKEditor - save script now in
           aajslib
         - better handling of logins
         - better handling of aliases - now we have one code path for handling
           them
         - form.php3 now respects slice encoding
         - code clean-up
         - discussion.php3 is now cahced the same way as view or site
16-10-14 - cleaned a bit sess/auth system - no active_state database table in
(honzam)   use, so removed related code
         - older Slice settings moved to its own section on Admin -> Slice page
         - new "Show content of expired items" option on slice setting page
           AA now trying to prevent displaying data from expired/trashed items,
           even if you have item id. Sometimes you want to show such items - for
           expired events in slice of events, for example. In such case just
           check checkbox on Admin -> Slice.
           Generaly we do not want to show data from not active items, however
         - fulltext settings is not mandatory, now
16-10-05 - THIS VERSION IS USED ON PRODUCTION SERVER AGAIN
(honzam) - all parts of AA moved to AA_Session, which is based on $_SESSION
           of php5. The main change is, that external AA login to pages uses
           the same credentials and AA_Auth so only one login is needed
           for public pages as well as AA. If you need seperated logins, open
           anonymous window in browser
         - new recompute field transform function (for bulk item change), which
           just recomputes selected field
         - new {edit:{_#ITEM_ID_}:headline........} - Allows on-line editing of
           field content -
             {edit:{_#ITEM_ID_}:headline........:::{"name":"Project name","input_help":"fill in the project name","row_count":"10"}}
         - new placeholder parameter to
             {editable:<item_id>:<field_id>:<placeholder-text>}
         - new posibility to mix old v303136.. type of item form with the newer
           approach with aa[u..][], so we will be able to use widgets on old
           itemedit. That means that we no longer need to have two versions
           of the same widget in formutil.php and widget.class.php
           It will be used mainly for new widgets like Related Item Manager
         - much better debug=255 output - displays summary for each function
           as well as call tree. The value 255 is binary filter where each bit
           represents specific debugtime output
         - removed debugtimes url option - use debug=2 or debug=4 or debug=255..
           The number behaves as bit-field, where you can show only specific
           part of debug messages. If you want all messages and times, use =255
         - initial commit of Related Item Manager input type - modern version
           of Related Item Window
         - conversion of encodings moved to much! quicker iconv PHP function
           and other speed optimalization based on new debugtime possibilities
         - new possibility to search and replace through all AA database
           in AA menu. Will you be carefull, OK?
         - fixed conversion utf-8 to ascii for cz lang
         - fixed sitemodule caching: pages are not cached when user is logged in
         - fixed filebrowser of CKEditor integration with new sessions
         - fix problem with early debug call
         - better working with https sites
         - database calls are unified (or at least more unified)
         - last classes are moved to __construct required by PHP7
         - fixed database problem when upgrade Links module in some cases
         - updated textDiff to last version
16-10-04 - allow specify "-- any text field --" as condition for view.php3
(honzam) - new {livesearch:<viev_param>[:<placeholder>[:<dafault_phrase>]]}
           Displays live search (search field and the list of matching articles)
           on html page. Requires jQuery and aajslib-jquery.php. Usage:
             {livesearch:3650}
             {livesearch:3650:search...:DoNotDisplayAnythingByDefault}
             {livesearch:3650&cmd[3650]=c-1-%22AA_LS_QUERY%22-2-publications:search for pubs...}
           <view_param>  - just view ID or whole view parameters. If whole
             parameters used, then you have to use AA_LS_QUERY constant on the
             place, where you want to put search phrase
           <placeholder> - placeholder text to search field
           <default>     - the phrase to search if the search field is empty.
             It is not necessary to fill it, if you want to see first
             the results by defaut. You can put there some nonsence value,
             if you want to see the item list empty by default
         - allow subscript and superscript buttons in CKEditor
         - fixed http / https validation for input type url
         - fixed link to alert modules from AA admin left menu
         - new debug function warn which logs program backtrack (for AA programmers)
         - jquery updated to 3.1.1
16-08-22 - CKeditor upgraded to 4.5.10
(honzam)   - allowed justify, undo
           - content filter is turn off
         - fix page scroller in slice.php3 to not use sessions
           Sessions in slice.php3 is not working when called as SSI (PHP5 style
           sessions do not allow to use sessions in SSI directly). The sessions
           in slice.php3 is not needed for most of the sites. The slice.php3 is
           no longer used for new sites (modern sites are built with site.php3
           in AA), so we will try to not write special workaround for
           the slice.php3 sites which using sessions. But if you need it, just
           let us know.
         - better sizing of {ajax:...} widgets
         - fixed parsing of multiline {alias:...}
         - fixed character encoding for cached view.php3
         - fixed problem with apostrophs in Related Item Window input type
         - use system tmp directory for phpThumb cache
         - site module webs work behind proxy
         - jQuery updated from 3.0.0 to 3.1.0
16-06-30 - THIS VERSION IS USED ON PRODUCTION SERVER AGAIN
(honzam) - new experimental feature to allow "Fields defined by items" in slice
            - you can use special slice for additional fields definition.
            There is slice option, where you can write IDs of items, which
            defines the fields, or better something like
              {ids:ac4940d37d6601ce969dc9a7e41826fc}.
            Could be used for data slice, which stores values for user created
            forms.
         - new possibility for item delimiter - jsonasoc. It creates
           JSON asociative array (object) using -> operator - just like:
             {item:{@relation........:-}:_#KEY_____->_#VALUE___:jsonasoc}
           It could be used for creation of JSON properties for {input} widget
           properties, for example
         - profile links in slice permission settings now displays number
           of added rules for that profile (if any)
         - fix AJAX calls, buggy links, filler, redirection - all broken with
           switch to new php5+ session management
         - fixed validators and right input types (size/maxlength) for widgets
         - speedup of admin pages rendering by:
            - async + defer cached javascript load
            - removal of document.write() for cached js
         - fixed sitemodule behavior for domain.org/?... links
16-06-19 - new possibility to extend sitemodule usage by redirecting all
(honzam)   request to AA (excluding existing files like img, css), so you can
           set the Appache like:
             RewriteEngine on
             RewriteRule ^$ /apc-aa/modules/site/site.php3 [L,QSA]
             RewriteCond %{REQUEST_FILENAME} !-f
             RewriteCond %{REQUEST_FILENAME} !-d
             RewriteRule ^ /apc-aa/modules/site/site.php3 [L,QSA]
           The requests for non existing files and dirs are redirected to AA, so
           there we can handle NotFound page, as well as sitemap.xml, robots.txt
           etc. in future. There are three importatnt settings in the sitemodule
           for this: "Page not Found (404)", "Languages on website" and "URL".
           All should be filled if you want to use upper method. Url allows AA
           to find the sitemodule to be called, Languages shoud list all the
           languages used in the sitemodue, and 404 defines the reaction to
           "Not Found" item.
         - new sitemodule options:
            - Languages on website - list of used languages (see above)
            - Page not Found (404) - how to handle Not found page (see above)
            - HTML code for "Page not Found" - used in conjunstion with 404
            - sitemap.xml alias - not implemented, yet
            - Permission alias - not implemented, yet
            - HTML code for "Login page" - not implemented, yet
         - new {rotator} possibility to display switching dots or headlines
           using last parameterli_code:
             {rotator:{ids:fee40b67dfd922cebb39bb3d2060f5c3:::::4}:_#ARTICLEO::::o}
         - new {jsonasoc:key1:val1:key2:val2:...} which creates JSON object
         - improved JSON calls - better conversion to utf8
         - new possibility to display hit statistic not only for "days",
           "months", "years", but also for  "dayhours", "weeks" and "weekdays":
             {hitcounter:weeks:24457-24474}
         - new typesize parameter: {fileinfo:{file............}:typesize}
            - returns &nbsp;<span class="fileinfo"> [TXT, 3kB]</span>
         - new {internal:class_name:params} - internal AA possibility, how to
           inject text form internal class to Manager item view (like in Planned
           Task for sheduled time). It returns output of class->internal_expand() method.
         - better https support - the scripts, ... are called through https,
           wherever possible
         - CKEditor now uses filemanager for images and files
         - fixed bug in Related Item Window input type - editing of newly added
           related items works
         - easier duplicate of the field in the same slice - (this) slice is
           on the top of the list
         - No need to add current AA in the central if we want to copy the
           slice/site there. The copy to the same AA is now much quicker. The
           Ids of the slices/sites/alerts are changed, now, during the copy,
           so new slices will not share the same Id with the source.
         - new Never default value for Date field - Never, i.e. maximum date
         - new possibility of slice - Automatic field creation - If checked,
           slice allows storing values to text....* field, even if the
           appropriate text....* is not defined in the slice. The field will be
           created using field text............ as template.
         - a bit improved input types - added <label> tag for radio and checkbox,
           Textfield can use placeholder, numeric uses number input, the size
           of textfield is modified for short texts, ...
         - debug outputs now uses browser console
         - Planned Tasks now shows currently sheduled time of the task and next time
         - more information about each object in taskmanager
         - jQuery 3.0.0 now included in sitemodule Admin, which allows use mode
           widgets. jQuery is bundled in AA, now in javascript dir
         - new Regexp validator
         - (js)view.php3 is now cached and handles character set better.
         - all widget parameters conerted to standard - shared - params. All
           are parsed the same way, internaly
         - character encoder class is autoloaded, when is needed
         - fixes for php5 type session handling
16-06-15 - AA COULD NOT BE PRODUCTION READY right now from svn (still)
(honzam) - more standard modules - delete and other actions of polls, alerts,
           links  ... are based on the same base
         - improved deletion of module records/items
         - new default value for date fields - "Never, i.e. maximum date"
           - fills current maximum date, (2037-12-31) which is treated as never
           - will be increased in future, probably
         - default relative value for date now checks max date boundary value
           and in such case fills the maximum allowed value
         - updated list of registered TLD domains
         - removed definition of unused tables mysql_auth_*
         - new version of select command which is good for multivalues
           DB_AA::select(array("id"=>"+other"), "SELECT id,other FROM `change`")
             -> [[id1=>[other1a,other1b], [id2=>[other2]], ...]
         - where clausule of DB::select now works also with bitfields
16-04-14 - AA COULD NOT BE PRODUCTION READY right now from svn
(honzam) - quite big internal change - phplib session system switched to
           standard $_SESSIONs. With this change we also have to switch to
           cookies based sessions, so the AA_CP_Session is no longer in URL. For
           this reason we do can not to store slice_id/module_id in the sessions
           - so we have to put it in URL all the time in admin interface. This
           is long awaited and good change - this allow us to be logged once and
           work with different modules/slices. It also brings more security and
           allows also to use image uploader in wywsiwyg editor (later)
         - url safe base64 encoding used for base64 data passed by url
         - started rewrite of communication with external AAs - trying to avoid
           storing remote credentials in AA
         - better variable protection in grabber (private/protected)
         - e-mail notification and Planned task reaction to "NEW_ITEM" could be
           used wit password protected slices, now
         - Linkchecker now supprots https sites
         - new experimental Optimize funct - Change current module ID to new one
         - new {jsonarray:<text>:<delimiter>} which returns JSON array form text
           where values are delimited by $delimiter ("-" by default)
         - new possibility to generate {sequence} as JSON array
           (use "json" as delimiter)
16-04-06 - new possibility to stop SPAM when posting comments to discussion
(honzam)   based on stop-phrases, which you can fill in the keywords........
           field in "IP banned" slice - see _ip_banned...... slice field.
           keywords........ could be multi-field
           The stop-phrases are searched in all text fields of discussions and
           we are looking for exact match of whole phrase somewhere inside
           the posted texts. If the phrase is found, the _msg_spam....... is
           displayed and the comment is not stored.
16-02-01 - two Boxes widget now uses Multiple checkbox widget as fallback
(honzam)   (in {ajax} and {live})
         - new operators in Manager (and any other searches in AA):
             REGEXP - match (RegExp),
             NOTREGEXP - not match (RegExp),
             ISMAIL - is e-mail,
             NOTMAIL - not e-mail
         - improved a bit "Save & preview" in Item edit - now works with
           _#SEO_URL_ if definned. There is still problem with mixed content
           problem - http vs. https, however
         - better default html for Related selection wondow widget
         - fixed bug in "Show users" for mass item actions - the html design is
           remembered correctly
         - fix "MySQL server has gone away" problem, when the script computes
           something too long (Alerts sending) and then tries to use database
           (for logs, ...). AA now tries to reconnect the database once.
         - internal changes in manager searchfield constants names
         - more usage of 0x6a46a6a7b9.. hexadecimal notation for MySQL instead
           of packing ids to binary (no db change, just the SQL notation which
           is easier to read and debug)
         - small changes, speedups and fixes (php7, ...)
16-01-22 - fixed problem with backward compatibility with PHP 5.3 and PHP 5.4
(honzam) - {treestring:<ids>:...} now accepts list of root ids instead of just
           single id. Could be used for menu generator, for example:
             <nav>
               <ul>
                 {itree:
                   {treestring:{ids:b485d20843c0afe29d3e9ce773195635:d-relation........-ISNULL-1-switch.........1-=-0:number..........}::1:number..........}:
                   <li id="menu-_#SEO_____">_#MENULINK<ul>:
                   <li id="menu-_#SEO_____">_#MENULINK</li>::</ul></li>
                 }
               </ul>
             </nav>'
         - improved {shorten:..} removed trims spaces, when shortened, so the
           additional text (say "...") is placed just atfer the text
         - new {base64:text} for encoding the string to standard base64. I would
           recommend to use rather {bin2url:..} and {url2bin:..} which uses
           base64url variant of base64 which is friendly for url
16-01-21 - much improved AA pagecache - the cache for sitemodule page now knows,
(honzam)   which slices was used during its generation, so only changes in those
           slices deletes the cache for the page and not the changes in any
           slice mentioned in sitemodule, as it was previously
         - new SEO Name item insert function which comutes the SEO name from
           _#HEADLINE alias (or another if specified), so you no longer need
           to copy expression for computed field
         - you can use aliases in ok_url parameter to filler.php3 which is then
           computed from the (first) inserted item. It is better to use extra #
           in it, in order it is not expanded when the form is displayed:
             use _##ITEM_ID_ instead of _#ITEM_ID_, ...
         - new {bin2url:Moj} and reverse {url2bin:...} could be used for
           transfering binary data as URL parameter (base64url encoding used)
             example: id={bin2url:{encrypt:{id..............}:password}}
         - new parameter "url" in {encrypt} and {decrypt}, which produces the
           string usable as url parameter:
             {encrypt:text:passwd:url}, {decrypt:encryptedtext:passwd:url}
         - {live} now works also with Multiple text field
         - fixed {ajax} with field for file upload when user are not logged.
           Responder now works for not logged users.
         - call view from AJAX no longer adds convertto paramer - view check it
           automaticaly, if called uding AJAX
         - fixed check for empty values in {date:..} - older dates than 1970
           are no longer considered empty
         - better default help texts for default fields (mainly empty texts
           used, _#UNDEFINE alies removed, ...)
         - AA_Message('some message', 'info') and AA_Toolbar(text) now
           implemented also for jQuery aajslib-jquery
         - last fixes for running on PHP7
         - optimized database access - no global $db, reduced the number
           of necessary database connection for the page, mailnly the one served
           from AA pagecache
         - optimized includes - only necessary files are included - mainly
           for pages served from AA pagecache
         - simplified session handling in preparison to switch to standard $_SESSIONs
15-12-28 - AA now works with PHP7, tested on production server already
(honzam) - new {editable:<item_id>:<field_id>} allows on-line editing of field
           content in HTML Editor (CKEditor) (aajslib.php required at this
           moment - the jquery version will be soon)
         - improved {ajax} and {input:...} command - now you can redefine not
           only widget type, but also field name, helptext and other widget
           parameters like rows, ...:
             {input:36fd8c4501d7a8b9e9505dc323d24321:headline........:::{"name":"Project name","input_help":"fill in the project name","row_count":"10"}}
           you can also specify, to which item the field belongs in case you are
           filling more than one item at once:
             {input:36fd8c4501d7a8b9e9505dc323d24321:text..........23:::::2}
             - generates aa[n2_...] instead of aa[n1_...], ...
         - you can define widget type and set its properties also for
             {ajax:<item>:<field>:<alias>:<onsucces>:<widget-type>:<widget-properties>}
         - new {aggregate:filter_contain:<ids>:_#SOME_ALS:OK} which returns only
           <ids> containing OK in evaluater _#SOME_ALS
         - new optional parametr <operator> for
           {filter:<ids>:<expression>:<equeals>:<operator>} which could be
           "contain", so the filter is not on equal, but on substring
         - fixed bug (path to mail.php) in mailform autogenerator - now works:
             {mailform:<to>:<subject>:<html-inputs>:<body>:<ok-text>:<lang>:<from>}
         - fixed {header:...} - now sends good character encoding for 404 HTTP
           status
         - new {formedit:<form-id>:<item-id>} - displays ajax editing form for the item
         - new possibility to group items in view by "all characters before ~ character"
         - new possibility to restrict max_characters for textarea widget
         - text Field widget allows display of textarea(s) when you specify
           the (new) Rows parameter
         - fixed problem with wrong language used
         - better parsing of JSON values - used standard parsing when possible
         - slice export now allows export also unpublished items
           (in holding bin and trash bin)
         - you can use {var:aa_event_for} variable in Planned Tasks which holds
           the item-id of modified of inserted item
           (in case the Task is reaction to ADD of UPDATE item event)
         - new experimental possibility to analyze field content and display
           some statistics on "Slice Admin -> Fields"
         - better external authentication (for ajax/filler) - unused AA_Uid removed from cookies
         - phpThumb used for {img:...} resizing,... updated to latest version compatible with PHP7
         - fixed compatibility with PHP7 - all ereg* replaced with preg*
         - new AA_Message(text, type) js function which displays html message
           in "popup". Types are [text]|err|ok|info. It loads necessary AA css
           automaticaly
         - new AA_Toolbar(text) js function - similar to AA_Message() but
           displayed on the bottom
         - new AA_LoadCss(), AA_LoadJs() for dynamic CSS and JS loading from
           javascript
         - improved a bit look of Admin interface for admin-ecn style
         - the output of view.php3 and site.php3 is automaticaly converted
           to utf-8 if called from AJAX (which you always need). No need to add
           convertto=utf-8 parameter
         - better display of history of item on AA -> Finder
15-12-07 - fixed bug with sitemodue caching with different site modules on the
(honzam)   same ulr (mobile version through ModRewrite)
         - automatic conversion to utf-8, when sitemodule is called by AJAX
           (SERVER[HTTP_X_REQUESTED_WITH] == xmlhttprequest
15-11-12 - fixed bug with polls administration - no polls shown
(honzam)
15-08-27 - fixed logout function for sitemodules client authentication - now
(honzam)   works also with multidomain logins (see change 15-07-13)
         - better sortorder and serchfieds presets in AA -> Log and
           AA -> Sheduled Tasks
15-08-26 - each Planned Task is now executed under the slice, in which the Task was created, so you can use it for {newitem} in those slices
(honzam) - new possibility to display AA -> Scheduled Tasks which is currently planned for execution
         - the length of admin pages with the listings of database tables or objects is increased to 100 items by default
         - fix for new CKEditor' include/formutil.php3
15-08-25 - CKEditor used as WYSIWYG editor insted of Xinha
(honzam) - new {newitem:<template_long_item_id>[:<field_1>:<new_value_1>:<field_2>:<new_value_2>:...]}
           which creates new item. The new item  it is based on template item,
           which is normal item which you can put in HoldingBin/TrashBin... and
           the default values for the new item is taken from the item except
           seo............. and status_code...... fields
           Then you can modify the field values for the new item:
             {newitem:c239cb267837a25b4efb5892ca4f4324:headline........:test item:category........:["enviro","social"]}
           c239cb267837a25b4efb5892ca4f4324 is ID on template item
           The values could be single (for headline........), or multiple -
           written in JSON format.
         - new parameter <delimiter> for {sequence:<min>:<max>:<step>:<delimiter>}
           which could change deafault json output
         - new parameters "width" and "max characters" for "Multiple text field"
           widget
         - AA tries to fix some administrators mistakes so we accept also
           &gt; and &lt; (and its combinations) as operator for conditions like
             d-publish_date....-&gt;=-{timestamp:2015-08-15}
         - date operator modifiers (d,e,m) now could be written without ":"
           in order you can skip escaping, so d:> could be d> ...
         - new Transformation "Fill by exact values" which returns values
           exactly as specified (no evaluation, ...) - used internaly for for
           {newitem:...} at this moment through AA\IO\Saver API
         - {_:...} aliases could be deleted through admin interface (Site Module -> Aliases)
         - new possibility to search for seo............. value in AA -> Find;
         - better - tabled - output for found item in AA -> Find
         - nicer look of Tasks,... admin page/table
         - AA now supports PHP 5.6.x
         - the sitemodule for {_:...} aliases is found even if called through /apc-aa/view.php3
         - new pagecache approach which holds also headers and decoded the item
           to count hit, so the page could be server quicker if found in cache
         - move to AA_Module_Site site module repository
         - move AA_Slices to AA_Slice for standard module repository
15-07-13 - new possibility to authenticate to the second domain -
(honzam)   the central/setcookie.php3 is the blank pixel script, which can be
           used for authentication to another domain if you are already logged
           in one - just include folowing HTML code to sitemodule of example-one.org:
            <img src="//www.example-two.org/apc-aa/central/setcookie.php?s={cookie:AA_Sess}">
           this will set the auth cookie in example-two.org.
15-06-30 - new possibility to define reaction to events
(honzam)     "New Item", "Item Updated".
           It is done by Admin -> Planned Tasks. You can send mails by {mail:..},
           recount some fields by {recount:...} etc. You can also specify, if
           the task should be done directly, or it should be planed for future
           (by specifying "+ seconds" parameter)
         - new "Condition" field in Planned Tasks where you can specify
           the Condition for which the task is performed
         - nicer admin interface of Planned Tasks
         - -- any text field -- search is the default for the Item Manager
         - more powerfull interface for AA -> Find
         - better searching for related item in widgets (try harder to find item
           for filled item, even if the item no longer matches filters)
         - fixed searchbar in item manager for fields using numeric constants
         - fixed object search, so Planned task, logs, site aliases are now
           searchable in admin interface
         - pagecache is valid just for one domain (there are sites, where
           content is based also on domain name
             - enviro.example.org, culture.example.org, ... )
         - the length of Login timeout is now configurable by AA_LOGIN_TIMEOUT
           (in minutes) constant (default 200 minutes). Just add following line
           to config.php3:
             define("AA_LOGIN_TIMEOUT", 60);  // one hour
         - updated phplib,
         - speed optimalization
15-05-22 - new <persistent-id> parameter in
(honzam)   {htmltoggle:<toggle1>:<text1>:<toggle2>:<text2>[:<position>][:<persistent-id>]}
             - if provided <persistent-id> identifier ([a-z-]*), the toggle
             state will be persistent between page loads;
         - new {sortid:<number>} -  usefull for sorting numbers in text mode.
           The string is based on number and the length, so it creates B1 from 1,
           C10 from 10, C89 from 89, and E2458 from 2458
         - fixed "Update & Edit" - now works well with fileuploads, ...
         - fixed ajax editing for translated multilingual fields
         - better support for multilingual translation widgets (text field, text area)
         - improved standard form html (just a little)
         - fixed Related Item Selection (there was bug with some characters)
         - fixed Item Manager - do not display wrong page after items deletion
         - fixed Export items feature in Item Manager - now works with items
           in all bins (Trash, Holding,...)
         - improved Rotator (fix for 1 slide only)
         - better character conversion to ascii (for seo ...)
15-02-19 - new {validate} function - when used in ItemManager or any other view
(honzam)   for items, shows current validation report for the fields in the item
           (whether all fields matches the field type - mails, ...).
           If everything is ok, then prints nothing.
           It is in experimental state - the output format is subject to change.
15-02-12 - translated field - if not translated, use default language of the module include/item_content.php3
(honzam) - new parameters speed and efect for
             {rotator:<item-ids>:<html-code>:<interval>:<speed>,<effect>}
               - speed  = ""|slow|fast
               - effect = ""|fade
15-01-22 - home page setting of Site module now can contain some logic
(honzam)   like: {ifin:{server:SERVER_NAME}:czechweb.cz:/cz/home:/en/home}
         - no site module created problem fixed
         - new possibility to also remove specific value form field via
             aa[r<item_id>] with filler (similar to aa[i...], aa[u...])
         - nicer and better aligned [+] and [-] images for expandable, htmltoggle
         - improved multilingual field content - fixes
         - updated aajslib-jquery to have be more compatible with aajslib.php
           - added AA_GalleryGoto()
14-12-16 - new _#VIEW_C1_, _#VIEW_C2_, _#VIEW_C3_, _#VIEW_C4_, ... _#VIEW_Cnn
(honzam)   aliases usable inside views representing current value of conditon
           1, 2, ...
         - new {avatar:<img_url>:[<person_name>]:[<avatar-size>]} which return
           avatar img or colored div with initials - usage:
            <div class=dis-avatar>{avatar:{img_url.........}:{_#HEADLINE}}</div>
         - new {sortstring:<shortitem_id>[:<relation_field>]} - returns string
           usefull for sorting the tree of items. The string is based on
           the short_ids, so if the branch of current item 35897 is
           2458-15878-35897, then the string will be E2458F15878F35897, which
           works well for ordering the tree
         - translation is usable also with standard "Text field" widget - not
           only textarea
         - f_h, _#this and direct field output like in {headline........} works
           better with translations
         - test emails in selectbox on Alerts - Send Page are sorted
14-11-04 - now you can refer not only to first inserted item in ok_url
(honzam)   of filler.php3, but also to second, ...
             - you can use also _#N1_ID___, _#N2_ID___,.., _#N245_ID___, ...
             - the ids goes from N1, 2, 3..  in order of filling in the database
               and DO NOT correspond with nXXX in aa[n100_536366d6ee723][..]
             - there are new ids as well as updated (aa[u6376353533...])
                 - the new ones goes first, then updated ones
14-10-29 - AA -> Edit User now allows editing of permissions for all users including the ines from Reader Slice
(honzam) - main Site Module file site.php3 could be called without site_id parameter, now. The id of the site is then searched using current domain user requested and Url field in Site Module Settings
         - {modulefield:<slice_id>:property} now allows to get url, when requested in property parameter
         - {expandable:<some text>} now do not need second parameter length, which defaults to 49
         - the error picture for live checkbox added (it is for older - f_k implementation, not the newest using {live::} which do not use pictures)
         - mailman synchronization functionality was rewritten - now uses more standard approach
         - the date widget allows you to not fill the date, if the date field is not required - now also for {live} and {ajax}
         - fixed problem when session expires in AA admin and you are forced to relogin - the correct page after login is now displayed, not the initial one (url parameters fixed)
         - fixed user self setting in AA
         - metabase files synchronized
14-09-23 - CSS cleanup
(honzam) - PHP code cleanup based on static analysis of PHPStorm
14-09-11 - reduction of database connections in AA
(honzam) - rotator now uses slide UP/DOWN
         - optimized debug output to browser console using ?debug=c
         - improved javascript escaping functions
14-09-02 - SEO sitemodule now better handles the homeages for different
(honzam)   languages - you can use example.org/cz url and it points to cz
           version of "start" page, if the home is set as /en/start
           in the sitemodule
         - better sorting parameter for view - now you can specify the sortorder
           with multiple columns just like:
             set[]=sort-category.......1+publish_date....-headline........
             (+ and - means sortorder; + is default)
         - prototype javascript library updated to latest version 1.7.2
         - prototype verion of AA js library (aajslib.php3) now allows the same
           parameters for AA_SendWidgetLive funcion than the jquery counterpart
14-06-12 - new possibility to disable adding new comments to discussion
(honzam)   see Slice Admin -> Fulltext -> "New comments disabled"
         - RSS import better works with encoding. It also deals well with XML
           starting with BOM mark
         - in dictionary feture with replacing the word with link (or another
           string) now we do not count "&" as the word delimiter. It allows us
           to disable the substitution by adding &nbsp; or even better &zwnj;
           character to the word - like: gender&zwnj;
         - fixed DOC/PDF/.. convertors, if configured
         - improved jsview.php3 - script for inserting views in the page using
           javascript. Now is working also with <script> tag inside the view.
         - display more informations in field mapping (field ID)
         - fixed variables quoting in CSV import
         - fix possible source of SQL injections - zids are better checked when
           the values is entered in
         - fixed perm LDAP
14-06-06 - fix for PHP < 5.5
14-05-05 - new possibility to specify in site settings the another "Additional
(honzam)   Aliases Sites" from which will be {_:Alias} aliases taken, so you can
           share {_:..} aliases in all your sites
         - translation slice is now fully configurable, so you can use
           {tr:text...} for translation of static texts in the site.
           If you want to use it, you should
             1) create translation slice, which is normal slice with
                headline........ field set as "Allow translation"
             2) specify the languages, in which you want to translate the slice
                in Slice Setting (en, es, cz, ... for example)
             3) set the Translate Slice in Site module settings
             4) Use {tr:some text in en} anywhere in your site module. For every
                such text is created Item in the translation slice (after first
                display on screen), so you can then translate the text.
                The right lang version is used for each phrase based on {xlang}
                (example.com/es/page)
         - sitemodule allows to store additional setting - at this moment
           Translate slice and Sites for Additional aliases and more in future
14-05-04 - improved CSS for {live..} and other components
(honzam) - generalized Modules settings
         - fixed problem with HTML/Plain text settings for translated fields
         - small changes and fixes
14-04-19 - new translation environment - still exprerimental. I will describe
(honzam)   it after we finish it
         - better handling of selectboxes with requiered value - empty option
           displayed only when no value is present and is unselectable
         - {text2html} now converts urls to links
         - new {replace:pattern:string:text} - replaces string using regular
           expressions>
             {replace:<!-- .* -->::{full_text.......}}
         - new possibility to get matching XML or HTML code from {xpath} - just
           use XML as third parameter:
             {xpath:{include:http#://example.cz/list.html}://div [@id="wantedTable"]//table:XML};
         - view speedup - fixed problem with views, where the listlen is set
           too high - it took ages to finish. Now fixed.
         - prototype.js updated to 1.7.1
         - better integer validation in forms' include/validate.php3
14-03-25 - fix sliceexport after last changes
(honzam)
14-03-23 - {cookie} without any parameter gives you list of all cookies
(honzam) - added (in more cases) external url link to input widget, when
           the value contains url
         - use email input in write e-mail instead of input text
         - fixed rewritten code for php 5.3
14-03-05 - fix problem with wrong static class
(honzam)
14-03-03 - new {path:<item_id>[:<relation_field>]}
(honzam)   returns dash separated long ids of subitems items based on the
           relations between items
14-03-02 - default malues could be Multivalue.
(honzam)   All default value code was moved to AA_Generator code
         - PHP code simplified using PHP 5.3 features (late static binding, ...)
         - better design of managers
14-02-20 - fixed Admin -> Item Manager setting - profiles problem fixed
(honzam)
14-02-19 - rewritten permission system to be more secure and allows easier
(honzam)   addition of another authentication - not only SQL, LDAP and Reader
           Slice
         - nicer up and down arrows in widgets
         - better DB_AA::sql database manipulation functions
         - some queries rewritten to newer DB_AA::select(), approach
         - removed old and unmaintained permission files
14-01-31 - security fix - update recommended
(honzam)   (thanks for report to Gert Steenssens)
         - better design of ObjectManager in AA - Planned Tasks... '
         - all widgets which holds URL now shows clickable link icon [/]
         - with {ajax} and {live} you are now able to select another widget
           instead of the predefined one
         - MySQL database handler switched from MySQL to MySQLi
         - fixed problem with multivalues
13-12-27 - fixed problem, when the first slice listed in "Used slices"
(honzam)   in sitemodule setting do not have seo......... field. Now it is order
           independent
13-12-05 - fixed User edit - there was bug from 13-12-03
(honzam)
13-12-03 - generalized handling of users in different premission systems
(honzam)     - Reader slice, SQL, LDAP and its combination - users are searched
               in both systems - Reader and SQL, ... for user management
         - {substr:} now works well for UTF websites
         - {unique:<ids>} now works well also if <ids> are in JSON
         - fixed handling of corrupted items in database (duplicated values)
             - we read it as not duplicated, now
         - fixed sql_update and install under PHP 5.5
         - fixed font definition in admin-ecn.css
13-11-26 - fixed {ajax} when used with TEXTAREA - the ENTER key not do not
(honzam)   submits the input
13-11-19 - new profiler code, which measure the time spent on each of the AA
(honzam)   expression type - just add &debugtime=1 to your url (works
           in sitemodule as well as in view)
         - fixed number and date validation - the negative numbers and dates
           older than 1970 are accepted
         - improved cache for AA expressions so the pages shoud be a bit faster
         - slightly improved html code for page scroller
         - updated spanish translation
13-11-15 - multiple Checkboxes widget is much improved (it lists the selected
(honzam)   values on top an you can also uncheck it from there)
         - file upload widget used in {ajax} and {live} works better - there is
           no editable uploaded url, but there is button for delete
           of the value, ...
         - you can specify the widget_type in {live} command and redefine
           the default widget for the field
         - Text Field widget containing URL now shows the icon for jump
           to this URL
         - new f_1 alias function now could be selected in alias definition.
           It prints always the only first value of field (even if it is
           multivalue).
         - site module slices used for caching could be selected in sitemodule
           configuration field also for older type of sitemodule (the one which
           use state file). The $slices4cache is no longer necessary there.
           It has no impact for new type of sitemodule (SEO), where it is used
           as default.
         - {seo.............} field is always displayed as single value, even if
           it is stored as multivalue in the database (which is probably mistake)
           {qs} now allows abstract also the array variables posted to the script
             - just like
             {qs:aa[n1000_3130303132312d726d2d7361736f762d][con_email_______][]}
           The variable must be written exactly as it is in QUERY_STRING
           in the URL
         - fix for {recompute} which may lead to doubling the values (create multivalue)
         - small fix for select widget - empty options is not selected
         - AA search now searches also email notify fields during slice search
         - better texts for password recovery in Czech
13-10-08 - date widget now alows set the date older than 1970
(honzam) - view definition is now stored to history, so it will be possible
           to return to older state of view.
           At this moment is there no admin interface for the go back in history
         - update database structure in metabase (small changes - indexes...)
         - {safe:text} prevents double double_encode already encoded entities
           (like &amp;quote;) - as oposite to {htmlspecialchars}
         - SetCookie() javascript function now accepts also the time
           SetCookie(name, value, plustime)
13-09-02 - Planned Task interface now have "extra time offset" for planning - now
(honzam)   it is possible to plan events also on 20th of the month, which was
           hard or impossible without this new paramater
         - fix for images transformed by {img:} command when sended by e-mail
         - aditional fixes for PHP 5.5
13-08-07 - AA works on PHP 5.5 now
(honzam) - {mail:...} now allows to send also CC and BCC
         - better mail handling - first two mails in the script are sent
           directly - not through toexecute queue - better UX
         - new {text2html:<text>} which converts plain text to the html.
           Usasable mainly with {mail:...} function, which accepts only HTML
           formated mails as message body
         - file upload ajax and live widgets now allows to delete (remove link)
           to the file
         - Planned tasks are now rescheduled, when the task is changed
         - the UI for Planned Task list is improved
         - fixed problem with unique user validation - now works
         - fixed problem http / https image links which was reported as unsecure
13-08-01 - {header} could be used as {header:404} and now also {header:xml}
(honzam)   which returns right http header for xml - Content-Type: text/xml
         - recursion detection on AA expressions - now the execution is stoped,
           when the script reaches 5000 step in deep during evaluation
           (cycles in relation........ fields, ...) and displays the message:
             Error: recursion detected
           However - the webserver do not give you 500 Internal server error
         - fixed {str_replace} when replacing by empty values:
               {str_replace:[";-)",";-("]:["",""]:we do not like smiles ;-(}
         - fixed {javascript...} escapes also end of lines
13-07-25 - search bar phrase in Item Manager is no longer restricted to 255
(honzam)   characters only
         - AA_Ajax() javascript function in prototypejs version obtain the same
           fourth parameter - onload function - as in jQuery version of the library
         - {item} now allows to get results in JSON if the "json" keyword is
           used as delimiter parameter
         - Email template TYPE is displayed on the Email templates page
         - fixed problem with slice creation when Register Globals PHP directive
           is set to Off
         - the passwords and usernames are not wrongly autocompleted on tha User
           Edit page
13-07-23 - better html code also for {scroller} - see {pager} css styling below
(honzam) - fixed {live} widget for <select>s - update status on better place
13-07-08 - new mode "3" for {shorten}, which shorten the text in the middle
(honzam)   with ... (good for file-paths, ...)
         - {options} now accepts key-value pairs in JSON form for the options,
           where value and text is different - like
             {options:[[1,"January"],[2,"Feb"],[3,"March"]]:7}
         - new "required" parameter for {input:slice-id:field-id:required}
           displaying the new input widget
         - better HTML code for password change widget
         - fixed images included in the email, when recoded with img.php - now
           it is added correctly in the mail
         - better html code for {pager}s (could be better styled with CSS)
           The example of good style for the <div id="pager">{pager}</div> is:
             #pager            { clear: both; text-align: right; }
             #pager a, #pager span.active { background-color: #545454;
                color: #000000; font-size: 1.1em; font-weight: 700;
                margin: 0 3px; padding: 1px 5px;}
             #pager span.active { background-color: #FFFFFF; }
             #pager a:hover     { background-color: #999999; }
             #pager .delimiter  { display: none; }
         - Multiple Checkboxes widget now allows specify the maximum height
           of the widget - if it if bigger, the inner scroller is displayed
         - the conditions for {ids:...} and other places uses heuristics
           to destinguish if the conditions are url encoded or not. It allows
           you to omit the second parameter "1"
           in the {conds:category........:1} expression
         - test emails are sent immediately - not stored in the cache
13-05-06 - new possibility to customize Password change e-mail. You need just
(honzam)   to define the "password change" type of email template for the Reader
           Slice
         - new posibility to use "Silent" CSV import - without recomputing the
           computed firld and lastedit field rewriting - it is quicker, than
           non-Silent import of course
         - sitemodule uses better language detection and also uses
           *_lang_output.php3 files, which is better
         - File Upload widget now contains link to filled external url
         - e-mail templates could belong to any slice - not only Alerts
         - better time limit for Optimize scripts
         - new PDO database access added (not used, not tested, yet)
13-04-23 - fixed problem with the change of packed ids representation in queries
(honzam)   (we are starting to use 0x15784a4b4e... instead of packed ids in SQL)
         - fixed problem with required FileUpload field, where text was required
         - the sitemodule displays content of item in active, expired and pending
           bins, if you know the exact url (pending was re-added, now)
13-04-19 - new possibility to create email templates for (Bulk) emails sended
(honzam)   to Readers manualy - just create the 'user template' email template
           in the Reader slice and you will be able to select it
         - new possibility to predefine homepage in seo sitemodule settings
           (the url, which will be displayed, if user do not specify any page)" modules/site/modedit.php3
         - new 'Export to file' itemmanager action for selected fields, which
           will export the items to XLS format (human formated)
         - constant selection in searchbar now uses the values as defined in the
           field, so you can use also related items there.
         - multiple checkboxes widget is scrollable automaticaly, for long list
           of options
         - update database structure Optimize action now highlights
           the differences in the output after you click on Test button
         - added Slovak and German language files with UTF-8 encoding
         - fix {math} - better decimals handling
         - fix laguage handling in views called from sitemodule
         - fixes in searching - better look for unexisting fields
13-04-11 - new Module Settings -> Aliases page, where you can create site-module
(honzam)   specific alias functions. It is replacement of STRINGEXPAND_SHORTCUTS
           global variable, which was could be defined in custom stringexpand
           file and now is not recommended (but still work).
           This is quite powerfull feature, since now you can define also
           parameters for the aliases - so you get some kind of "functions".
           The aliases could be called as
             {_:Alias_name:parameters}
           parameters inside the alias code are in order _#P1, _#P2, ...
           For example
             {_:Message_box:Update successfull:green}
           could be deffined like as
             <div class=mybox style="color:_#P2">_#P1</div>
         - new possibility to write {xseo:1} {xseo:2} instead of {xseo1}
           and {xseo2}. It is for compatibility with {xid:1}, {xid:2}.
           The new way is {xseo:1} preffered, but the old one works as well
         - {xseo} gives you just the first id, if more than one matches
         - new {index:<field-id>[:<index>]} - which returns the value
           at position <index> for multivalue fields,
             {index:category........}  - return first value
         - {ajax:...} widgets now reacts on Enter and Esc with jQuery version
           of scripts; AA_Refresh javascript function now refreshes the id using
           the data-aa-url attribute - if that attribute is not present, finds
           the first up in the DOM
         - new experimental {form:<formid>} which displays the form defined
           in AA Admin interface - first version - will be improved
         - you can switch off grouping in the view by the parameter
             {view:45::group_by-}
         - you can specify restict the slices, from which you want to see item
           ids in tree
         - new "Convert database engine to InnoDB" optimize action which
           converts older MyISAM database storage engine to InnoDB for all tables
         - new Optimize task "Backup tables" which deletes all the current
           backup tables (bck_slice, bck_item, ...) and copies there live tables
           (slice, item, ...)
         - links to views in AA Admin interface under the textareas now
           recognizes also {view:xy} syntax
         - fixed internal usage of floating points/commas in AA - we use point
           inside AA for all internal function, even in Czech lang, where we
           would normaly use comma
         - improved Planned tasks and toexecute functionality - better prevention
           for not running the same task twice - even for long running tasks
         - fixed html mail sending - the images linked through <a href="">
           is not included in the mail, which is correct
         - you can specify the max length of textarea
         - optimized database access
         - removed unused Console and PhpQuickProfiler
13-04-10 - fix - the seo sitemodule now displays only item active and expired
(honzam) - fix - convert filters from pdf, odt, doc, docx works, if configured
13-04-06 - new manager action - duplicate item in the slice
(honzam) - other fixes
13-01-07 - new {file2text:{file............}} - reads the content of the DOC,
(honzam)   DOCX, PDF or ODT file in the string. You can use it for searching
           in the file content - store the content in the field by Computed
           field and the search in this field
         - cache disabled for aajslib.php3 - there we use $_GET['sess_id'], so
           the content varies - it is uncecheable
         - fixed password check for older SQL perms
12-12-10 - new Input type Tags - for easy filling relation in the field
(honzam)   By this Input Type you can select current keywords from remote slice,
           and also add new keywords, which is then written to the remote slice.
           All works as standard item relations in AA.
           Used "select2" library, which use jQuery. Just include
           /apc-aa/javascript/aajslib-jquery.php in your pages - all is loaded
           dynamicaly after the first usage
           Not working inside AA admin interface, yet (there we use normal
           relation field)
         - {tagcloud:<item_ids>[:<count>[:<alias>[:<count_field>]]]} - Creates
           tag cloud from the items.
            <item_ids>    - dash separated list of ids of all keywords (tags)
            <count>       - maximum number of displayed keywords (all by default)
            <alias>       - The AA expression used for each keyword (_#HEADLINK used as default)
            <count_field> - The id of the field, where you already have the number
                            of usage precounted. It is very good idea,to have such
                            field - in other case the counts must be countedon every
                            usage. The count could be counted automaticaly
                            in the field by using "Computed field for INSERT/UPDATE"
                            with the parameter "_#BACKLINK:_#BACKLINK::day", where
                            alias _#BACKLINK could be definned as
                              {count:{backlinks:{id..............}::-}}
                            or say
                              {count:{ids:1450a615da76cae02493aac79e129da9:d-relation........-=-{id..............}}}
           Usage:
             {tagcloud:{ids:02e34dc7f9da6473fc84ad662dfe53a}}
             {tagcloud:{ids:02e34dc7f9da6473fc84ad662dfe53a}:20}
             {tagcloud:{ids:02e34dc7f9da6473fc84ad662dfe53a::headline........}::<i>_#HEADLINK</i>}
             {tagcloud:{ids:02e34dc7f9da6473fc84ad662dfe53a::headline........}::headline........:computed_num....}
           The resulting HTML code is like:
             <ul class="tagcloud">
               <li class="tagcloud3">Curso</li>
               <li class="tagcloud1">Palabra</li>
               <li class="tagcloud6">Poetry</li>
             </ul>
           The <li>s are marked in its class by the importance (number of use) so you
           can set style them. There are 8 classes tagcloud1 - tagcloud8.
           The styles could by:
             <style type="text/css">
               ul.tagcloud li.tagcloud1 { font-size: 1.8em; font-weight: 800; }
               ul.tagcloud li.tagcloud2 { font-size: 1.6em; font-weight: 700; }
               ul.tagcloud li.tagcloud3 { font-size: 1.4em; font-weight: 600; }
               ul.tagcloud li.tagcloud4 { font-size: 1.2em; font-weight: 500; }
               ul.tagcloud li.tagcloud5 { font-size: 1.0em; font-weight: 400; }
               ul.tagcloud li.tagcloud6 { font-size: 0.9em; font-weight: 300; }
               ul.tagcloud li.tagcloud7 { font-size: 0.8em; font-weight: 200; }
               ul.tagcloud li.tagcloud8 { font-size: 0.7em; font-weight: 100; }
               ul.tagcloud              { padding: 2px; line-height: 3em; text-align: center; margin: 0; }
               ul.tagcloud li           { display: inline; padding: 0px; }
             </style>
           Thanks to Adam Sanchez (and of course Colnodo for sponsoring - like
           all the changes today or last time)
         - {recompute:ids[:fields]} - in the command for recomputing computed
           fields in specified item now is able to specify only specific field
           for recomputing.
         - {backlinks:{id..............}::-} - if you do not need to get related
           item ids in specific order, use dash in search parameter (it is
           quicker for database)
         - E-mail notifications now sends the email with Sender configured
           in config.php3 as the Sender ALERTS_EMAIL
         - thumnail are generated with higher quality
         - new functions for loading JS and CSS dynamicaly
         -
12-11-18 - new possibility to specify only subset of fields, which you want
(honzam)   to export with Admin -> Export to file.
           Works for stored exports only, right now.
           You can export fields or any other AA expression (like alias...)
         - new behavior of grouping in view - now works well with multivalue
           fields, which means, that the same item could be displayed in more
           than one group. For the possibility to display current group
           in the view, we added also new view alias _#GRP_NAME which contain
           the value of current group we are displaying
           at this moment it works only for grouping by group_by parameter of view
         - the passwords are now stored using more secure blowfish algorithm.
           All is backward compatible - old passwords will be working without
           any change
         - new Multiple Text field widget for ajax, live and internal AA object
           editing (like File Export setting)
         - the field with multivalue shows the values separated by comma
           by default in {ajax...} not only the first value
         - fix - ajax changing passwords now works well
         - fix password problem - password disappeared, when you edit
           the Reader item
         - fix of ajax upload funtion - the alias displayed from uploaded file
           is now showed correctly after the upload
         - fix the password field in AA admin - it was displayed as normal text
           field
         - fix unalias - sometimes give empty results (empty spots in site, ...)
           because of setting of preg_replace_callback
         - {pwdcrypt} now uses stronger password hashing (blowfish) - the same
           as for user passwords.
         - fixed {foreach} - there was typo, delimiter parameter did not work
         - widgets and reset password function now uses correct language, based
           on the site setting.
         - fix - the user id UID is deleted from cookies, when you login with
           wrong credentials
         - debug functions returns true, so you can stack like:
             AA::$debug && AA::$dbg->info("OK") && exit;
12-11-16 - more Spanish translations (Thanks to Csar Arango - Colnodo)
(honzam)
12-11-12 - fix of Modify Content funtion in item manager - the HTML5 validation
(honzam)   (the required checking) brokes this code a bit
12-10-31 - edited_by field is set correctly for {ajax} and {live} changes
(honzam)
12-10-29 - {foreach} now is able to pass parameter inside AA expression by _##1:
(honzam)     {foreach:2011-2012:
               <li>
                <a href="?year=_#1" {ifeq:_##1:{qs:year}:class="active"}>_#1</a>
               </li>
             }
         - <input ...> in AA standard form now also uses some HTML5 attributes
         - sitemodule uses better language file
         - fix {ajax} when used with jQuery
         - fixed ajax Upload widget
12-10-28 - new posibility to search in related slice using
(honzam)   publish_date....@relation.......2 syntax constuct:
             {ids:a0ca2..3ac85:d-category........@relation.......1-RLIKE-Envi}
             - search in category field of all related items
               (relation.......1 field pointed to related items)
           This syntax could be used in any conditions in AA
         - phpThumb upgraded to newest verion 1.7.11
         - new Optimize function - testing if relation between slices are OK
           (without x or y chars on the begining if related item stored in the
           database)
         - logins are now logged
         - help text is not shown for {live} widgets
12-09-26 - new {input:<slice_id>:<field_id>}, which prints the widget for
(honzam)   the input in the form. The same HTML code you will get with (new)
           command {field:<field_id>:<slice_id>:widget_new}
         - new easiest way to find new seoname within all slices in the module:
             {seoname:{_#HEADLINE}:all}
         - new {recompute:<item-ids>} is the command to recompute all the
           computed fields for specified item ids. You can put it in other
           computed field in related slice, for example, if you want there
           recompute the number of links or whatever
         - new possibility to use "min" and "max" functions in {aggregate:...}
         - new {string2id:<string>} which generates some id for specified
           string. The ID is always the same for the same string, which is
           sometimes good for importing the data into AA - mailny when you need
           to make some hierarchy of the items
         - new possibility to change user password just by
           {ajax:{_#ITEM_ID_}:password........:change password}. The widget with
           the fields for old password and new one is then displayed and allows
           you to change the password.
         - new possibility to store provided password to another field
           and possibly crypt it by your password (highly recommended) - all by
           parameters of Input function Password set on Field setting page
         - help texts for the field are now displayed on the widget displayed by
           {ajax} and {live}. You can hide it by css - div.aa-help if you do not
           want to be shown
         - new filename parameter to view.php3 to allow download the view as file
             https://example.org/apc-aa/view.php3?vid=30&filename=test.xls
           You can combine with paramater contenttype, if necessary.
         - The Input function and Validate function is set automaticaly
           (and correctly) if you use slice relation in Admin - Fields - Edit
           (on save)
         - fixed live selectbox behavior, when used as required - the empty
           option is displayed as default for not filled field
         - fixed {htmltogglecss} when used with jquery (and aajslib-jquery.php)
         - started to use new debug functions
         - fixed validation of empty values for relational fields
         - fixed {xuser} in ajax widgets settings now works well
12-09-21 - {array:<name>:set:...} now could be used with empty index
(honzam)   it adds new member to the array - the same as in php arr_var[] = "..."
         - new view.php3 parameter group_by which allows you to change
           the group by field of view:
              view.php3?vid=24&cmd[24]=d-...&set[24]=group_by-category........
         - new possibility to use {pager} to work on views called by AJAX
           (for live searches, ...). Just put the parameter "div-id" to pager:
             {pager:resuts}
           where result is the div id, in which the view dispays the values
             <div id="results">..viev output there</div>
         - now you can specify the time of next execution for Planned Tasks
           (so now finaly are usefull). It uses strtotime(), so you can use
           strings like "Monday 6:00" - see strtotime in php manual.
         - better encoding detection for slice (solves utf-8 problem)
12-09-06 - new {rotator:<item-ids>:<html-code>:<interval>} which rotates on one
(honzam)   place in the page different contents (divs) with specified interval
            {rotator:<item-ids>:<html-code>:<interval>}
            {rotator:{ids:a24657bf895242c762607714dd91ed1e}:_#FOTO_S__<div>_#HEADLINE</div>}
         - new javascript function AA_Rotator() which is used internaly for {rotator}
           but could be used separately as well:
           - rotates the element - hide/show .rot-hide, add/remove class
             "active" for .rot-active. Called as:
                 <div id="mydiv">
                   <span class="rot-hide">A</span>
                   <span class="rot-hide">B</span>
                   <span class="rot-hide">C</span>
                 </div>
                 <script>
                   AA_Rotator('mydiv', 2000, 3);
                 </script>
         - new {lastdisc:<item-id>[:<count_item_itself>]} expression, which
           returns the time of last discussion comment on specified item
           - we use it for displaying the box with five most recently commented
             items:
             {item:{limit:{order:{ids:9887a8a0ca2ab74691a5b41a485453ac}:_#LASTDISC:rnumeric}:0:5}:
                {(
                    <tr>
                      <td><a href="_#SEO_URL_?all_ids=1">_#HEADLINE</a> </td>
                      <td><a href="_#SEO_URL_?all_ids=1#disc">_#D_APPCNT</a></td>
                      <td>{date:j.n.y:{_#LASTDISC}}</td>
                    </tr>
                )}
             }
           - the _#LASTDISC alias is in this case {lastdisc:{id..............}}
         - {fulltext:<item-ids>} now accepts more than one item id
         - new "link" option for {fileinfo:{file............}:link}
           - dispalys the link to the file in html, witch the file type and size
           - the same as {filelink:{file............}}
         - most parameters in AA expressions are now trimmed (removed spaces and
           newlines at the start and end of each parameter), so you can split it
           to more rows
         - removed deprecated (and sometimes not usefull) <nobr> tag from
           checkboxes in AA forms
         - better default widgets for the field (mainly for multivalues field)
         - new possibility to sort constants by number of their usage in items
           (on constants administration page)
         - new possibility to use conds=d-switch..........-=-1 form of condition
           with slice.php3
         - new possibility to send Alerts also in "twoweeks" interval - every
           second week
         - Alerts now work well also on slices protected by slice_password
         - debug messages now could go to Console of the browser, if you start
           the debug parameter with letter "c" (like ...view.php3?debug=c)
         - fixed search for constants in Item Manager
         - quote() function now uses better escaping of characters
           in the queries (different for each db engine)
         - small speedup of language translations in mgettext
12-09-04 - new {menu} expression, which prints HTML menu tree for current item.
(honzam)    - designed for SEO sitemodule with "Pages" slice with the relation
              field "Subpage of..."
            - the menu items with empty text is not printed
              (which you can use for not displaying some items)
           {menu:<first-level-item-ids>:<menu-link>:[<relation-field>[:<sort-string>]]}
           submenu for current item:
             {menu:{id..............}:_#MENULINK}
           whole real menu for the Pages slice:
             {menu:{ids:18a352366ea922738348478463536ea5:d-relation........-ISNULL-1:number..........}:_#MENULINK:relation........:number..........}
           Parameters are:
            <first-level-item-ids> - item ids of the menu options on the first level
            <menu-link>            - alias or aa expression which will be printed inside <li></li>
                                   - should be link to the item - _HEADLINK (for example)
                                   - if the resulting code is empty, the menu option is not displayed
                                     (not its submenu), which you can use for not displaying some items
            <relation-field>       - tree relation field (default relation........)
            <sort-string>          - order of tree leaves
           When you are on /en/one/one.2 pge, then the menu then looks like:
               <ul>
                <li id="menu-18a352366ea922738348478463536ea5" class="inpath"> one
                     <ul>
                       <li id="menu-22738348418a352363536ea566ea9784" > one.1 </li>
                       <li id="menu-738348418a38463536ea552366ea9227" class="inpath active"> one.2 </li>
                     </ul>
                 </li>
                 <li id="menu-66ea922738348478463536ea518a3523" > two </li>
               </ul>
           Each <li> contains id="menu-<item_id>" and also class, which indicates,
           if the menu option is "active" or "inpath" to current "active" item
         - improved spanish translation
12-08-29 - new possibility of stored exports. You can define export
(honzam)   to CVS, HTML, XLS on the Admin -> Export file page and then call
           the stored export by id on /export.php?id=... page.
           You can specify the conditions for the export, the bins, the sorting
           and the name of outputfile. In all the settings you can use
           the {AA expressions}, so it is quite easy to make the export with
           changeable conditions (for example if you put
             d-year............-=-{qs:year}
           in the conditions, then you will be able to call it like
             /apc-aa/export.php?id=5357...3e45&year=2012)
         - new (alternative) way, how to check for spam in filler.php3 and
           fillform.php3 - if you send the "respuesta" (by GET or POST), then
           for other two parameters (GET or POST) - varA and varB must be true:
             varA + varB = respuesta (thanks to Alejandro Barrera Gutierrez)
         - new possibility to calculate with modulo "%" operator in {math}
           (thanks to Alejandro Barrera Gutierrez)
         - the expressions in {math} could contain newlines, now.
         - filler.php3 accepts language settings form config.php3
         - new second parameter of {go:<url>[:<html-encode>]} which if set to 1,
           then the resulting ulr is htmlecoded
           (so you can use it directly in <a href=""> tag, for example)
         - fixed {table} with "get" parameter
         - fixed default widget for enumerated properities - selectbox
         - easier way, how to create new manageable objects in AA
           - see AA_Exportsetings for se_export.php or
                 AA_Plannedtask in src/Util/Later/AA_Plannedtask.php, for example
12-08-15 - new paramater for Insert function "Compute INSERT/UPDATE" -
(honzam)   "Recompute every" (minute|hour|day|week|month).
           The field will be recomputed every minute, hour, ... (using UPDATE code).
           The times are not exact - the minute means something 1-10 minutes.
           If not filled, the field will be recomputed only on insert/update
           of the item
         - new {filter:<ids>:<expression>:<equals-to>} - filter ids by expression
           {filter:4785-4478-5789:_#SLICE_ID:879e87a4546abe23879e87a4546abe23}
           returns only ids, which <expression> equals to <equals-to>
           Usualy it is much better to use filtering by database - like you do
           in {ids}, but sometimes it is necessary to filter concrete ids,
           so we use this
         - fix {if} - works well with floating-point numbers, it understands both
           decimal point as well as decimal comma.
           {if} always compares numerically.
         - better permission handling with anonymous insert
12-08-14 - new experimental {array} and {table} syntax
(honzam)
12-07-25 - new Conditional Planned Tasks (Admin -> Planned Tasks)
(honzam) - condition parameter for Input widget Radio, multicheckbox and
           multiselect now could contain AA experssions and aliases
         - {foreach:<values>:<output>:<values-delimiter>:<output-delimiter>}
           - loops through all the <values> and display them formatted
           by <output> one after other:
             {foreach:val1-val2:<p>_#1</p>:-:<br>}
             {foreach:{qs:myfields:-}:{(<td>{_#1}</td>)}}
               fields[] = headline........-year...........1
               - returns <td>Prague<td><td>2012</td>
         - {seqence:num:min:limit:step} - returns sequence of values
           in JSON Array (could be used with {options}, for example:
             {options:{sequence:num:1998:2012}:{date:Y}})
         - {options:<group_id>:<selected>} which generates HTML <option> tags
           now accepts JSON values as well:
             {options:[1,2,5,7]:7}
         - {min} and {max} now accepts the values in JSON form:
             {max:[12,45,8]}
         - {finduniq:<string>:<field_id>:<unique_slices>:<ignore_item_id>}
           returns string (for seo) unique for the slice(s) within the field.
           Numbers are added if the conflict is found
         - new possibility to list multivalues as JSON array:
             {@category........:json}
         - month names are correctly translated in AJAX and Live widgets
         - new Insert function for field - Unique
         - fix - view parameters are handled better
         - fix - view index aliases (_#ITEMINDX, _#PAGEINDX,
           _#GRP_INDX, _#IGRPINDX) for some broken cases
         - fix - validation parameters now better handled
         - Item Sets now handled better - unlimited count for slice, ...
         - AA_Sortorder could be stored as object to the database
         - data transformations moved to its own file
12-07-24 - better item export (Admin -> Export to file)
(honzam)     - charset for HTML export is set correctly
             - the fields could be exported in human readable format
               (dates, relations)
12-07-19 - better HTML5 validation patterns for HTML inputs
(honzam)
12-06-09 - site module manager - you can use different operators for choices
(honzam)   (not only older Regular expressions, but also substring search and "=")
         - fixed {live} and {ajax} editing when used with jQuery - aajslib-jquery.php
           for using jQuery based AA functions use:
             <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
             <script src="/aa/javascript/aajslib-jquery.php"></script>
           on your page
         - improved {live} and {ajax} widget behavior
            - better indication of state (changed, storing, stored icons),
            - better validation (possibility to use min and max values
              for numeric fields, possibility to use pattern for text fields)
            - better input types - follows HTML5 so it naturaly validates inputs
              in modern browsers nad also checks the required fields
            - radio button intupt type is now displayed by {ajax} and {live}
              expressions (so far it was mimicked by selectbox)
         - new option for File Upload input type - "Display URL" - allows
           to hide the url part of the input. The possibilities are:
             0 - show, 1 - show if not empty, 2 - do not show
         - new possibility to display not only field name, but also help text
           and first alias by:
             {field:<field_id>:<property>:<slice_id>}
           where property now could be name, help or alias1
         - new options <required> and <function> for
             {live:<item_id>:<field_id>:<required>:<function>}
             you can explicitly mark the live field as required and also you
             can specify javascript function, which is executed after the widget
             is sumbitted
         - added utf-8 version of Spanish language files.
           It is recomended to use utf-8 encoding in the site.
         - new javascript function usable for ajax form submit:
             AA_SendForm(id, refresh, ok_func)
         - updated permissions check for anonymous post
         - rewritten validation code to be more flexible and to allows HTML5 validation
12-04-19 - AA admin interface - constants edit page displays the count, how
(honzam)   many times each constant is used (exact matches counted only)
         - improved UX of {live} inputs - input now indicates the "unsaved
           state" and "updating" strate (by outline and icons). Works also
           outside of AA - styles are included universaly.
         - better style for {ajax} buttons
         - new javascript console debug mode
         - fixed problem with {live} editing from admin interface
           (AA_Scroller error)
12-04-27 - moved to standard responder approach for ajax widgets in aajslib.php3
(honzam)
12-04-16 - removed custom code from jslib-jquery.php
(honzam)
12-04-12 - new "Set Expiry date to maximum value" optimize function
(honzam)   sets expiry_date to maximum value for items in slices, where
           expiry_date..... field is not shown. It also sets the field's default
           to that value. (fixes suboptimal setting of exiry date in old slices)
         - allow to add polls into site module modules
         - new {mailform:<to>:<subject>:<html-inputs>:<body>:<ok-text>:<lang>:<from>}
           displays form with your own inputs which is after submition send
           to e-mail (uses AJAX)
             Usage:
             {mailform:honza.malik@ecn.cz:test mail:
               note <input name="note"><input type="submit">:
               You posted<br>_#1<br>Regards<br>ActionApps:
               OK sent:utf-8:actionapps@ecn.cz}
         - new {mail:<condition>:<to>:<subject>:<body>:<encoding>:<sender email>}
           which sends the e-mail conditionaly
           be careful - it can send mail on every page load!
             Usage:
             {mail:1:honza.malik@ecn.cz:test mail:{view:24}:utf-8:actionapps@ecn.cz}
         - {str_replace} now accepts the first two parameters in JSON, so you
           can use:
             {str_replace:["","",""]:["c","s","r"]:text esky with accents}
         - discussion comments now have its unique id in HTML - so you can
           #anchor them in url
12-03-23 - fixed problem with multiple checkboxes, when used with slice items
(honzam)   more times in one form
12-03-01 - show item history in menu AA ("Get all informations about the ITEM")
12-01-10 - small fixes and cleanup - alerts, mailman sync, view
(honzam)
12-02-10 - fix - param check for readfile
(honzam)
12-01-11 - AA tested with IPv6 - works without problems
(honzam)
12-01-10 - Computed field for INSERT/UPDATE now allows to store multivalues
(honzam)   There are third parameter - delimiter - which is character
           or string, which will split the computed string into multiple values
           (in the same field)
         - better {live} widget state diasplay - checkboxes are also highlighted
           during saving
         - fixed problem with prototype.js v7.0 and multiple values sent
           by {ajax} or {live}
         - fixed problem with searchbar in AA admin - submiting the form when
           Enter is pressed works now
         - small fixes and cleanup - alerts, mailman sync, view
11-12-29 - new widget "Info text" - just Output
(honzam) - new (default) <mode> (2) for {shorten:<text>:<length>:<mode>:<add>}
           - do not try to find end of paragraph for short texts by default
         - <timestamp> in {date:<format>:<timestamp>} could be also text
           (like: 2011-12-24)
         - new {rss2html:http#://www.ekobydleni.eu/feed/:5}
           - returns HTML listing created from RSS feed on specified URL.
           First 5 items are printed in our example.
         - new possibility to copy profile from another user
         - Regular Expressions Search and Replace in "Modify content..." item
           action
         - czech translation of Polls module
         - removed nocache=invalidate from discussions - no longer needed
         - speed and accuracy optimized _#ALIASSES substitution
11-12-28 - the [+] and [-] shortcut for images in toggle are now possible also
(honzam)   for {expandable}, {htmltogglecss}, ...
11-12-07 - {htmltoggle:<toggle1>:<text1>:<toggle2>:<text2>} now accepts [+] and
(honzam)   [-] strings as shortcut used in <toggle1> or <toggle2> for plus.gif
           and minus.gif
         - fixed {unique} when used with delimiter specified
         - fixed {view:<vid>:-<ids>} when no <ids> specified. If you put there
           dash before <ids> (like in the example above) the view is displayed
           with no items instead of displaying view as if ids are not specified
           at all (which displays all items)
         - more fixes for PHP 5.3
         - the comment with view id (like <!-- 154 -->) is not printed in view,
           when the view do not produces any output
           (so you can test it in {ifset:{view...}})
11-11-26 - you can search in "-- any text field --" or
(honzam)   in "-- any numeric field --" in Item Manager
         - new possibility to delete all discussion comments for the item,
           or delete only hidden or approved (for discussion spam deletion)
         - test bulk email now can be send to multiple emails (comma separated)'
         - new possibility to search in discussions in AA -> AA Finder
         - slice Password can be set not only for selectbox input field, but
           also for multiselectbox, multicheckboxes, radiobutton, and Two Boxes
           input widgets
         - {conds:...} now works also with array values - even in field:
           {conds:category.......1} or in JSON {conds:[val1,val2]}
           - uses OR operator there
         - {dictionary:..} now could work with multiple slices as source
           of keywords
         - {qs} now returns whole querystring if used without any parameter
         - {qs[:<varname>[:delimiter]]} allows to specify delimiter
           (if not specified, the behavior is not changed - JSON is used)
         - The free2 field in discussion holds all Cookies sent by user - allows
           better identify users, mainly with Google Analytics.
           (experimental - format could be changed in future.)
         - bigger timelimit for cron.php3
         - "last changed by" field is set correctly even by ajax modify
         - rows in inputform are visualy better separated in Ecn styles
         - hit statistics is counted more often +/-10 min
         - fixes in calendar view
         - more fixes for PHP 5.3
         - small speed optimalization with MySQL
11-11-26 - prototype.js updated to 1.7
(honzam) - fixed site module interface bug - delete of condion did not work in some cases
         - better filename conversion when uploading file
         - new {backlinks:<item_id>[:<slice_ids>[:<sort>]]}
           returns ids of items which links the item (as relation)
         - new {fieldid:text:1}  - returns text...........1
         - faster e-mail processing
         - the sort order could be specifieed as comma delimited list
           like: category.......1,publish_date....-
           (in field setting as well as aliases,...)
11-10-05 - added icon for ajax editable fields in AA admin interface
(honzam)
11-08-15 - fixed {switch} - broken in last commit 11-08-14
(honzam)
11-08-14 - new {xpath:<XML/HTML string>:<xpath>[:<attribute>[:<delimiter>]]}
(honzam) - returns part of the XML or HTML <string > based on <xpath> query
           - Use as:
             {xpath:{include:http#://example.cz/list.html}://[@id="pict-width"]}
             {xpath:{include:http#://example.cz/list.html}://img[@id="bigpict"]:width}
         - new {facebook:<url>} - prints facebook "I like" button for the url
         - new {if:<condition>:<operator>:<test-value1>:<output1>:<test-value2>:<output2>:<default>}
           - used as:
             {if:{_#IMGCOUNT}:>:10:big:6:medium:small}
           - condition expressions similar to {ifeq:...
           - operators are: >, >=, gt, ge, =, ==, eq, <, <=, lt, le, <>, !=
         - new experimental {changepwd:<reader_slice_id>}
           - will manage all tasks needed for change of pwd in site module
           - just put it in the code
           - not finished - needs the config options for the printed messages
         - more clear setting, how the data fot the field is stored - if in text
           or number column - see Admin -> Fields -> Edit
         - new "remove duplicates" optimalization for the items - removes
           duplicate values in the field - see AA -> Optimize
         - mailman Readers synchronization moved to selparate class
           and optimized to include it only when needed
         - hit for current page in site module - deffered after the page
           is sent to user
         - better modularization of permission system
         - new experimental debug possibility - use PHP Console for chrome
           - example.org/en/home?debug=c
         - clenup, removed unused functions and speed optimalization
11-06-10 - fixes for PHP 5.3 - now tested on production server for one week
(honzam) - group operations with items now shows the number of affected items
           for each filter before you select it
         - date input now allows unfilled values, when the date field is not
           marked as "required" (just select "----" value for year from select)
         - new parameter <position> for
             {htmltoggle:<switch1>:<text1>:<switch2>:<text2>:<position>}
           if "bottom", then the switch is displayed under the text
         - the <switch1> and <switch2> are optional for {htmltoggle},
           {htmltogglecss}, {htmlajaxtoggle} and {htmlajaxtogglecss}
           if not specified, standard [+] and [-] icons are displayed
         - you can use PHP special data formats in {date:DATE_ATOM},
           {date:DATE_RSS}, {date:DATE_RFC...} - @see
           http://php.net/manual/en/class.datetime.php#datetime.constants.types
         - new {sort:<values>[:<order-type>[:<unique>[:<delimiter>]]]}
            - sorts the values delimited by delimiter in rnumeric order
            (and possibly unique)
         - {modulefield:<slice_id>:site_ids} now returns dash separated list
           of sites, where the slice is part of
         - new parameter <onsuccess> in
             {ajax:<item_id>:<field_id>[:<alias_or_any_code>[:<onsuccess>]]}
           which is javascript code to run after the content is sucessfully
           updated - like:
             {ajax:{_#ITEM_ID_}:file............:<img src="/img/edit.gif" title="Upload new file"> :AA_Refresh('stickerdiv1')}
         - new {strtolower:<text>}
         - new {strtoupper:<text>}
         - new {imgtext:<width>:<height>:<text>:<size>:<alignment>:<color>:<font>:<opacity>:<margin>:<angle>:<background>:<bg_opacity>}
           which creates image with the specified text - like:
             {imgtext:20:210:My picture text:3:TL:000000::::90}
             - returns white 20 x 210px big image with vertical, top-left
             positioned black text on it
         - {fileinfo:<url>:type} now returns TXT, when no extension is provided
         - the delayed execution could be nested, now - see
             {( some {( text )} which )} could {( be )} nested
         - fixed doubled HTML head in Item Manager
         - the columns in CSV import could be named with field ids
           (like headline........) - they are matched, then on mapping page
         - code speed optimalization and cleanup
         - removed PHP4 specific solutions
         - removed old and unused slice.php3 parameters of AA v1.2 - easy_query
           and bigsrch
         - improved debug output when used
             AA::$debug && AA::$dbg->group("my group",$var);
               and
             AA::$debug && AA::$dbg->groupend("my group");
11-04-12 - fixes for PHP 5.3 (AA now works in PHP5.3, but it is not tested on
(honzam)   production servers)
11-04-11 - bigger cleanup of the code - removed unused functions, specialized
(honzam)   functions moved from util.php3 to local include files
         - new possibility to export slice discussions to file:
             "Slice Admin" -> "Export to file" -> "What to export"
         - searchbar in AA admin interface allows to compare also timestamps
           for the date fields
         - HTML editor (Xinha) do not strip <script> tags, now
         - new {ord:<char>} - returns ASCII value of character
         - {trim} now removes also chr(160) - hard space
         - fixed DB collation for Czech UTF language files
         - new experimental debug environment - will support Firephp debuger
           Used as:
             AA::$debug && AA::$dbg->group("my variable - ($var)");
         - new approach to global objects - AA::$dbg, ...
         - new approach for one row database queries -
             DB_AA::select1(<column>, <SQL>)
           get single value - column from the first row matching <SQL>
         - cleanup - alerst inner code moved to class
11-01-08 - new {changedate:<item_id>:<field_id>:<format>}
(honzam)   displays the date of the last change of specified field is provided
           date format
         - {htmltoggle} could be used without explicit specification
           of switchers (plus and minus signs (image) is shown as default)
             {htmltoggle::::text to show}
         - {date} could display specified text for unset date
             {date:m/d/Y:{start_date......}:not specified}.
           (unset date is the date with timestamp 0, which could be now set
           by the Date widget when the date field is not required)
         - new {fieldoptions:<slice_id>:<field_id>:<values>}
           displys html <options> as defined for the field. You can specify
           current values - as single value, or as multivalue in JSON format.
         - {img} now produces valid html where possible - escapes & when returns
           HTML code
         - {qs} now deals with arrays - returns JSON for arrays (which is usable
           for {fieldoptions}, ...)
         - fixed order function used with {aggregate}
         - new {pwdcrypt:<text>} which crypts the password
         - date widget is able to fill empty date (when not required)
         - phpThumb updated to last version
         - better password field handling (internal)
10-11-10 - new possibility to upload files through AJAX -
(honzam)     {ajax:{_#ITEM_ID_}:file............}
             (for file............ field defined as file upload)
         - history of changes in items is written to the database (change and
           change_record tables)
         - new {changed:<item_id>} lists all fields changed during last edit
           dash ('-') separated
           You can use it for example when you are sending e-mail notifications
           about the item change and you want to know highlight, what is changed:
               {ifin:{changed:{_#ITEM_ID_}}:category.......2:<em>Category changed to {category.......2}</em>}
           You can also use this feature if you want to send e-mail notification
           only if specific fields are changed:
               {ifset:{intersect:{changed:{_#ITEM_ID_}}:category.......2-expiry_date.....}: email text...}
           (we use the feature, that no mail is send, when the body of the mail
           is empty)
         - widgets (field input types) which allows sortorder and conditions
           as parameters (selectbox for example) accepts also short version
           of conditions as used with views - like:
             d-switch.........1-=-1   -  for conditions
             headline........-        -  for sortorder
         - new {userinfo:<user>} - returns the name of the AA user
             - <user> is stored in posted_by....... or edited_by....... field
         - new parameter <add> to {shorten:<text>:<length>[:<mode>[:add]]}
           text added in case the text shorten
           (so the resulting text will be at maximum length+add long)
         - new {md5:<text>} hash function
         - no mail is send in e-mail notify when body is empty
           (you can take advantage of this feature for sending e-mails
           conditionaly - see {changed} for example of usage)
         - fixed input field for password in Reader management slices inputform
             - it is no longer prefilled by your browser (with mostly always
               wrong value)
         - sortorder of ids is preserved when passed as restrict_ids
           (works also with grouping in views)
         - AA displays user names better in AA admin interface
         - fixed Slice Admin -> Forms setting
         - fixed preselect widget - empty string is default
         - helper atributes we use for temporary data staroing in HTML
           (like aaalias) rewritten to HTML5 standard data-xy attributes
         - prototype.js upgraded to 1.6.1 version
         - speedup of several functions md5, ...
10-11-03 - Polls module improved a bit - allows longer questions...
(honzam)   Polls support AJAX submitting - see
             https://actionapps.org/en/Polls_Module#AJAX_Polls_Design
         - new parameter <param> for polls {polls[:<pid>[:<param>]]}
           which allows you to display the poll on the page with specific
           parameters - just like:
             {polls:5ad0d95a490b383ac7d23650e7aa49ee:design_id=4326b8bf6b64b2a216147d896b3860b2&listlen=50&conds[0][operator]=>&conds[0][value]=1&conds[0][expiry_date]=1}
         - new parameter <url> to {xid:[<info>:[<url>]]} allows to get {xid}
           information from specified url (instead of current page) in SEO Site
         - new possibility to use multiple needles when searching the string
           using:
             {ifin:<string>:<needle>:<text>[:<needle2>:<text2>:...][:<else>]}
             {ifin:de,ru,cz,pl,en:en:English:cz:Czech:Unknown language}
         - new possibility to use constant aliases and expressions in
           {constant:...} expression
             {constant:ekolist-category:{@category.......1:|}:<a href="http#://ekolist.cz/zpravodajstvi/zpravy?kategorie=_#VALUE##_">_#NAME###_</a>:|:, }
         - new {order:<ids>:<expression>[:<sort-type>]} - sorts ids by the
           expression:
             {order:4785-4478-5789:_#YEAR_____#CATEGORY}
             {order:4785-4478-5789:_#HEADLINE:string}
           Usualy it is much better to use sorting by database - like you do
           in {ids}, but sometimes it is necessary to sort concrete ids, so we
           use this statement. You can sort numericaly (default), as string or
           using current locale in both directions:
             numeric | rnumeric | string | rstring | locale | rlocale
         - new {fulltext:<item_id>} - displays fultext of the item as defined
           in slice admin
         - new {array:...} expression - used for storing and displying array
           data. Used as:
             {array:<id>:set:<index>:<value>} and {array:<id>:get:<index>}
           <id> is any string used as array handler,
           <index> could be numeric as well as textual
         - new {header:<code>} - sends HTTP header. Now only {header:404}
           (HTTP/1.0 404 Not Found) is implemented
         - new possibility to use parameter "page" together with "from"
           parameter in view.php3?set[]=..., which means from the item xy on the
           page p
         - new possibility to add attachments to e-mail sended by AA
         - new button "Update & Edit" on "Slice Admin -> Fields -> Edit" page
         - new "Set HTML/Plain-text flag" transformation on "Modify content..." page
         - views are sorted from newest to oldest on "Views" admin page
         - better info about found item on "AA" admin page
         - item display speedup
         - better handling of character encoding in e-mails
         - better handling of unassigned links in Link module
         - fixed serachbar in AA which sometimes shows bad operators
         - fixed presets text field - displays empty selection on start
         - fixed slice data export
10-08-16 - IP Banning for discussion is able to block not only individual IP
(honzam)   address, but also subnets - like 157.14.189 (subnets of x.x.x are
           supported only => not x.x) - see IP Banning slice
         - new {removeids:<ids1>:<ids2>} - returns ids1 where will be removed
           all the ids from ids2 (all dash separated)
         - new {rand:min:max} - returns random integer number from min to max
         - new {str_repeat:string:times} - repeats string n-times
         - {fileinfo:<url>:<info>} now allows "size", "type" and "name" as
           the second - <info> - parameter
         - validation for unique now is able to not count current item - params
           are scope:field_id:ignored_item_id
         - UI - for help messages in field settings used textarea
         - New possibility to delete trashed unassigned links in Links module
         - hits are counted for items displayed by sitemodule, which uses
           SEO_Router ({xid})
         - fix of slice.php3 for input type="image" submit - it sends x and y
           coordinates, so slice.php3 thinks "x" is the item id. It is no longer
           true - "x" is ignored, when provided also with numerical "y" parameter
         - old ereg replaced by preg regular expression parser in site module
           conditions
         - fixed bug in alerts sending - alerts are sended again
         - views called by f_v are no longer cached
         - fixed object storing - used in Forms
         - fixed sending notifications in slices with reading password set
         - clenup of phplib, removed unused code
         - fixed toexecute class to do not try to execute unexecutable tasks
           (priority 0)
         - pagecache records are deleted in chunks in order we do not get
           max_packet_size error from MySQL
         - javascript triggers for fields rewritten ussing class approach
10-06-29 - fixed problem with grabber - which displayed error
(honzam) - fixed multiple checkbox - works with AJAX even if no category is
           selected
10-06-28 - new possibility to write custom AA extensions on regular basis
(honzam)   the scripts will be located in
             include/custom/<AA_CUSTOM_DIR>/
           directory, where <AA_CUSTOM_DIR> should be defined in config.php3 file:
             define("AA_CUSTOM_DIR", "econnect");
             // for script in include/custom/econnect/
           The files in that directory are:
             stringexpand.php  for AA_Stringexpand_* classes
             responder.php     for AA_Responder_* classes
         - new possibility to use any AA expression as "spot variable" for
           conditions in site module branches (choices) - like:
             {xuser:_#USR_TYPE} = standard
           The expression in spot variable must begin with "{" and it checks
           for EQUALity (=) - not regular expressions like with APC variables
         - {ifeq} extended to use multiple choices:
              {ifeq:<etalon>:<option1>:<text1>[: ...][:default]} - just like:
              {ifeq:{xlang}:en:English:cz:Czech:Unknown language}
         - new <settings> parameter for {view:<vid>[:<ids>[:<settings>]]} - like
              {view:254::listlen-5}
         - new <reverse> and <sort> parameters for
           {treestring:<item_id>[:<relation_field>[:<reverse>[:<sort>]]]}.
             <reverse> creates the tree for child->parent relations
             <sort>  the order of leaves (currently wors only for reverse trees)
           {treestring:2a4352366262227383484784635362ab:relation.......1:1:sort[0][headline........]=a&sort[1][publish_date....]=d}
         - new possibility to switch the htmltogglecss ON, by deafault:
             {htmltogglecss:<toggle1>:<toggle2>:<css_rule>:<is_on>}
             {htmltogglecss:+:-:#id_#SITEM_ID:1}
         - new {timestamp:<date>} returning unix timestamp for textual date:
             {timestamp:2008-07-01}
             {timestamp:20080701t223807}
         - new {shuffle:<ids>[:<limit>]} - randomises the order of ids
           and returns up to <limit> ids
         - new {unique:<ids>[:<delimiter>]} - removes duplicate ids from the string
         - new <limit> parameter which reduces amount of returned ids for:
             {ids:<slice>:<conds>[:<sort>[:<delimiter>[:<restrict_ids>[:<limit>]]]]}
         - {ajax:<item_id>:<field_id>[:<alias>]} could use any AA exprexssions
           instead of single <alias>
         - new {xid:list} - returns ids list from start to current item
           in the tree - like:2587-2877-3004
         - new (experimental) {redirect:<url>} - redirects user to specified page
           directly and right in the time it ocures in the code - could be used
           inside site module, when you need to redirect user to another branch
           (say from / to /cz/home)
           Usage:
             {redirect:http#://example.org/en/new-page}
                - mention the escaped colon in http
             {redirect:{ifset:{xid}::http#://example.org/en/new-page}}
                - for conditional redirect
         - the e-mail images used in "src=" or "background=" attributes of HTML
           tags in e-mails sended by AA are included in the mail, so the
           probability of correctly displayed images in a e-mail client is much
           bigger
         - fixed text version of e-mail - the <head> and <style> tags
           are striped out
         - fixed file uploads for forms with new aa[][] variable syntax
         - fixed checkbox widget when called as AJAX
         - filler.php3 returns text in right encoding for ajax widgets
         - new AA_Refresh(id) javascript function which refreshes the div by
           ajax calling the url (view) stored in data-aa-url attribute
         - easier and better ajax widgets - old code stored/recovered on cancel
         - safer item moving in Item Manager
         - critical functions optimalized for speed
10-06-08 - fixed form editing
(honzam)
10-04-28 - fixed Ajax and Live widget for date - now displays selectboxes
(honzam)   instead of timestamp number
         - new possibility of body onLoad trigger in Javascript "Field Triggers"
         - fixed problem with Alerts - confirmation didn't work when the Reader
           record do not contain the Confirmed field
         - widgets now uses HTML with correct ids (no invalid characteds
           like "[",...)
         - fix - E-mail notify now uses correct e-mail charset
         - fixed searches with id.............. field and operators (AND, OR...)
         - fixed error on Cancel in Form editor
         - remove unused directories - misc/oldDb2Db, misc/file2slice/tab2slice_php
         - {ajax} and {live} now uses standard AA\IO\Saver functions
         - changed some queries from QuerySet() to better $aa_set->query()
         - zids have ArrayAccess interface, so you can use it just like
           $zids[1], ...
         - new Iterator interface for AA_Fields object
10-04-06 - bigger speedup and cleanup. AA profiled with xdebug and optimized
(honzam)   for speed on many places. Most pages are displayed 2-2.5 times
           faster, than before. Optimized serialization for cache, removed some
           internal - unnecessary caching, math rewritten to use PHP evaluation,
           unaliasing much optimized, used quicker php functions, ...
         - better support for login form in AA_Router_Seo site module
           login username and password also could be sumbmitted by GET method
         - new {ifeqfield:<item_id>:<field>:<var>:<text>:<else-text>}
           If any value of the (multivalue) $field is equal to $var, then print
           $text, else print $else_text. $(else_)text could contain _#1 alias
           for $var, but you can use any {} AA expression.
           You can ommit $item_id if you want to use current item
             Example: {ifeqfield:{xid}:category.......1:Nature: class="green"}
             Example: {ifeqfield::category.......1:Nature: class="green"}
         - new {ifin:<haystack>:<needle>:<text>:<else_text>}
           If $haystack contain $needle, then print $text, else print $else_text
           (else_)text could contain _#1 and _#2 aliases for $haystack and $needle
             Example:  {ifin:ActionApps CMS:CMS:yes:no}
         - new {site:<site_id>:<property>} - get site module property (currently
           only "modules" is suprted - dash separated list of slices in the site
           Use it for example for computing of seo name:
           {ifset:{seo.............}:_#1:{seoname:{_#HEADLINE}:{site:{modulefield:{_#SLICE_ID}:site_id}:modules}}}
         - new {randomstring:<length>} - returns random string of given length
         - new {encrypt:<text>:<key>} and {decrypt:<text>:<key>}
           Encrypts/decrypts the $text using $key as password
           (mcrypt PHP extension must be installed)
         - {treestring:...} now returns only active items
           (ignore expired, trashed, ...)
         - fix - {ajax:...} change now works also with jQuery AA library
           /javascript/aajslib-jquery.php
         - no more adding unnecessary rXn=1 url parameter for old Netscape 4.7
           browser
10-02-11 - new possibilities for sites which uses new site module AA_SEO_Router:
(honzam)     - new home - sitemodule now handles root of the web and fills
               the variables as it was typed /{xlang}/ (/en/). {xlang} is filled
               from site module's language setting
             - new {xuser:xxxx} alias - auth user informations (of current user)
               xxxx is - field to show ("headline........", "_#SURNAME_" ...)
                       - "id" for long id
                       - empty for username (of curent logged user)
               (We do not use {user} in this case, since views with {user}
               are not cached, but the views with {xuser} could be
               (xuser is part of apc variable))
            -  easy way how to authenticate the user - send "username" and
               "password" by POST to any page which uses sitemodule. The users
               are authenticated from reader management slices. If OK, then
               the {xuser} is filled and the url is switched to ok_url parameter
               (if provided). Else the URL is switched to err_url (if provided)
               and err=1 is set (acessible by {qs:err}).
               xuser is stored in the cookies
               Login From Usage:
               <form action="{go:xqs=}" method="post">
                 <fieldset><legend>Login, please</legend>
                   <div  style="margin-right:150px; text-align:right;">
                     <label for="username">Username</label> <input type="text" size="20" name="username" id="username"><br>
                     <label for="password">Password</label> <input type="password" size="20" name="password" id="password">
                   </div>
                 </fieldset>
                 <input type="submit" value="Login" style="margin-left:200px;">
               </form>
             - cookies added to pagecache key for sitemodule.
         - added possibility to specify top-right selectbox priority for all
           modules - not only the slices
         - new {htmltogglecss:<toggle1>:<toggle2>:<css_rule>} - creates the link
           text1 (or text2) +/- toggle which displays/hides all elements
           matching the css_rule (#id82422) in example:
             {htmltogglecss:+:-:#id_#SITEM_ID}
         - new {htmlajaxtogglecss:<toggle1>:<toggle2>:<css_rule_hide>:<url_of_text>[:<css_rule_update>]}
           like:
             {htmlajaxtogglecss:+:-:#id_#SITEM_ID:/apc-aa/view.php3?vid=33&cmd[33]=x-33-{_#SITEM_ID}}
           creates the link text1 (or text2) +/- toggle which
           loads+displays/hides all elements matching the css_rule (#id82422) in
           our example. Optional <css_rule_update> rule matching the element(s)
           to update if it is not the same as <css_rule_hide> (good for updating
           table rows, where we want to show/hide tr, but update td)
         - fixed {math} and decimals setting
         - new {max:arg1[:arg2][:arg...]} and {min:...} returns maximum/minimum
         - new {jsonstring:<any text>} encodes the string to use it within JSON
         - new selected parameter for {options:<group_id>:<selected>} - html
           <option>s for given constant group with selected option
         - new possibility to "&amp;" delimiters for {view.php3} instead of
           standard "&" (Xinha visual editor changes the & to &amp; so we do not
           need to care, now)
         - new {server:<param>} which prints $_SERVER variable
           @see http://php.net/manual/en/reserved.variables.server.php
         - new <param> parameter used as additional code to <img...>
             {img:<url>:[<phpthumb_params>]:[<info>]:[<param>]}
             {img:{img_url.........}::imgb:alt="Logo {_#HEADLINE}"}
         - default JPEG thumbnail quality changed from 70 to 90 - means better
           images with {img...}
         - new _#GRP_INDX (index of a group on page (it begins from 0 on each
                           page))
           and _#IGRPINDX (index of item within a group on page (it begins from
                           0 on each group))
           aliases in views
         - added view links under alias definition textarea, if contains
           view.php3 reference
         - automatical removing of confusing links from Related Item Selection
           Window, when admin design is used
         - new Form.Element.setValue() and unpackToForm() javascript functions
         - simplified structure of extsess*.php3 and locsess.php3 include files
         - fixed {ajax} and {live} widgets - fixed parameter order after move to
           widget.class.php
         - better caching for tree aliases - {itree}, ...
         - experimental implementation of new {_:Shortcut:params} construct
           - not supported, yet
09-11-02 - removed confusing "Category" menu entry in "Slice Settings"
(honzam)   (categories are edited in field setting)
         - fixed "Modify Content" Item manager action
09-08-23 - new possibility to define forms through admin interface
(honzam)   (see "Slice Admin" - "Design" - "Forms")
         - new possibility to entering related items into slice using above
           mentioned forms, called through AJAX
           (Two Boxes widget has this feature, now)
         - removed maxcount restriction for number of related items
         - easier usage of AA_Manager class
         - generalized usage of AA_Object (and its storage into database)
           and AA_Content. Any AA_Object is now very easiy editable
           by AA_Manager; refactoring a bit
         - zids now uses Iterator (PHP 5 needed)
         - started usage of class autoloading
         - new AA\IO\AbstractGrabber\AbstractGrabber\Form which uses the new standard way of input
           the items to the database
         - log viewer and searchlog viewer rewriten to AA_Manager class
           instead of old tabeedit
         - merged changes from v2.50.x branch ------------------------
09-08-22 - new possibility to copy the field definition from ANY slice
(honzam)   (see "Slice Admin -> Fields")
         - new {itree:<tree-string>:<nested_top>[:<content>[:<delimiter>[:<nested_bottom>]]]}
           Displays field/alias of given item(s) in tree. It wors exactly as
           {item} but the parameter order is more logical, so the {itree} is
           the preffered way of displaying trees and breadscrumbs...
         - new {treestring:<item_id>[:<relation_field>]}
             {treestring:2a4352366262227383484784635362ab:relation.......1}
           generates tree-string (as used in {itree}) based on item and its
           relations
         - new {(....)} syntax for deffered evaluation:
             {item:6625:{(some text {headline........}...etc.)}}
           This way you are able to pass {..} any aa_expressions to any function
           instead of using just aliases there.
         - new {qs:<varname>} which return url GET parameter:
             returns Havel for https://example.org/cz/page?surname=Havel
         - new {ifeq:<var1>:<var2>:<text>:<else_text>}
             {ifeq:{xseo1}:about: class="active"}
           If <var1> is equal to <var2>, then print <text>, else prints
           <else_text>. <(else_)text> could contain _#1 and _#2 aliases
           for <var1> and <var2>, but you can use any {} AA expression there.
         - fixed display of informations about current user {user:...}
           for fastcgi PHP version
09-08-17 - Site Module now you can use without any control-file, so you do not
(honzam)   need any PHP scripting at all. All you need is to select
           AA_Router_Seo in "Router" field in Site Setting and specify
           the slices, which are used within the Site Module. This means, that
           AA_Router_Seo is now stbilized and standardized. See also new
           possibilities useful here - {xid}, {xid:path}, {xid:1}, {go} and tree
           posibilities of {item}
         - new {go:<query-string>} - returns url based on current state (apc)
           and query-string paramater (for AA_Router_Seo)
             usage:
               {go:xseo1=faq&xseo2=questions}
           (we used {go2url} custom function in previous versions of AA. {go}
           function is however core function, now
         - new {xid[:<level>]} - complement to {xseo1},.. variables
           of AA_Router_Seo - returns id of the current item on specifield level
             - {xid}      - returns id of current item (the id of {xseo} item)
             - {xid:1}    - returns id of item on first level (the id of {xseo1}
               item) for /cz/project/about-us returns id of "project" item
             - {xid:path} - returns ids path of current item - like:
                 2587(2877(3004)) as used in {item...} syntax - good for
                 breadcrumbs: {item:{xid:path}: _#HEADLINE:: _#HEADLINK &gt;}
         - new possibility for {item} to display items in trees. In that case
           you will use tree representation string, just like:
             3234(3443-3678(3872-3664)-3223)-4045
           The formating is then done through current <aa_expression> and
           <delimiter>, but also through new <nested_top> and <nested_bottom>:
             {item:<ids>:<aa_expression>[:<delimiter>[:<nested_top>[:<nested_bottom>]]]}
           Used just like: {item:{xid:path}: _#HEADLINE:: _#HEADLINK &gt;}
           See wiki (https://actionapps.org/documentation/?title=Syntax#.7Bitem.7D_Display_field.2Falias_of_given_item)
           Update 09-08-22: use rather {itree} syntax, which has more logical
           parameter order (due to backward compatibility of {item})
09-08-11 - new {filelink:<url>:<text>} syntax - get link to file for download
(honzam)   (prints also file size and type) -
             usage: {filelink:{file............}:{text............}}
             returns:
               <a href="http://..." title="Document [PDF - 157 kB]">Document</a>
               [PDF - 157 kB]
         - better handling of text in {shorten} syntax
         - new parameter lock=1 for polls.php used if we want something like
           view for polls and we want the polls do not react to URL parameters.
           Used maily if we want list more than one poll on one page
         - better cleanup of tasks (from toexecute queue) - the taksk with
           priority = 0. Such tasks are considered as undoabe. Note the priority
           is decreased on each try of task execution.
09-08-01 - Added Shorcut to edit ITEM in AA finder. Search and show link to edit
(asanchez75)  directly link of item
--------------------
09-05-21 - v2.50.0 - stable release
--------------------
09-05-20 - prepared for ActionApps v2.50.0 release
(honzam) - sql_update.php3 script replaced by the /service/sql_update.php script
         - /service/sql_update.php script fixed to allow also database install
         - new Export to file option in Slice Admin menu which allows export
           selected items to CSV/HTML/(XLS). We moved there the older export.php
           script from root, which was misplaced there
         - new parameter for poll.php3 - 'from' and 'novote'
09-05-18 - new {credentials:ThisIsThePassword} EXPERIMENTAL construct allowing
(honzam)   you display the content of the protected slice. It is usefull for
           site module, when you need to display protected content
         - small fixes for LDAP permission system and cleanup
09-05-06 - new possibility to print multiple constants with {constant} syntax:
(honzam)     {constant:<group_id>:<value(s)>[:<constant_field>[:<value_delimiter>[:<output_delimiter>]]]}
           just like:
             {constant:biom__categories:{@category........:|}:name:|:, }
         - fixes in {alerts} syntax
         - fixed Alerts module permissions - now you can assign the permission
           to edit the module to the user
09-04-24 - new {alerts:<module_id>} syntax, which manages alerts subscriptions.
(honzam)   The idea is, that this alias will manage all the alerts subscriptions
           on the page - you just put the
             {alerts:<alert_module_id>:<some opther parameter>}
           construct on the page, and it displays the form for subscriptions,
           managing user profile, unsubscribe users and confirm e-mails. At this
           moment it is just start - it should unsubscribe users and confirm
           e-mails when added to the page
09-04-22 - fixed bugs with f_t, "Modify content" action and alert e-mails
(honzam)   (bugs introduced last commit)
09-04-16 - new buttons for Add/Edit Item form - "Insert & Edit" or
(honzam)   "Update & Edit" which allows to continue editing the item after
           the change. The buttons could be hiden from user profiles (as well as
           any other UI elements)
         - new parameter seo for slice.php3 - it displays single item based
           on seo............. field (simalar to "x" and "o" parameter)
             - like /apc-aa/slice.php3?seo=about-us
         - improved preview in itemedit; preview url could be also specified
           by _url_preview slice field where you can use AA constructs, so you
           can construct exact url using items data
         - {img:<url>:[<phpthumb_params>]:[<info>]} now have new parameter
           <info>, which controls, which informations about the image
           is returned. Possible values are:
             - url (default)
             - width
             - height
             - imgtype
             - mime
             - html or hw (height="xxx" width="yyy")
             - img (<img src="<url>" height="xxx" width="yyy"/>)
             - imgb (the same as img, but border="0" is added)
         - new {fileinfo:<url>:<info>} returns size or type of the file:
           {fileinfo:{file............}:size} - thanks to Adam Sanchez
         - {include:} now passes Cookies to included file, which might
           be usefull for AA_Auth, ...
         - better {seoname:} (SEO name creation) - works better with UTF-8
           encoding
         - new basic "Search and Replace" transfromation in "Modify Content"
           item action
         - new possibility to copy also Alerts module in Central
           (still experimental)
         - new Optimize action - "Check database consistency" which check
           the content table for records without item table reference, test
           items - slice and also discussion - item relations
         - new Optimize action - "Set right content column for field" - sets
           flag FLAG_TEXT_STORED for all content, where field is marked as text
           field, and reset it for numer fields
         - fixed {dictionary:...} broken in last commit
         - some error messages are printed into <div class="aa-error"> div,
           so it can be hidden by CSS ({pager} error)
         - items are read in chunk (100) at once in AA\IO\AbstractGrabber\AbstractGrabber\Slice
           for speedup of export
09-04-15 - new code for slice password slice_pwd handling using AA_Credentials
(honzam)   class - allows to access protected slices from widgets (for related
           items). The slice password is then filled as parameter to the widget
         - {seo2ids} do not search in thrash bin
         - new cached version of getItem() - AA_Items::getItem
         - new version GetFormatedItems() using AA_Set and AA_Items::getItem
         - htmlMail class updated to last version, improved and renamed
           to AA_Mail
         - fixed CSV import of items when long ids provided
         - new function QuerySet(<AA_Set>), which will replace QueryZids()
         - AA_Set class handles not only conds and sort, but also bins, now
09-04-15 - new {tree:<item_id>[:<relation_field>]} - returns dash separated long
(honzam)   ids of subitems (items which belongs to the tree under specifield
           item) based on the relations between items - like:
             {tree:2a4352366262227383484784635362ab:relation.......1}
         - new parameter "position" in
           {htmlajaxtoggle:<toggle1>:<text1>:<toggle2>:<url_of_text2>[:<position>]}
           defining position of the link - top|bottom (top is default)
         - new {intersect:<ids>:<ids>} which returns set of intersect of two
           set of ids (dash separated)
         - new <text> parameter for {debug[:<text>]} debugging output
         - default admin page for tha "AA" menu is "AA Finder", which now also
           allows to search for user and group
         - new Optimize action - "Multivalue Duplicates" - removes duplicate
           values in multivalue text fields
         - optimized a bit Constants editing page - Parent column ic not shown
           for other than categories
         - remove duplicate values which comes from various transformations in
           "Modify Content" manager action
         - fixed problem with wrong selectbox value on multiple {live:...}
           widgets in one page
         - fixed {live:...} for editing also item table values
         - optimized database query for an item a bit
         - optimized f_t alias function - uses standarda AA_Stringexpand_*
           classes, now
         - fixed some problems with packed ids in search
         - class view converted to AA_View
09-04-07 - new posibility to copy also Alerts Module in Central
(honzam) - fixed back button for site manager  site manager inner links contain
           module_id, so the back link works site modeles
         - fixed Polls design setting - it did not work for some poll ids
09-03-12 - discussions: do not accept comments for not existing items
(honzam)   or the items which are in thrash or holding bin
         - new optimize script "Delete discussion comments for not existing
           items"
         - diplayed more informations about item on AA -> AA Finder page
         - fix: discussion comments are deleted correctly if you delete
           the item (=empty the trash bin)
         - fixed {live:} for checkboxes - the field is set correctly to 0
           if unchecked, not cleared at all as was in previous case
09-03-09 - fixed syntax error in sliceimp.php3 reported by Ariel Barbosa
(honzam)
09-02-11 - export.php script now supports also EXCEL and HTML export format:
(honzam)   Example:
             https://example.org/apc-aa/export.php?slice_id=2a3e435461667d7f7c7c748b2a15a8b1&format=csv&filename=export.csv
             https://example.org/apc-aa/export.php?slice_id=2a3e435461667d7f7c7c748b2a15a8b1&format=excel&filename=export.xls
           The Excel and HTML Exports works correctly for utf-8 character
           encoding only (so for iso-8859-1 probably as well). The Excel export
           is quite hackish - exported through HTML, but works.
09-02-08 - new apc-aa/export.php script, which allows to export the content
(honzam)   of the slice to file. Currently is supported the CSV format
           (through AA_Exporter_Csv class), but other formats could be added
           easily (just by adding other AA_Exporter_* class). The parameters are
           "format", "slice_id" and optional "sort", "conds" and "filename"
09-02-04 - fixed "Missing argument 2 for AA_Widget_Chb::getLiveHtml" error
(honzam)
09-01-15 - _msg_banned..... could contain aliases from IP Banning slice, so you
(honzam)   can display banned message specific for each user
         - DiscussionMailList field used as one way, how to specify, where
           should be e-mailed the discussion comment now could contain more than
           one email - separated by comma - just like:
             t48:info@example.org,actionapps@ecn.cz
         - cleanup - removed old, unused tables from database including the old
           serving code for them
         - validation updated - the http:// string is considered as empty url
         - fixed offline.php3 so it could be used with new PHP version (5.2.8)
08-12-22 - new possibility to bann some IP addresses from posting comments to
(honzam)   discussion. If you want to use bann IP list in your slice, you should
           create new slice, which will contain at least the "ip.............."
           field. Then you should add the "slice field" "_ip_banned......" in
           you slice with discusion, and fill the field with the slice_id of
           bann slice. You could also fill the "_msg_banned....." "slice field"
           where you fill the message, which apears to banned user after commit
           the comment (there is similar field "_msg_spam......." for spammers
           as well)
         - new "_msg_spam......." "slice field" which allows you to configure
           the message displayed to user, when (s)he submits spam-like comment
         - new possibility to copy only structure or only content of the slice
           during "Copy slice" feature of Central
         - updated database structure - added just one index for better handling
           of dicsussions - this one:
             ALTER TABLE discussion ADD INDEX item_id_date (item_id , date)
         - fixed problem with query sting parameters used with {pager} of SEO
           router
         - added print CSS styles for AA admin interface
         - new optimize action "Generate metabase PHP row" which prints out the
           metabase row for include/metabase.class.php3 file
           (used by AA developers to update database definition tempate)
08-12-08 - better handling of cmd[]=x, i and o parameters - ids are checked, so
(honzam)   only valid ads are used in query
08-11-27 - Central allows to upload AA definitions from CSV file
(honzam) - Central calls new sql_update.php script from service/ directory
         - improved tests in service/sql_update.php script
         - new Optimize action which generates metabase definition row to be
           placed in service/metabase.class.php3 and include/metabase.class.php3
             - for AA programmers only
         - updated database structure - prepared for new optimized caching
           (not finished, yet)
08-11-25 - improvement in the polls module - fixed aliases, UI works also with
(honzam)   green AA design.
           see new polls documentation on https://actionapps.org/en/Polls_Module
           (Thanks to Radek Svitil/Ekolist)
         - IP lock in Polls when enabled and limeout set to 0 never expires
         - new {polls:<pid>} syntax for including the Polls module in the site
         - fixed problem in Item Edit - when you edit the item containing
           aliases (like _#HEADLINE), then the alias was unaliased in the form.
           Now it is not
         - fixed validation of URLs, E-mails and Alphanunerics in the Input form
         - new parameter allowing long, short or none year representation in
           {daterange:<start_timestamp>:<end_timestamp>:<year_format>}
         - {live...} and {ajax:} editting is now "silent" - the last_edit nor
           computed fields are updated in the item. The cache is invalidated
         - added missing "num" insert type for field setting. It is exactly
           the same as text, but we use it in some configuration for better
           clarity of settings
         - no allowed extension specified in Insert File
08-11-20 - new service/sql_update.php script - better structured, seprated
(honzam)   to standalone directory, so you can copy the service directory
           to your old AA and update it from there. All actions have tests,
           so it runs conditionaly. All actions was rewriten to AA_Optimize
           class, so you can run them separately from AA -> Optimize page
08-11-12 - new "silent" possibility with "Modify content" tool - all the fields
(honzam)   are updated but no other fields are touched (no last_edit,
           nor computed fields are updated)
         - new {seoname:<string>[:<unique_slices>[:<encoding>]]} which returns
           SEO friendly name created from the string. If you specify
           the unique_slices parameter, then the id is created as unique for
           those slices. Slices are separated by dash. Encoding parameter helps
           convert the name to acsii. You shoud write here the character
           encoding from the slice setting. The default is utf-8, but you can
           use any (windows-1250, iso-8859-2, iso-8859-1, ...)
           Usage:
              {seoname:About Us:3aa35236626262738348478463536224:windows-1250}
              - returns about-us
         - seo router now handles categories as well (if you need them)
08-11-11 - fixed HTML/plain switch for wysiwyg Xinha editor
(honzam) - fixed CSV import - better handling od imported item ids
         - the tasks in toexecute queue is considered undoable when the priority
           lowers to zero (the priority is lowered by one each time the task
           is started). The zero-priority tasksk remains still in the toexecute
           table, however
08-10-21 - new {live:<item_id>:<field_id>} construct which allows in-place
(honzam)   editing of the fields. it is similar to {ajax:} construct, but the
           edit field is visible all the time and on "onchange" event is written
           directly to the database. It works for most of the input types - for
           checkboxes it works as "live checkbox (f_k)", but this ine works also
           for textfields, ... You can use it in admin interface as well as
           in public pages if you include /apc-aa/javascript/aajslib.php3
           javascript file.
           It is good idea to use styles to indicate the input state:
             select.live, input.live, textarea.live
               { border: 1px solid #EBDABE; }
             select.updating, input.updating, textarea.updating
               { border: 1px solid #FF0000;}
           The <item_id> parameter is optional, so it could look like
             {live::headline........};
           This feature is experimental, yet.
         - new possibility to add new field to slice not only based on
           the template slice, but also from current slice on "Admin"->"Fields"
           page - good for creating set of similar fields in the slice
         - now you can use _#this "alias" with all alias functions - it is
           always expanded before the function is invoked and is replaced
           by {field_id........}, where field_id is the field for which is
           the alias defined. Use it like:
              vid=23&cmd[]=x-23-_#this for f_v, or
              {ifset:_#this:<h2>_#1</h2>} in f_t, ...
         - removed unused pack_id128() function, small fixes
08-10-15 - Spanish translation of Polls module (thanks to Colnodo)
(honzam) - new possibility to use _#1 shortcut for condition in {switch}
           statement. It works in the same way as in {ifset:} statement.
           Example:
              {switch({file............})pdf:_#1}
           prints filename if the name in file............ field contains pdf
         - new {protectmail:<email>[:<text>]} - hides mail into javascript
           prints <a href="mailto:<email>"><text></a>, but encoded
           into javascript to be protected from spambots
         - new {daterange:<start_timestamp>:<end_timestamp>} - prints date range
           mostly for event calendar
           Example:
              {daterange:{start_date......}:{expiry_date.....}}
           displays 24.12. - 28.12.2008
         - fixed seo2ids - fixed wrong expiry_date condition so the items with
           big expiry date is no longer (wrongly) filtered out
         - the cookies beginning with underscore is no longer added to cache key
           (=> better caching for sites using Google Analytics)
         - fix - f_y alias function taked care about HTML/Plain text field
           setting, now
         - fixed site module router - the {pager} now keeps also all querystring
           parameters
08-09-26 - new {join:<delimiter>:<val_1>:...:<val_x>} which takes unlimited
(honzam)   number of parameters and joins the unempty ones into one string using
           first parameter as delimiter:
             {join:, :{_#YEAR____}:{_#SIZE____}:{_#SOURCE___}}
         - improved picture quality for AA resizer of PNG and JPG images
           (thanks to Dan Craioveanu)
         - improvements in seo router for site module - the query string
           is remembered in pager
         - fix in filler.php - item_id could be set as parameter for OK page
           using _#N1_ID___ aias:
               ok_url = https://example.org/ok.php?item_id=_#N1_ID___
         - fix for firefox 3.0 ajax editing: storno now works (quite dirty hack)
         - new XML and iCal grabber (Iekis) - which is able to import more XML
           files from one directory. Grabs only specific XML file, so it is
           included as example of working XML grabber
         - language environment (mgettext) fixes
         - continue with migrating sql_update.php3 script to AA_Optimalization
           actions - the "Updating Core field definitions" converterd
         - small design fixes
08-09-05 - new AA_Router class used for easier "Site Module" creation.
(honzam)   Instructions are in the file (/modules/site/router.class.php)
         - language files updated
08-09-02 - new random sorting in view or slice - use following url parameters:
(honzam)     sort[0]=random
             sort[0]=category........&sort[1]=random
             /apc-aa/view.php3?vid=13&cmd[13]=c-1-1&set[13]=sort-random
           This operatin is quite slow in MySQL, so if you need just one random
           item (for banner, ...), you should rather use
           set[]=random-1 parameter for view.php3
         - new "client authentication" library (include/request.class.php)
           allowing user authentication against AA in your site. See the
           instruction in the file as well as in the new
           /doc/script/example_auth example
         - cleanup of auth and session management in AA
         - fixed {seo2ids:<slices>:<seo-string>} construct - now translates also
           expired items
         - fixed problem of unsuccessfull creation of new slice when there are
           no template slice in the AA
08-08-26 - phplib (session and auth management) updated and removed unnecessay
(honzam)   files
08-08-26 - fixed problem of image upload in Xinha/htmlarea
(honzam) - other small changes and fixes
08-08-18 - new possibility to change user interface of AA - you can hide any
(honzam)   part of Item Manager (searchbar, actions, slice selector, button
           or even change labels) as well as Input form through user profiles
           ("Slice Admin -> Premissions - Change -> Profile".
           This way you can also define permissions for user through "Item Set",
           so the user can edit ony items which matches the condition defined
           in the Set
         - new {shorten:<text>:<length>[:<mode>]} - like:
               {shorten:{abstract.......1}:150}
           returns up to <length> characters from the <text>. If the <mode> is 1
           then it tries to identify only first paragraph or at least stop
           at the end of sentence. In all cases it strips HTML tags
         - new {expandable:<text>:<length>:<add>:<more>:<less>} - like:
               {expandable:some long text:50:...:more >>>:less <<<}
           it creates the div and if the text is longer than <length>
           characters, then it adds <more> DHTML link in order user can see all
           the text. The /javscript/aajslib.php3 shoud be included to the page
           (by <script src="">)
         - new {date:[<format>[:<timestamp>]]} - displays (current) date with
           specified date format - like:
             {date:j.n.Y}                   - displays 24.12.2008 on X-mas 2008
             {date:Y}                       - current year,
             {date:m/d/Y:{math:{_#PUB_DATE}+(24*3600)}} - day after publish date
           {date} is the alias for {now}, which has the same syntax, now
         - new {pager} - page scroller for site modules views - displys page
           scroller for view - It calls router methods, so it displays the right
           urls in the scroller - @see AA_Router::scroller() method,
           must be issued inside the view.
         - {scroller:...} syntax used in site module rewritten and marked
           as deprecated - use {pager} instead (but it still works)
         - new syntax
           {math:<expression>[:<decimals>[:<decimal point character>:<thousands separator>]]}
           which is in more standard compliant form than older
           {math(0#,#)<expression>} syntax. The old syntax is still valid.
           Usage:
              {math:1+1-(2*6)} or
              {math:{_#NUMBER__}:0:,: }
         - improved {htmltoggle} - no toggle for the same text
         - new possibility of {sessurl:<url>} - without <url> it returns just
           session id
         - fix for empty ids in {seo2ids:<slices>:<seo-string>} expression
         - search bar improvement - hitting enter always submits the form
                                  - stored searches are sorted alphabeticaly
                                  - bookmarks (stored searches) in Item Manager
                                    moved to standard AA_Manageraction API
         - new "Computed field for INSERT/UPDATE" Input function
             alows to define different compute methods for INSERT and UPDATE.
             The older "Computed field" Input function marked as deprecated
         - added "seo" field type to sql_update.php3 script
         - new Validation type - "Regular Expression"
         - validation improved
         - fix for bad sometimes bad url in scroller
         - fix - reset hit_counter fields for new items
         - added ids to html code of checkboxes in order we can address it
           by prototype.js
         - better support for utf8 character encoding
         - small css fixes and UI improvement in Item Manager, Itemedit
           and Item Set settings
08-07-02 - updated documentation - CVS replaced by SVN (Subversion)
(honzam) - new {count:<ids>[:<delimiter>]} syntax - counts ids or other string
           parts separated by delimiter. It is much quicker to use this function
           for counting of ids, than {aggregate:count..} since this one do not
           grab the item data from the database
             {count:12324-353443-58921}   // returns 3
             {count:{ids:6353428288a923:d-category........-=-Dodo}}
         - new {quote:text} - just replaces ' with \'
         - the <condition> for {ifset:<condition>:...} is considered as empty
           also for unfilled aliases (like _#HEADLINE)
         - validation added to timestamp values for date widget
08-06-02 - HTMLArea (Xinha) updated to last svn version
(honzam) - new "Fix inconcistency in pagecache" optimalization action
         - slice deletion - improved UI
         - cleanup - reading password checking optimalizations
         - cleanup - simplified (and quicker) queries for some cases
         - boundary check for date value in f_d function
08-05-21 - fixed previous fix
(honzam)
08-05-20 - better SQL update functionality - the "Column count doesn't match
(honzam)   value count at row 1" SQL Error apearing in some configurations
           should be fixed
08-05-16 - improved version of sql_update script, which now allows to run
(honzam)   specified AA_Optimize scripts. The key is the "Fix field definitions
           duplicates" optimalization, which should be run before any sql_update
         - AA -> Optimize shows only implemented actions for each optimalization
         - the same SPAM protection by "answer" field implemented to Links
           module
08-04-28 - sliceobj.php3 file renamed to more standard slice.class.php3
(honzam) - viewobj.php3  file renamed to more standard view.class.php3
         - aaprofile class renamed to more standfard AA_Profile + some profile
           optimalizations
08-04-22 - "AA finder" allows to search also in field deffinitions, now
(honzam)
08-04-21 - added editable discussion field free1
(honzam)
08-04-07 - new design_id parameter for poll.php3 by which you cen redefine
(honzam)   the design of displayed poll(s)
         - polls aliases improved and added new ones
         - removed unused cookies_prefix option from polls module
         - added utf-8 support for czech language version of AA
         - better Costant Editing - the results after submition of the form are
           taken from the database, so it is 100% up to date
         - the Upload Directory is created for slice just during slice creation
           (there is no longer needed to create upload field and upload a file
           in order you can use Xinha (htmlarea) upload functionality)
         - new AA->Otimize action - "Create_Upload_Dir" for slice
           (for the cases the upload dir is not present)
         - phpThumb uses better configuration, so it work better on most
           AA installs
         - small fixes in date-time widget, refactoring
08-03-30 - new support for forms send through AJAX. Now you can write a html
(honzam)   page which will consist of one or more forms. The form after
           the submition will be send by AJAX, stored as new item to AA database
           and the result will be displayed instead of the form
           (without page reload). Example of the code follows:
              <form id="myform1" name="myform1" method="post" action="/apc-aa/filler.php3">
                <input id="inline" name="inline" value="1" type="hidden">
                <input name="slice_id" value="5e4576289e988c756b5525bacc78987b" type="hidden">
                <!-- text displayed insted of the form after the submittion (inserted item in our case) -->
                <input id="ok_url" name="ok_url" value="https://example.org/apc-aa/view_php3?vid=12&amp;cmd[12]=x-12-_#N1_ID___&amp;convertfrom=windows-1250" type="hidden">
                <!-- convertto is optional (you need it if you are not using utf-8 encoding) -->
                <input id="convertto" name="convertto" value="windows-1250" type="hidden">

                <input id="aa[n1_5e4576289e988c756b5525bacc78987b][headline________][]" name="aa[n1_5e4576289e988c756b5525bacc78987b][headline________][]" size="60" value="" type="text">
                <input id="aa[n1_5e4576289e988c756b5525bacc78987b][switch__________][]" name="aa[n1_5e4576289e988c756b5525bacc78987b][switch__________][]" type="checkbox">

                <input id="ajaxsend" name="ajaxsend" value="Send" onclick="SendAjaxForm('myform1')" type="button">
              </form>
         - new {seo2ids:<slices>:<seo-string>} syntax used like
             {seo2ids:8a435116626262738348478463536242:about-us}
           which returns long id of item in selected slice (or dash separated
           slices) with the specified SEO string in seo............. field.
           If there more such ids (which should not be), they are dash separated
         - new {options:<group_id>} syntax which returns HTML <option> tags for
           given constant group - like {options:lt_languages};
         - new {version[:full|aa|svn]} syntax which prints version of AA
           as fullstring, AA version (2.11.0), or svn revision (2368)
         - new {modulefield:<sice_id>:<field_id>} - returns module/slice field
             {modulefield:8a435116626262738348478463536242:_abstract.......}
           replaces older {alias:_abstract.......:f_s:slice_info} syntax
         - fixed older {alias:_abstract.......:f_s:slice_info} syntax
           for module/slice field display
         - encoding conversion uses utf-8 as the base (so you do not need
           to specify it in convertto or convertfrom parameters)
         - fixed backslashes problem in the polls module
         - change of content of module/slice fields invalidates cache for
           the slice
         - javascript links converted form href="javascript:" to standard
           href="#" onclick="" solution on some places
         - fixed counting itmes in bins (if the item is expired AND also pending
           (quite strange item), then it is placed into expired bin only)
         - fixed diesign edit for polls
08-01-18 - {now} command now could use format: {now:format}, where format is
(honzam)   standard php date format @see http://php.net/date. Ex: {now:d.m.Y}
         - Improved the "Copy slice" feature of Central. Now it splits the copy
           into separate tasks (chunks), so we are able to copy also slices with
           unlimited number of items in it. The copying now works well - tested
           on one big real site with 15+ slices including site module and Reader
           management
         - Pagecache is now purged asynchronicaly from toexecute queue
           So far we purged the cache on random basis with the probability about
           1:1000 when you tried to save the content to the cache. Now only
           the purge action is planed into toexecute queue (table) and it is
           then executed rom there (by AA cron). The adventage is, that the
           "lucky" user do not need to wait for cache purge finish. Also it is
           better planed - the clenup is done once for 5 minutes, now
         - Counting of hit_1...., hit_7...., hit_30.... and display_count fields
           are counted asynchronicaly from toexecute queue (table)
         - The hits statistics are now compacted automaticaly (from toexecute
           queue) - hits for one item is grouped for one day (for hits older
           than 8 days). It makes the hit_archive table much smaller
         - little improved UI of user administration
08-01-07 - small bugfix in stringexpand.php3 for new {img} syntax
(Adam)
07-12-21 - added Field_Duplicates_Test, Field_Duplicates_Repair,
(honzam)   Update_Db_Structure_Test, Update_Db_Structure_Repair to actions in
           Central. At this moment you can update the database structure
           of remote AA by those actions. Those actions should replace the old
           system sql_update.php3. All the table definitions are stored
           in metabase. The advantage of this approach is, that only the tables
           which structure is modified are updated (metabase compares
           the definitions for current and latest AA structure). Before update
           you should run Field_Duplicates_Test and if the duplicates are found,
           then run Field_Duplicates_Repair. Only then
           the Update_Db_Structure_Repair is finished well
         - fixed "Copy slice" feature of Central. Now uses Task Manager
           and items import is optional
         - UI of Task Manager is improved a bit
         - better timeout handling in toexecute queue class
         - AA_Http::postRequest function is many times faster on the server with
           PHP5, now. If you are using PHP4, the old slow function is used.
           It speeds up mainly the Central scripts (Synchronize, Copy Slice)
         - preventing AA session expiration for remote AAs
         - fix new database upgrade script to work with MySQL 4.0
         - old records from post2shtml table are deleted periodicaly (with log
           table cleanup)
07-12-16 - fixed syntax errors with polls tables inside sql_update.php3
(Adam)
07-12-12 - fixes in Central Synchronization - constants are synchronized well
(honzam) - better UI for Central Synchronize
         - cleanup in polls - removed unused functions and files
         - fixed probem with loosing number of votes, when poll is updated
07-12-10 - metabase now deals with indexes. Metabase is now also able to create
(honzam)   right SQL for creating whole AA database, so sql_update.php3 script
           will use it instead of SQLs placed directly into sql_update.php3
         - added new Add Polls action in AA -> Optimize which creates Polls
           tables and first Polls template for you
         - cleanup in polls
         - fixed {ids...} construct which was not working after the change
           to AA_Set 07-12-05
         - parameters described in modules/polls/poll.php3
         - fixed syntax errors in aa_optimize.php3
07-12-06 - fixed sql_update.php3 script for polls module - you can use
(honzam)   AA -> Optimize "Add Polls" action for initial table creation
!SQL!
07-12-05 - polls module finalized and working - last bugs fixed, database
(honzam)   structure of polls* tables is different. Thanks should go to Econnect
           who sponsored the initial polls implementation and to Colnodo, who
           sponsored this finalization.
         - Error page could be defined for database errors - use
           define("DB_ERROR_PAGE", "http://some.url.cz/page.html"); in your
           config.php3 file.
         - new possibility to set the the URL for uploaded files. The place,
           where the data are stored is not changed, but you are able to change
           the url which is stored into database. So, if you make symbolic link
           from say /var/www/some.domain.cz/documents to
           /var/www/aa.domain.cz/img_upload/56345363737337373763, then you can
           set that the uploaded url to some.domain.cz, so the files will look
           like from your domain.
           See "Slice Admin" -> "Slice Fields" -> "Upload URL" field
         - new support for compound widgets (like date, file upload) in
           AA_Widget_* class and its support in AA\IO\AbstractGrabber\AbstractGrabber\Form API.
           Compound widgets, which consists from more than one input. In such
           case we use following syntax:
             aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][dte][d][]
             aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][dte][m][]
             aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][dte][y][]
           where "dte" points to the AA_Widget_Dte. The method
           AA_Widget_Dte::getValue() is called to grab the value (or multivalues)
           from the submitted form
         - The database errors are loged into system log (thanks to
           Cedric Knight, GreenNet)
         - site module Setting page converted to more generalized (module) version
         - refactoring to use AA_Set instead of AA_Sortorder and also changes
           in AA_Manager class - method display()
         - AA_Views and AA_Slices uses singleton pattern
         - better support for synchronizatin slices in AA_Metabase, ...
         - synchronization script in AA Central updated
07-12-04 - Added prototip js code - see:
(honzam)      http://www.nickstakenburg.com/projects/prototip/.
           If you add apc-aa/javascript/aajslib.php3 and
                      apc-aa/javascript/prototype/css/prototip.css
           to your page (as javascript), then you can use the tooltips, just like
              <script>
                 new Tip('id_of_HTML_element', 'tooltip html code', {delay: 0});
              </script>
         - view edit page uses big textareas (just like in the form for fulltext)
         - Prototype javascript library upgraded to last version 1.6.0
         - Improved cache deletion - the pagecache_str2find table is cleaned
           only if pagecache table was sucessfully cleaned
         - SQL commands for searching AA database was simplified a bit (without
           functional change)
         - fixed bug in "Bulk email - Send emails" for Reader Slice - remaining
           changes for AA_Log refactoring
         - fixed problem with "sess" variable, when used as parameter to shtml
           file (it redefines inner sess variable). Now it works well without
           problems.
07-11-13 - new Task Manager allowing us to split long tasks to subtasks and let
(honzam)   user control the execution
         - AA Synchronization in Central now uses more general approach using
           AA_Metabase and Task Manager
         - AA_Metabase improved - now it holds structure of AA database, which
           help us with security check in SQL commands, database upgrades
           or just updates of data
         - New "Fix field definitions duplicates" Optimalization script in
           "AA -> Optimize". There should be only one slice_id - field_id pair
           in all slices, but sometimes there are more than one (mainly because
           of error in former sql_update.php3 script, where more than one
           display_count... fields were added)
         - Better deletion of slice when you delete it (more cleanup is performed)
         - Improved "Copy slice/site" feature in Central
         - the "slice_id, id" pair is marked as PRIMARY KEY for "field" table
           in sql_update.php3 (instead of just KEY). You can have problems with
           sql_update.php3, because there was small bug in previous
           sql_update.php3 script, which duplicated the display_count... field.
           In such case you should go to "AA -> Optimize" page and run
           "Fix field definitions duplicates" repiar
         - changed name of class from toexecute to AA\Later\Toexecute
07-11-12 - new {limit:<ids>:<offset>[:<length>[:<delimiter>]]} syntax
(honzam)     Allows you to get only the part of ids (first, last, ...) from the
             list - like:
                 {limit:12324-353443-533443:0:1}   // returns 12324
                 {limit:{ids:6353428288a923:d-category........-=-Dodo}:0:1}
             Offset and length parameters follows the array_slice() PHP function
         - new {next:<ids>:<current_id>} and {previous:<ids>:<current_id>} syntax
             Next/Previous item for the current item in the list - like:
                 {next:12324-353443-58921:353443}   // returns 58921
                 {next:{ids:6353428288a923:d-category........-=-Dodo}:566a655e7787b564b8b6565b}
         - new {img:<url>:<phpthumb_params>} syntax - Creates link to modified
           image using phpThumb - like:
                 <img src="{img:{img_url.........}:w=150&h=150}">
             see http://phpthumb.sourceforge.net/demo/ for phpThumb parameters
         - "No Item Message" can use AA Expressions for view.php3 as well as for
           slice.php3. It alse uses textarea now (so the text could be longer)
         - buttons on itemedit form and actions in Item Manager have ids
           attributes now, so you can easily hide it by CSS
         - better error messages in fillform.php3
         - fixed limit parameter for grouping, so folowing code now works:
               sort = 5headline........-
               sort[0] = 5headline........-
               sort[0][headline........]=d&sort[0][limit]=5
             displays maximally 5 items for each group
          - fixed "=" operator - the "*" and "?" characters are not replaced
            by "%" and "_" in SQL which was nonsense anyway
         - a bit nicer HTML code for <select... widget
07-09-18 - Central now supports creation of exact copy of the slice on (or from)
(honzam)   remote AAs
         - new hitcounter statistics - to display statistics use the
           {hitcounter:days:<ids>} command - just like:
           {hitcounter:days:24457-24474} or
           {hitcounter:days:{ids:76f59b2023b8a4e8d6c57831ef8c8199:d-publish_date....->-1185919200}}
         - Item Manager actions converted to new - class approach
         - better counting algorithm for hitcount statistics
         - filler.php3 updated to work with WAP pages (Thanks to Colnodo)
         - AA javascript library now uses AA_Config object to store AA settings
         - Alerts "Send Emails" page now works also with ReaderManagement slices
           which uses slice password
         - first classes supporting media/foto gallery in files.class.php3
         - storeable_class renamed to standard AA_Storable
         - widgets moved to separate include file widget.class.php3
         - preparison for joining fulltext view and index view code
         - last places where appears $HTTP_*_* replaced by superglobals - $_*
07-09-07 - fixed the code of hitcounter to work also in PHP4
(honzam)
07-09-05 - removed last references to HTTP_GET_VARS, HTTP_POST_VARS, ... so AA
(honzam)   should work with "register_long_arrays" php option switched OFF
         - fixed bug with "Propagate changes" in constatnts - it works well with
           fields with multivalues as well
         - better chsking of x=.. and o=.. perameters, so the database error is
           not shown if the parameter is corrupted
         - updated prototype.js library to version 1.5.1.1
07-08-29 - fixed typo in sql_update.php3
(honzam)
07-08-24 - New version of counting item hits (AA\Util\Hitcounter) with ability
(honzam)   to display "Most popular item last day/week/month". See
!SQL!      http://www.actionapps.org/en/Designing_Output_Templates#Popular_Items_.28Hit_counting.29
           for more details.
           (you need to run sql_update.php3 script !!!)
         - logging is rewritten to class (AA_Log), the logs are automaticaly
           cleaned (entries older than 40 days) so the log should never became
           so big
         - New ParseMulti transformation for "Modify Content..." feature
           of ItemManager - Divide the text to multiple values on specified
           delimiter
         - Two Boxes input type now allows to move more than one value at time
           (by selecting more values with CTRL key)
         - uploaded new basice ER schema of AA database from Jitka Zavadova
           See doc/AAdb_ER.html
         - updated AA coding standards
         - used size-optimized version of prototype.js library
         - Database eroros messages are less verbose - do not display database
           username, ...
         - _#ID_COUNT gives better results, now - mainly in the casese, where
           we have nested views
         - Alias parameters on the field admin page are now textareas,
           so the code for the parameter could be longer. We also changed the
           database field type, so the length of the parameter is not limited
           to 256 characters (you need to run sql_update.php3 script)
         - do not dislplay errors in img.php3 (phpThumb)
         - some small fixes, name changes and security improvements
07-08-22 - fixed function {@fieldlist} - the fields are taken from the slice
(honzam)   and in the same order for each item in the slice
07-08-13 - fixed problem of overwriting articles which was fed by RSS or AARSS
(honzam)   (cross server networking)
07-08-10 - fixed problem with adding item (stringexpand.php3 error)
(honzam)
07-08-04 - Central upgraded to new version with less bugs
(honzam) - other small fixes
07-08-03 - AA_Manager class which takes care about all managers - Item Manager,
(honzam)   Links Manager, ... now support new API for actions (AA_Manageraction)
         - Central manager switched to use new acion API - AA_Manageraction.
           We plan to rewrite all the actions (for item and links) to that new
           API and remove the code for the old approach
         - synchronize scripts added to central admin interface
         - {conds} command obtains third parameter, which do not url encode
           the condition, so for the view you have to use the old version
           without the third parameter:
             {view.php3?vid=9&cmd[9]=c-1-{conds:category.......1}},
           but for {ids..}, where we do not expect urlencoded strings you have
           to add third parameter, like:
             {ids:5367e68a88b82887baac311c30544a71:d-headline........-=-{conds:category.......3:1}}
         - The links, which are not active in AA Admin interface is now
           completely hidden (like the "AA" link for Editors)
         - disabled "Update modules table" option in sql_update.php3 since it
           clears the priority field
         - the field "Upload URL" on "Slice Admin" -> "Slice" page is hidden,
           since it is not working, yet.
         - fixed Hirachical constant editor - now works again
         - linkchecker do not produce warnings, if the domain do not exist
         - removed unused function p_arr
07-08-01 - new "Central" admin interface visible for superadmins. It can store
(honzam)   multiple configurations of AA, so you can manage more AAs
           and databases from one place. Currently it allows to manage
           the configurations (add, edit, delete) and also do sql_update.php3
           on multiple (selected) AAs
         - new table central_conf created in sql_update.php3 script - used
           by "Central"
         - new robots.txt file for more secure setting of the AA install
           (Thanks to carlos Alberto RR <carlos@colnodo.apc.org>)
         - new f_z alias function which get the size or type of the file
           (Thanks to Adam Sanchez)
         - new expand function {lastedit:[<date_format>:[<slice_id>]]}
           which displays the date of last modificaton of any item in the slice.
           The format of date is the sane as used in PHP date() function
           (see http://php.net/date). slice_id could be ommited - then check
           all the slices in AA. Thanks belongs to Adam Sanchez.
         - more spam checking for in discussions - you can use the "answer"
           field solution in the same way as with anonymous form for items
         - small refactoring of QuoteColons() in strinexpand.php3 - moved
           to AA_Stringexpand::quoteColons($text) where it belongs.
         - small refactoring in ItemManager - bins internaly uses bit
           representation insted of string
         - fixes in AA synchronization script
         - fixed some SQL queries in sql_update.php3, to not produce errors
           in last versions of MySQL
         - fix database error messages to not produce invalid html code
         - small fix in tabledit
07-07-30 - fixed javascript problem in "Slice Admin" -> "RSS Feeds", so delete
(honzam)   and edit works again.
07-07-02 - fixed MLX view caching - enable with define ('MLX_NOVIEWCACHE',0);
(mimo)   - fixed mlx mini view generator (aka getTranslations)
           now handles MLXView::getTranslations no ctrlSliceID
         - enabling MLXTRACE now gives timing info
         - slight change to what view.php3 passes to mlx->postqueryzids
         - using $_REQUEST to get $keystr in cached.php3 - register_globals
07-06-07 - fixed "Modify Content" action in Item Managrer to work with PHP4
(honzam) - fixed Alerts admin page buton - it didn't work after clean-up
           (typo problem)
07-06-01 - export slice now allows convert exported data to utf-8
(honzam)   It is handy if you are switching slices to another server, where
           AA uses newer - utf-8 character encoding.
07-05-29 - fixed some typos (so view editing works again)
(honzam)
07-05-28 - new Optimize_db_feed_inconsistency action in AA -> Optimize, which
(honzam)   tests, if feeds table do not contain relations to non existant
           slices. Also fixed for use with PHP4.
         - inner node feeding setting page now displays wrong assignments to non
           existant slice (database inconsistence after slice deletion)
         - fixed problems with PHP4
            - _AA_CoLoN_, ... was not correctly unescaped, so such strange
              strings were displayed on the output
            - class names are in lower case in php4, so functions (input types)
              selection did not work correctly
         - fixed typos in sql_update.php3
07-05-28 - multiple checkboxes input type has its own ajax output
(honzam) - new url parameter AAnoSORT (set[]=sort-AAnoSORT) for view.php3, which
           cut the sort setting in view off
         - annonymous filler now supports new possibility to update already
           filled items through aa[u536353...] syntax
           (see changes on 07-04-15 for description)
         - better quoting if the displayed text in {htmltoggle} and
           {htmlajaxtoggle}, so the displayed text should not break
           the javascript
         - database structure updated to last verson in sql_update.php3 script
            - better support for MySQL 5.0,
            - field for grouping items in views by first letter, ...
         - fixed typo in searchbar (admin interface), so it is functional again
         - prototype (javascript library for AJAX, DHTML, ...) updated
           to version 1.5.1
07-05-16 - fixed help text for site include (thanks to Adam Sanchez)
(honzam)
07-05-10 - much improved AJAX editing - The input types are slowly moved to
(honzam)   AA_Widget class. Ajax editing currently uses this approach.
           {ajax:<item_id>:<field_id>} allows to display correct input type
           (widget) based on the setting of the field.
           Not all widgets are currently rewritten for using in AJAX editing,
           but there is defined fallback mechanism for all the widgets, so all
           the fields are editable with correct options (including constants,
           slice items selects, ...).
           Also parameters for each widget are moved directly to AA_Widget_*
           classes as AA_Property. It will allow to add new widgets just by
           defining new class (based on AA_ Widget). All will work automatically
           including Param Wizard, ...
         - (mass) Modify content feature of item manager now allows to select
           not only current items or user selection, but also all items
           in slice, all trashed items, ...
         - new experimental "named expression" syntax:
              {define:name:expr} and {var:name:parms...}
           The {define:name:expr} must be processed before the {var:name} is
           processed when the page is generated. You can use parameters with
           {var:name:param1:param2:...:...} the expression then will use
           _#1, _#2, ... for each parameter, just like:
              {define:username:My name is#: _#1} and usage {var:username:Joseph}
           You can use it for
              - creating on-line "aliases",
              - passing parameters between nested views,
              - ...
         - it is possible to "group by" using only first 1, 2, or 3, letters
           of the field in views
         - better spam filter in discussions - http links are not allowed
           for some fields (like subject, author, ...)
         - fixed problem with using page scroller on page, which uses slice.php3
           and als[] aliases. The aliases are not lost on other pages, now.
         - storeItem() function now uses $flags array instead of separate
           function parameters, which is easier to maintain.
           The new flag "throw_events" introduced - allows to skip throwing
           event on item insert/update (good for mass import of items)
         - characterset conversion scripts are updated to the latest version,
           which fixes one bug in UTF-8 encoding
         - fixed problem with "call time pass by reference" warning of PHP
         - cookies manipulation javascript functions moved to aajslib.php3,
           so it is accessible also on user pages
07-05-09 - ActionApps code clean-up.
(honzam)    - added comments for functions, classes, ...
            - cleaner code used, indentation of 4 spaces used in every script...
            - the sources should be compliant to ActionApps coding standards
              (https://actionapps.org/aa/doc/coding.html)
           Thanks to Lukas Panek.
07-04-15 - new version of filling items from form - through aa[] array allowing
(honzam)   multiple items to store at once. The format of the data is followiing
                 aa[u<long_item_id>][modified_field_id][]
           Note:
              first brackets contain
                  'u'+long_item_id when item is edited (the field is rewriten,
                                   rest of item is untouched)
                  'i'+long_item_id when item is edited (the value is added to
                                   current value of the field, rest of item is
                                   untouched)
                  'n<number>_long_slice_id' if you want to add the item to
                                            slice_id <number> is used to add
                                            more than one item at the time
              modified_field_id is field_id, where all dots are replaced by '_'
              we always add [] at the end, so it becames array at the end
           Example:
               aa[u63556a45e4e67b654a3a986a548e8bc9][headline________][]
               aa[i63556a45e4e67b654a3a986a548e8bc9][relation_______1][]
              aa[n1_54343ea876898b6754e3578a8cc544e6][publish_date____][]
         - new AA_Item class which is able to cache items during page display.
           It should reduce number of SQL queries during page creation
         - more time information on SQL queries for debugtime option
         - new class AA_Includer which will automatically include required class
           definitions (user defined actions/functions) for you in the future
           (not finished, yet).
         - some query optimization for GetItemContent()
         - make sure that $_GET, _$POST, $_COOKIES are always unquoted
           (check in init_page.php3)
07-03-29 - increased max size of val field in active_sessions (to mediumtext)
(brazda)
07-03-06 - new {formbreaktop:...} and {formbreakbottom:...} commands for
(honzam)   splitting inputform into parts - the usage is the same
           as {formbreak:...}, but the tabs are displayed only on top or bottom,
           respectively
         - fixed bug of not working user administration, when all reader slices
           are marked as deleted
         - new possibility to use utf8 encoding in site module
           (en-utf8_site_lang.php3)
07-02-28 - AA synchronization script in AA Central now is able to synchronize
(honzam)   two remote slices. It works, but we need UI improvements and testing
07-02-25 - started work on Central - the place, from which you can control many
(honzam)   installed AAs. The first script part is used for synchronization
           of slices across AA installs.
           @see /apc-aa/central
07-02-22 - better spam checking feature are now implemented in filler.php3
(honzam)   (anonymous items) as well as filldisc.php3 (discussion comments). It
           is based on the fact, that spammers obviously submits many urls, so
           there is allowed only limited count of links for each field. Four or
           less urls are always OK. More are allowed just for longer comments
           (1 link for 250 characters).
         - ajax methods now uses prototype implementation of AJAX
           @see http://prototypejs.org
         - new experimental possibility for "Selectbox" and "Two Boxes" input
           types to set use item value in conditions. This allows to create
           Selectbox with Related Items where you show only related Items of
           given category of edited field:
             conds[1][place..........1]=1&conds[1][operator]=%3D&conds[1][value]=_#TOWN_ID_
           _#TOWN_ID is alias in current slice, so only items where
           place..........1 is equal to town of currently edited item is listed
           in the selectbox.
         - new possibility to display not only one "field: of current user from
           Reader Management Slice by {user:address.........}, but you can use
           any AA string with aliases, ... {user:This is my _#FULLNAME}
         - new {htmlajaxtoggle:<toggle1>:<text1>:<toggle2>:<url_of_text2>} used
           for hide/show part of the page (like {htmltoggle}), but the hidden
           code is loaded into the page right after user demand (click)
           It creates the link text1 (or text2) and two divs, where only one is
           visible at the time - first is displayed as default, the second is
           loaded by AJAX call on demand from specified url. The URL should be
           on the same server.
           The /javascript/aajslib.php3 shoud be included to the page by
           (by <script src="">)
           Example:
             {htmlajaxtoggle:more &gt;&gt;:Econnect:less &gt;&gt;:/aboutEcn.htm}
         - new else_text option for {ifset:<condition>:<text>:<else_text>}
           - displayed, when the condition is not empty
         - New {slice:name} function which displays slice name :-)
         - fixed problem with additional newlines in e-mails sent by AA
07-02-06 - new possibility to grant AA permissions to only subset of users from
(honzam)   Reader Slice. The "Reader Set" is defined by normal conditions, so
           it is extremely powerful - you can use any field of Reader slice
           for it. The conditions are controlled be new AA_Set feature, which
           holds set of conditions and sorts (we will use such "Sets" as named
           conditions to view.php3/slice.php3 in near future). The set is
           defined on "Slice Admin -> Design - Sets of Items".
           The "reader set" works just with LDAP permission system, right now,
           but it is very easy to adapt it also for SQL permissions.
         - image manipulation library phpThumb integrated into AA. You can use
           it by calling /img.php script:
           <img src="/aaa/img.php?src=https://example.com/img/flower.gif&w=150">
           (w=150 means that image will be converted to width=150).
           All the parameters you can see on
           http://phpthumb.sourceforge.net/demo/demo/phpThumb.demo.demo.php
           (just use img.php instead of phpThumb.php in the examples)
           The modified images are cached in <IMG_UPLOAD_PATH>/phpThumbcache/
         - new possibility to define external script as Control File for Site
           Module, so you can give this script to your users without the need to
           give them also rights to edit AA files.
              There are two possibilities, how to control the apc_state
              variable. It could be se in ./modules/site/sites/site_...php
              control file. The control file could be managed only by people,
              who have the access to the AA sources on the server. If we want to
              permit control of the site to extenal people, which do not have
              access to AA scripts directory, then it is possible to them to not
              fill "site control file" in site configuration dialog and then
              call this script from their own file, where the new $apc_state,
              $slices4cache and $site_id will be defined and passed by GET
              method. Just like this:
                 $url  = 'https://example.org/apc-aa/modules/site/site.php3?';
                 $url .= http_build_query( array(
                           'apc_state'    => $apc_state,
                           'slices4cache' => $slices4cache,
                           'site_id'      => 'ae54378beac7c7e8a998e7de8a998e7a'
                                          ));
                 readfile($url);
           See apc-aa/modules/site/sites/external_controlfile_example.php3 for
           more info
         - Basic spam filter solution for discussions. It is based
           on the presumption, that the robots fill all the fields in the form,
           even the hidden ones. filler.php3 then never stores comment, which
           would have "answer" field filled. So if you add say:
              <style type="text/css">
                  .skryt { display:none };
              </style>
              <div class="skryt">
                Do not fill, please: <input type="text" name="answer" value="">
              </div>
           to the form, then the comments form is "protected". It works quite
           well, but of course it should be improved in future.
         - stringexpand functions was converted to classes AA_Stringexpand_...,
           which is more flexible and will allow to add new custom syntaxes
           {custom_function:..} in the future.
         - the result of most time consuming stringexpand functions is cached
           now, so if you will use {ids:...} and then again {ids:...} with the
           same parameters during displaying one page, then the database is
           contacted just once. The unaliasing is faster then (thanks to new
           AA_Stringexpand class).
         - new {htmltoggle:<toggle1>:<text1>:<toggle2>:<text2>} which creates
           the link text1 (or text2) and two divs, where only one is visible at
           the time
           see http://www.actionapps.org/en/Syntax
         - new parameter <restict_ids> for
           {ids:<slices>:<conds>[:<sort>[:<delimiter>[:<restrict_ids>]]]}
           see http://www.actionapps.org/en/Syntax for more details
         - better {icq}, {skype}, {jabber} handling
         - speedup of AA unaliasing by better regular expression handling
           (x-times speedup for complicated AA expressions - like forms)
         - new {aggregate:function:ids_string:expression:parameter} which
           operates across set of items. The possible functions are:
             sum, average, concat, count
           parameter is used just for concat (concatenation) as delimiter
           expression could be field_id as well as alias
           (see http://www.actionapps.com/en/Syntax for more details)
         - new {strlen:<string>} alias function (returning length of the string)
         - new parameter "add" for {substr:<string>:<begin>:<length>:<add>}
           alias function. The <add> parameter is added to the returning string,
           but only if the resulting string is shorter than current <string>.
           It is useful if you want to short the headline to max 60 characters,
           and add three dot, in the case the headline is shorted:
              {substr:{headline........}:0:60:...}
         - new {trim:<string>} alias function - removes beginning and ending
           spaces from the <string> - see php trim() function
         - new possibility for {conds:<string>} alias function. Now you can
           create condition based on value of the field (including multivalue):
              {view.php3?vid=9&cmd[9]=c-1-{conds:category.......1}}, where
           {conds:category.......1} is expanded to something like
           '%22Squash%22%20OR%20%22Table%20Tenis%22', which is urlencoded
           "Squash" OR "Table Tenis". This way you can find all people, who have
           at least one common hobby with you.
         - new {constant:<group_id>:<value>:<what>} which allows to get
           the 'Name' of constant in <group_id> for the specified <value>
              say {constant:apc_main_categs_:ENV:name} returns "Environment".
           Default value for <what> parameter is "name", so if you want to know
           the name, then you can omit it.
         - session ids are passed by GET (again) - not by cookies, since there
           was problems with it (the tabs in firefox shares the cookies,
           so multiple tabs uses the same session id, which is still not ok
           for some pages in AA administration.
         - It is possible to specify more than one searchbar default condition
           in profiles, now; code moved to more object oriented - using
           AA_Conditions, ...
         - textareas in AA forms automatically get bigger, if it already
           contains long text
         - admin interface for discussion now contains information about
           IP address of comments writer
         - new possibility to use conds[] and sort[] also for constants used for
           displaying some Input Type. Now you are able to sort the constants
           transparently at the time it is displayed in the selectbox, for
           example. You are also able to display only constants containing
           "Nature", have value bigger than 1000, ...
         - added some classes to discussion output, so it is more skinable, now.
         - better handling of empty search row (change in inner code) in search
           bar
         - added modules/polls to SVN repository - This module allows voting
           on page - it uses "phpPolls" code and it is not completed yet.
           Anyway it is better to have it in the svn in order other can look
           and finish it since Pavel Jisl (original author) is no longer
           available for this work.
         - GUI improvement in view setting - link to view is not in popup
         - Cleanup
            - class names now uses standard naming convention - prefix AA_ and
              name with all first letters in upper case (manager => AA_Manager)
            - global functions now rewritten to static class methods, where
              appropriate (sliceid2name() => AA_Slices::getName())
            - class methods begins with lower caps letter
            - cleanup of QueryZids() parameters - fields are no longer needed,
              as well as other unused parameters
            - new AA_Object, AA_Property, AA_Widget, AA_Fields, AA_File_Wrapper,
              AA_Set classes. Many uses standard AA properties and prepared for
              easy extensibility of the code
            - regular expressions ereg functions replaced by faster preg
              functions, where possible
            - new AA_File_Wrapper class, which is used for accessing local
              as well as remote (http:, ftp:) files
            - new implementation of AA_Storable - more object oriented, more
              robust. It is based on AA_Object super-parent class and its
              getPersistentProperties() method, which should be overriden in all
              Child classes which want to be persistent. The objects are stored
              to new object tables (object_text, object_integer, object_float).
            - improved valiadion class AA_Validate
            - new javascript AA_Config object storing AA_INSTALL_PATH,
              ... for usage in AA javascripts
         - added "prototype" javascript library to the AA. It have some very
           nice features like function $(), which is shortcut for
           document.getElementById, DOM manipulation functions AJAX, ... We will
           use it intensively in near future.
           see http://www.prototypejs.org/
         - database structure updated - fields in object_* tables renamed to
           match common structure
         - pagecache uses REPLACE command where possible
           (instead of SELECT+INSERT/UPDATE)
         - new optimization functions in AA Optimize
            - Convert no longer used slice.category_sort to slice.group_by
            - Copy Content Table

         - fixed banner parameter and some more fixes in slice.php3
         - fixed problem with some filenames in CSV import
         - small changes and bugfixes in slice export, authentication and
           pagecache
         - fixed database structure to be compatible with MySQL > 4.1
           (binary changed to varbinary)
         - fixed sql permission system, so it works also if crypt() function
           of the system uses Blowfish encryption
         - fixed problems with charsets in AA Admin interface on some systems
           (php 5.2?)
         - the xinha (wysiwyg HTML area) do not report javascript error, now
           (dirty hack, for now)
         - fixed bug in link checking code (used in Links module) - the server
           response wasn't parsed well, when the response text contains
           apostrophe (Italian server responses for 404 uses such character)
         - fixed bug in {math} - now work again
06-10-14 - added profile support and profile settings button also for groups
(brazda)   (rules priority is in the order User -> Groups -> Default, so if you
           define different values for some rule, then the User rule wins.
           The priority of rules in different groups is random.)
06-10-13 - fixed bug in new input validation code
(honzam)
06-10-11 - new {icq:<user_id>[:<action>[:<style>]]} expressions, which display
(honzam)   ICQ status of the user.
                user_id - ICQ ID of the user
                action  - add | message
                style   - 0-26 - displayed icon type
                        (see: http://www.icq.com/features/web/indicator.html)
         - new {field:<field_id>:name} expression - displays name of the field
           as defined for inputform
         - {ids:<slices>:<conds>[:<sort>[:<delimiter>]]} modified to be able to
           get ids from more than one slice (slice ids are delimited by dash -)
         - "No Item Message" in Item Manager is unaliased now (= you can use AA
           expressions there)
         - new possibility to set ordering of items in Item Manager on two
           or more columns in profiles
         - fixed bug with automatic feeding (did not work, when item was posted
           posted to holding bin first)
         - fixed problem with two boxes inputform - the order of values now
           persist
         - fixed _#ID_COUNT to display also 0
         - paths to scripts are relative again for the admin interface
         - it is possible to order values also by "level" (of nesting)
           as defined in Constants for the field
         - UI change - added another 4 empty rows for setting of permissions
           to slice for user
         - new validation class
         - optimize/repair scripts was moved to AA -> Optimize
           (aa_optimize.php3) script
         - work on history tracking begins - see AA -> history
06-08-29 - new version of "Modify Content..." window - better and universal
(honzam)   interface, more options, easy to write your own new transformation
           class (see AA_Transformation class)
         - "No Item Message" is unaliased now, for Item Manager
         - fixed problem with wrong url of "related Item Window" and "Parameter
           Wizard"
         - fix: _#ID_COUNT returns string "0" if no item is found (instead
           of empty string)
         - new AA_Condition class for conditions manipulations in searchlib.php3
         - fixed email permissions file to use User and Group constatnts instead
           of translated strings
06-08-22 - fixed security hole for setup.php3
(honzam) - changes all binary fields in database to varbinary, which is needed
           for MySQL >=5.0.17 in sql_update.ph3; new repair routine in test.php3
           which repairs db when you already applied unpatched sql_update.php3
           script to MySQL >=5.0.17 database, so your fields are binary and
           users can't login, do not see constants, ...
         - admin/console.php3 now allows run any php script including calling
           AA functions. Only superadministrators could use it (after they
           uncomment one "exit" line in the code.
         - New possibility to delete more than one slice in one step on slice
           deletion page. You can also delete slices, which are not marked
           as deleted.
         - new possibilty to use Local URL Picker as input type
           Thanks to Omar Martinez / Jaime Torres
         - Superadmin is now able to change posted_by field through
           "Modify content" feature of Admin interface
         - New {expresions}
             - {log:number:base} for logarithm
             - {unpack:pcked_id} for unpacking packed id
         - es language files updated (just 2 additions)
         - fixed bug "When you add a value in a hierarchicalConstant it
           does not respond to the onChange triger on the mainbox"
           Thanks to Omar Martinez
         - fixed feeding bug - the items was rewritten or imported once more
           if they was edited in the source slice
         - fixed small bugs
         - begin the work on aa_synchronize.php3 script, which allows to sync
           setting of two similar AA installs or just slices
06-07-27 - moved from CVS to SVN (Subversion)
(honzam) - "Modify Content" group operation in Item Manager is improved. It uses
           new AA_Transformation API, so new transformation function could be
           easily added. There is new "Translate" transformation, by which you
           are able to transform one value to one or more values. It works also
           with multivalues. It uses new TabWidgetToggle for parameter setting.
         - New possibility to change URL of uploaded files/images (per slice
           basis). Images was stored with general AA URL for all slices, which
           is not always what you want. Now you can redefine it on slice setting
           page. Not 100% finished, yet.
         - Session IDs are propageted via cookies (if possible - if not, URL
           parameter used - just as before)
         - AA_Slices and AA_Views classes used for slice/view properties,
           where possible. Those classes caches slice/view properties, so it
           reduces number of database calls.
         - Started work on AA_Components class used for plugable classes.
         - Started work on TabWidgetToggle - Widget, which allows you to set
           different parameters for different options in the selectbox above.
           Say you want to inport data from CSV or XML - for both formats
           you have to set another parameters, so you first select the CSV
           and the parameters like "delimiter" apears on the screen
         - Started work on AJAX editing - Proof of Concept - you can use it like
             {ajax:{_#ITEM_ID_}:headline........[:_#HOW2SHOW]}
           which means, that _#HOW2SHOW for _#ITEM_ID_ will be printed inside
           the div and after click on it the textfield for headline........
           is displayed and the field could be directly edited. It works
           in AA Item Manager as well as on public page - you just need
           to attach javascript/ajax.js to your page. It is just experimental
           version, yet.
         - Started work on AA\Util\ChangesMonitor class which will track the field
           changes/history - we are still at the beginning, here.
         - New class AA_Fields holding information the field information
         - New AA_Metabase class which will be used to hold all the informations
           about table structure. It will be additional database abstraction
           layer.
         - New AA_Condition class for conds[] handling
         - aainputfield renamed to AA_Inputfield
           (used new naming convention for AA classes).
         - views class renamed and AA_Views. AA_Views was improved to use static
           class variable to cache the view properties which reduces the number
           of database queries. Static class variable also allows us not to use
           global variables for that cache.
         - grabber class renamed to AA\IO\AbstractGrabber\AbstractGrabber, saver class to AA\IO\Saver
           and moved to grabber.class.php3 file

--------------------
06-07-14 - v2.10.0 - stable release
--------------------
06-07-14 - new possibility to display HTML comments before and after the view
(honzam)   by checking the checkbox in view setting - good for debug
         - mail template for sending discussion comments to users is grabbed
           from FIRST discussion view of the slice, if the view is not asociated
           in Fulltext setting, for some reason
         - fixed sending of test e-mail to Readers
         - language files updated
         - optimize/reapair framework disabled by default in test.php3
06-06-30 - added object_text, object_float, object_numeric tables
(honzam)   to the databaase used as general object store
06-06-27 - fixed RSS and AARSS feeding - short_ids are not incremented after
(honzam)   each feeding - Feeding moved to grabber/saver API
         - improved usability of Admin interface of View edit - you will stay
           on the view setting after save (not moved to list of views)
         - {rss:...} alias now replaces also "& " by "&amp; "
         - SELECT + INSERT/UPDATE used instead of REPLACE SQL command. REPLACE
           is not implemented in many DB engines and it also do not work
           correctly with autoincremented values in MySQL
         - fixed form validation for multivalue fields
           (it did not work correctly for example for numeric fields)
         - fixed bug in SQL query for mapping fields (query failed on MySQL 5)
06-06-14 - fixed security problem with require - requires no longer use
(honzam)   variables (see http://secunia.com/advisories/20299/)
         - new possibility to use aliases and fields from Reader Slice
           in Alert's e-mails. Now it is possible to create personalized e-mail
           templates, so the e-mail could look like "Dear Mr. Rosicky, ...".
           You can use the aliases in welcome e-mail as well as in alerts e-mail
         - Alerts test page is rewritten, so you can select from list
           of associated Readers and send the e-mail as if it is sent on regular
           basis to that user
         - new AA expressions which is based on f_t alias function modifiers
           Instead of {alias:headline........:f_t:some_text:striptags} you can
           write {striptags:some_text}. The same it is for
               - {rss:some_text}
               - {csv:some_text}
               - {safe:some_text}
               - {javascript:some_text}
               - {urlencode:some_text}
               - {conds:some_text}
           There is also new {substitute:some_text} which simply expands
           the text (finds aliases and substitute) and
           {convert:some_text:from:to} for character encoding
           (like: {convert:some_text:windows-1250:us-acsii})
         - database structure updated to better work in MySQL 4 and MySQL 5
           (columns with packed ids are marked as binary, so it is not converted
           during import by MySQL characterset feature)
         - fixed problem with COMMENTS used on MySQL 3
           (which do not supprt this feature)
         - fixed problem with SQL JOIN command in MySQL 5 in Links module
         - csv import rewritten to allow periodical feeding of the data from
           url/file (not completed yet)
         - added number of displayed items near to page-scroller
         - there is no longer need to add slice_id parameter to itemedit.php3
           script if called from public pages. You can just provide id
           (the slice_id is then grabbed from the item). Internaly we slightly
           modified the character encoding handling in html header of input form.
         - fix: removed additional line breaks in text e-mails
         - fixed windows-1250 to us-ascii conversion (used for example as
           view.php3?vid=123&convertfrom=windows-1250&convertto=us-ascii)
         - changing of headline........ field enabled in
           "Admin" -> "Change field IDs"
         - new AA_Alias/ AA_Aliases class for better Alias handling
           (internal change)
         - FILEMAN_MODE_FILE and FILEMAN_MODE_DIR for file uploads changed from
           variables to constants (which is more safe)
06-05-25 - added new rss option to f_t function
(brazda)
06-04-24 - new parameter convertto and convertfrom for view.php3 which changes
(honzam)   character encoding
           (http://examle.org/aa/view.php3?vid=22&convertfrom=windows-1250&convertto=utf-8)
         - fixed bug in synchronization with Apache auth module -
           tables auth_user and auth_group are not cleaned after Reader
           Management Slice is updated, but they are filled with correct values,
           now
         - new insert type Date (just logically saparates text and date inputs;
           internaly it bahaves just like text field)
         - better behavior of File upload field when checked as Required. There
           is no longer need to fill upper field in the inputform. However, it
           is still not perfect since the content is checked before we move
           the file to destination directory, which might sometimes fail
06-04-19 - authors can now see all items in related item window but they
(brazda)   can edit only their own items
06-04-07 - added priority field for slices (modules), so you can reorder
(honzam)   the modules in top-right selectbox
         - top-right slice/module selecbox is now generated as external
           javascript file (cached), so the admin pages are loaded more quicker
         - new {now} alias (returns current time as timestamp, so you can use
           it in compare functions)
         - new "clear pagecache" option in test.php3
         - fixed problem with fileuploads - new directory for slice is created
           with the right permissions, again
         - fixed bug in offline filling - the HTML falg was not accepted
         - fixed bug in the unaliasing of parameters of field input functions
06-03-27 - Updated database structure (sql_update.php3)
06-03-21 - Added support for unaliasing of parameters of field input
(brazda)   functions. Now you can use any {} AA expressions in parameters
           (e.g. conds[0][switch..........]={user:switch..........} in
           combination with user settings from ReaderManagement module).
06-03-16 - small improvement of sitemodule UI - standard widgets used, where
(honzam)   possible
06-03-15 - new {ifset:<aa_expression>:<aa_output>}
(honzam)   If <aa_expression> is filled by some text, then print <aa_output>.
           <aa_output> could contain _#1 alias as shortcut for <aa_expression>
           condition, but you can use any {} AA expression. Example:
              {ifset:{img_height.....2}: height="_#1"}
         - There are new links to View-edit page under each textarea, which
           contain {view.php3?vid=...} so you can easily navigate between view
           settings
         - Fixed some language constants
06-03-02 - new {ids:<slice>:<conds>[:<sort>[:<delimiter>]]} syntax, which
(honzam)   returns long item ids based on on conditions  d-... (like in views)
           Example:
              {ids:6a435236626262738348478463536272:d-category.......1-RLIKE-Bio-switch.........1-=-1:headine........-}
           returns dash separated long ids of items in selected slice where
           category begins with Bio and switch is (=) 1 ordered by headline
           descending. The main usage is with {item..} syntax - just like:
               {item:{ids:...}:_#HEADLINE}
         - new Conditions and Sortorder classes (used for conditions...)
06-02-28 - New test environment. Created new abstract class Optimize (test.php3),
(honzam)   from which you (as programmer) can create new testing and possibly
           repair scripts. For now we have two tests/repairs
             - finding unnecessary duplicate records in relation table
             - conversion of permissions for items, which was filled by some
               reader from Reader slice.
           Run /test.php3 for more details.
         - HTMLArea generates shorter <p> tags (instead of javascript nonsence)
         - Fixed deletion of temporary uploaded files
         - SQL query optimalization in perm_core.php3
         - Fixed bug with Links module - in some specific cases the link was
           not updated
         - Fixed caching problem - the cache is not invalidated as whole after
           site update
06-02-19 - Discussions updated
(honzam)     - author/email/url is stored in cookies, so readers do not need to
               fill it twice. No new setting of discussion is needed -it works
               as is.
             - Authors of the article as well as authors of the comment could
               be notified about new posted comment by email
               see: https://actionapps.org/en/Interacting_With_Your_Audience#Tip_2:_New_comment_notification
         - {item:<ids>:<aa_expression>[:<delimiter>]} code now allows to specify
           more than one ID in <ids>. <ids> should be dash "-" separated
           and could be in short as well as long form. You can specify also
           record delimiter as fourth parameter. If not present no delimiter is
           used. Example: {item:53443-54322-53553:_HEADLINE:, }
         - "Modify content" function of AA admin interface improved:
              - now is able to set/unset also HTML/text flag
              - now also able to copy content of another field
                (exactly as is - including multivalues!)
         - You can display all informations about specified item
           on "AA -> AA Finder" page, now
         - CSV import improved
             - fixed problem with tabelator as delimiter,
             - code converted to standard Files::upload functions
         - Slice name with link is now displayed on "Admin -> RSS Feeds" page
         - Fixed PHP5 related bugs
             - New configuration variables DB_CHARACTER_SET and
               DB_COLLATION_CONNECTION which is needed by MySQL 4.1 and PHP5
               when you do not want to comunicate with database in UTF
             - Offline filing now do not crash on WDDX_unserialize (php5 bug).
             - "30 Nov 1999" date bug
         - The data for offline filling could be submited not only in offline
           parameter, but you can send it also as uploaded file
           (in offline.php3)
         - Fixed problem with uploads to the "Slice Setting Fields"
         - Fixed some problems with setting permissions to users from Reader
           Management slice (bugs introduced by changing identification of users
           from login name to item_id some time ago (05-08-30))
         - Fixed site/slice caching
             - now invalidated after spot move...
             - the cache is not cleared completely after slice setting change,
               but only for current slice (and all related views and sites,honza
               of course)
             - view cache now count with all set[] parameters, so the view is
               generated well even if you use set[] command for nested view
               (just like in view.php3?vid=1781&set[997]=selected-759644)
         - Fixed e-mail notify setting page - no wrong slashes added to the text
         - Fixed bug in cross server feeding, which causes relation table
           is filled with the rows where both values are the same
         - New internal API for views which allows to cache views definition
           within one php script call
06-02-14 - fixed a bug in MLXGetText - setlang should be used to set the lang
(mimo)     forcefully
         - &errcheck=1 now works for MLXGetText
06-02-10 - fixed a bug in mlx.php which messed up sharing one MLX Control Slice
(mimo)     between multiple content slice
#
#        (incomplete)
         - hardcoded table for fulltext of discussion do not have width=100%
           now, because it makes troubles in IE on pages with CSS layout
05-12-30 - computed fields can compute also with self content as well as with
(honzam)   content of others computed fields, now
05-12-23 - fixed security problem, when readers was able to read slice_pwd
(honzam)
05-12-21 - HTMLarea/Xinha updated to work with Firefox 1.5 and some small
(brazda)   changes in the plugins (InsertFile)
05-12-16 - now also Reader Management modules are shown in Input type selecbox
(brazda)   on Field settings page
05-12-15 - user data (like password, name, e-mail) is now editable by users
(honzam)   itself (just click on your login name in upper right corner
           of the page - near the "Logout")
         - new {@fieldlist} syntax construct, which lists all field names
           in the item. The syntax is exactly the same as you already know from
           {@category.......1} syntax, so you can use also:
              {@fieldlist:-},
              {@fieldlist:,:<b>_#1</b>}
              as well as {@fieldlist(_#CSV_FMTD):,:_#1}.
           For more info see {@category.......1} or {list:category.......1}
           syntax in the manual.
           Could be used for example to create general CSV export from the slice
              Odd HTML is: {@fieldlist(_#CSV_FMTD):,:_#1}, where
              _#CSV_FMTD is defined as f_t and with parameter:
                  {alias:{loop............}:f_t::csv}.
         - new operators added to searchbar (in ItemManager):
             "not set" (= ISNULL),
             "is set" (= NOTNULL)
           so you can search for items, where specified field is (not) set
         - changed behavior of unary operators ISNULL and NOTNULL - Those
           operators did not work without "value" specified, which was quite
           strange, for unary operators. Now it works without any value
           specified.
         - top HTML for discussions now can contain aliases (and other
           constructs), just like for any other view
         - new configuration option TOEXECUTE_ALLOWED_TIME which defines, how
           long should be processed tasks from "toexecute" queue
         - added better support for bulgarian language translation
         - log class prepared for the possibility to turn off logging
           of specifis events (UI needed)
         - searchform in ItemManager and LinksManager uses GET mathod,
           which is more user friendly
         - discussions code a bit cleaned
         - fixed problem with session on for some special Apache configuration,
           when some server variables are not filled (Bluelink case)
         - fixed all_ids parameter in discussions - now works also for GET,
           not only for POST forms
         - fixed problem with "break;" outside of the loop (APC PHP cache had
           problems with this)
05-11-24 - anonymous wizard refactored a bit, generate better code and is
(honzam)   functional, now (thanks goes to Norbert Brazda for bugfixing)
         - Spanish language translation updated (thanks to Julian Casasbuenas
           from Colnodo)
         - new possibility to remove selected items from database (see "Remove
           (remove from database)" bottom action on Item Manager - Trash page)
         - fixed language constants
05-11-21 - fixed typo in sql_update.php3 - Thanks to Omar Martinez and Misi Bako
05-11-15 - fixed not functional image upload, when we want upload multiple
(honzam)   images and create multiple thumbnails in one inputform
05-10-01 - CSV import is allowed also for editors (see left menu in ItemManager)
(honzam)   and small fixes in CSV imports
         - confirmation of spot delete is now required (in site module)
         - limit group name length in bulk constatnt import to 16 characters
           (which is the only correct value)
         - fix for computed field - the value is updated corectly, if you are
           editing the item, now
         - fixed category tree display (Links module) in Firefox, which did not
           work correctly for huge category trees
         - improved site manager - looks better in IE (but not perfect, yet)
05-09-27 - fixed bug in constant edit (pack_id() error)
(honzam)
05-09-22 - you are able to specify the name for all tabs, when you are using
(honzam)   inputform formbreaks:
              {formbreak:<current_tab_name>:<next_tab_name>:...}
           The names are separated by ":" and are applied to current and then
           other tabs. It is useful mainly for the last tab.
         - new function {preg_match:[0-9]*:some text with number 25452 in it},
           which returns 25452 (based on specified regular expression)
05-09-21 - removed not closed html table tag from images.php in ImageManager
(brazda)
05-09-14 - fix to allow admins to assign slice permissions also to users from
(brazda)   Reader Management slice(s)
05-09-01 - addes action icons to spot actions in site manager
(honzam) - fixed constant editing - the category groups with accents and similar
           strange characters works correctly, now
05-08-31 - fix of no item message - works correctly if you fill 0 in it (zero)
(honzam) - default inputform view for the slice now could be set not only
           from default Profile setting page, but also
           from "Slice Admin" -> "Design - Item Manager" -> "Use special view",
           which is easier to find for users. Both options are equal (stores it
           to the profile)
         - added more description text to discussion view selectbox on
           "Design - Fulltext" page
05-08-30 - new function {compare:<number1>:<number2>} for comparing numbers
(honzam)   (aka dates): Returns:    'L' if number1 is less than number2,
                                    'G' if number1 is greater than number2,
                                    'E' if the numbers are equal.
           Usage example:
            {switch({compare:{last_edit.......}:1125481998})L:less:G:more:equal}
         - user_id for users authenticated from Reader slice is changed
           from login to more logical and more powerfull item_id
         - fixes in Reader Management permissions combination with SQL
           (perm_sql) permissions
         - some cleanup of the permissions core
05-08-29 - Readers from Reader Management slice could became AA users (now also
(honzam)   on SQL permissions perm_sql.php3 - for LDAP permissions it worked
           from 04-02-16)
           Database structure for SQL permissions is slightly modified in order
           we can store Reader Slice permissions as well. You can run
           sql_update.php3 script or you just change definition of two columns
           in the database:
               membership.memberid change from INT(11) to CHAR(32)
               perms.userid        change from INT(11) to CHAR(32)
05-08-26 - uploaded images can now be resized also exactly to specified
(brazda)   size (e.g. square). Image is resized and croped if needed from
           the center of original image. It can be set-up in parameters of
           "Insert" function for the field on "Slice Admin" -> "Fields" page.
05-08-26 - new possibility to create "Computed field". It is good solution for
(honzam)   all values, which could be precomputed, since its evaluation
           on item-show-time would be slow. Any of your field could be changed
           to "computed" - you just change "Insert" function for the field
           on "Slice Admin" -> "Fields" page. In such case the other setting
           of the field (like Default, Input type, ...) are irrelevant,
           of course. Two prepared field templates (computed_num....
           and computed_txt....) was added to sql_update.php3. Yes, you can use
           any {view...}, {include...}, {switch...} in the computed string
           (in Parameter)
         - fixed /misc/charset/convert.php3 script (which is able to convert any
           text from one encoding to another one) - now works when called
           externaly
05-08-18 - improved CSV import of data. Now you can not only
(honzam)       - "Store the item with new id"
               - "Do not store the item" or
               - "Update the item (overwrite)"
           with already existing items, but you can also select
               - "Rewrite only the fields, for which the action is defined"
               - "Add the values in paralel to current values (the multivalues
                  are stored, where possible)"
         - view parameters now could be combined. You can use
             cmd[65][]=v-66&cmd[65][]=c-1-Cars
           or if you want to display only items from the set which passes the
           condition, you can write
             cmd[65][]=x-82763-82344-82352&cmd[65][]=c-1-Cars
         - new possibility to upload constants from admin interface - see
           "Import constants" on constants editing page
         - fixing moveLeft and moveRight in sitemodule administration
         - added new field types based on suggestion of Philip King and Antonin
           Slejska:
           (name, phone, fax, address, location, city, country, range, real)
         - some cleanup
05-08-01 - fixed bug in site display (honzam)
05-07-26 - new site module admin interface design (thanks to Colnodo)
(honzam) - year selectbox always show the year of the filled date
           (so the previously filled years are never lost)
         - all selectboxes should always show the filled value, even if
           the value in not in the list
         - fixed return url from Slice Field Setting page
         - fixed feeding mapping setting - the special option (like "--Value--")
           is shown again
         - fixed alerts sending problem - it did not work for some slices
           (the one with backslash in packed_id, for instance)
         - fixed problem with Edit used/Add user, the right user is displayed
           after update
         - fixed searchbar - the operator in the condition is not lost
         - fixed field default function - qte is no longer used, since it is
           the same as txt
         - fixed link to AA general documentation in doc/index.html
         - fixed quoting problem in feeding (\") appears for some feeds data
05-06-28 - new dynamic "slice setting fields" implemented - now you have
(honzam)   the possibility to add "slice fields" (just like you do with normal
           item fields). Such fields then can be used for slice setting common
           to all items. Such fields are prefixed by underscore (automaticaly)
           and you can access it through {alias:_field_id.......:f_e:slice_info}
05-06-27 - fixed problem with sql_update.php3 - creating toexecute table syntax
(honzam)   error. The download files on sourceforge are updated.

--------------------
05-06-26 - v2.8.1 - stable release
--------------------
05-06-26 - new possibility to define Row Delimiter in view
(honzam)   updated config file - removed unused options
05-06-23 - feeds are taken in random order which leads to more fault tolerant
(honzam)   feeding in xmlclient
         - fixed script for generation of language files - now finds also text,
           which is inside quotes (like in HTML abtibute hidden php code)
         - language files updated (thanks to Julian Casasbuenas and others)
         - PHP5 fixes
         - changed strings to match new upcomming version 2.8 of AA
05-06-20 - fillform.php3 tries to set all the inputs, which was sent by $_GET
(honzam)   (when fillConds=1 parameter used)
         - fixed toexecute class - now works well even if the list of task
           is BIG (=can't be loaded into memory)
         - the id of the site module is marked automaticaly as cached (no need
           to add it to $slices4cache array manualy in site control file)
05-06-16 - fixed multilingual MLX extension - now works again
(honzam+mimo)
05-06-15 - pagecache now takes care about cookies as well - the page is not
(honzam)   generated from cache if user have different cookie
         - better handling of paragraph in HTMLArea (Xinha) - no javascript
           generated for each <p> tag
         - fixed HTMLArea (Xinha) initial size in IE (now it is bigger)
         - fixed problem wiht anonymous form item editing
         - fixed cross server feeding
         - fixed CSV import
         - fixed alerts sending bug - now it works, again
05-06-08 - Added support for slice_field to Realted Item Window
(mimo)
05-06-02 - "selected" parameter of view.php3 now accepts short id as well as
(honzam)   the long one
         - strings in AA uses "ActionApps" name instead of "APC Action Apps"
         - fixed filler.php3 (anonymous posting) so apostrophes are not prexixed
           by \ sign
         - fixed problem, that unpacked_id..... was not filled correctly for all
           items of the view
         - fixed category selection in Links module
05-06-01 - fixed syntax bug in discussion administration
(honzam) - fixed problem of adding backslashes to offline filling items
         - fixed bug in htmlarea image manager - the message about unsupported
           gif is not fired, now
         - fixed bug with inserting items from second slice
         - fixed syntax error in fillform
05-05-30 - Used Xinha (http://xinha.python-hosting.com/) instead of HTMLArea
(honzam)   (Xinha is not new fork of HTMLArea - better maintained, ...)
         - New "store policy" could be applied to uploaded files - you can use
           new | overwrite | backup options - see parameter wizard
           for "Insert function" on Fields setting page
         - Changed ActionApps logo Thanks to Sarka Vasku
         - Buttons are also on the top of inputform
         - File uploads are handled by new standard AA Files.class library for
           inputform, CSV import, Filemanager, Word/Excel/RTF... file convertor
         - Modify Content function of admin interface now invalidates cache
           for changed slices
         - fixed bug with adding slashes to fields during CSV import
         - fixes in order AA generates valid HTML code in discussions, ...
         - fixed links (& / &amp;) to preview on input form, slice creation link
           and discussion links
         - fixed typo in site module which prevent users from updating site
         - fixed caching of discussions in site module
         - fixed normal slice feeding of items (added missing feeding include)
05-05-03 - aliases setting converted to standard Frm* functions, which BTW
(honzam)   solves the problem of loosing backslahes in date format string,
           as reported by Philip King on apc-aa-general 2005-05-01
05-04-29 - fixed onSubmit javascript trigger behavior - it is handled correctly
(honzam)   even if the form is using "return BeforeSubmit()" - Thanks to Omar
           Martinez @ Colnodo
         - fixed some bugs "exact" mode interserver feeding
         - feed_mode displayed in APC RSS feed test page
         - itemview class prepared for row_delimiter parameter which will allow
           to print code between items in view
         - fixed include paths to be absolute and not relative. Relative paths
           in require_once makes some problem on AA install on WinXP.
           Thanks belongs to Omar Martinez @ Colnodo
         - fixed link to javascript triggers documentation (FAQ)
         - fixed link to group setting (from permissions setting page)
         - fixed QueryZids()'s "ALL" parameter for searching all bins
         - fix sql_update.php3 - removed config and d_expiry_limit fields
           from slice table - was unused for a long time
         - fix - Anonymous Form Wizard result is in correct encoding, now
         - speed optimalizations and small fixes like typos delimeter->delimiter
05-04-25 - new possibility of ceating exact copy of the remote slice through
(honzam)   AARSS (XML exchange) (only short_id is changed)
         - ItemContent class used for grabbing data from form - newer
           Object Oriented approach applied
         - "Anonymous Form Wizard" and "Inter Node Import setting" optimized -
           converted to standard inputs
         - a bit more beauty code - some coding standards setting applied
         - new set[]=group_limit parameter, so it is usable also for views
         - file upload functions cleaned and generalized
         - fix - sort all listings by publish_date in case no sort is specified
05-04-20 - change value of constant with "propagation to items" is much quicker
(honzam)   on Slice Admin -> Fileds - Edit -> Constants - Edit, now
           constant value could be 255 characters long (instead of 149)
           (you do not need to update database tables for this change)
         - fixed bug - content of the view was wrong modified by slices[] url
           parameter. Now it is not modified by slices[] parameter.
           You can still use set[23]=slices-6556666355368859... parameter
05-04-19 - HTML generated by AA on public pages (pagescroller, ...) is valid
(honzam)   (& in urls are replaced by &amp;)
         - Hint, how to add HTMLArea to anonymous form is added to the anonymous
           wizard code
         - fixed left admin menu for Bulk e-mail sending (Reader slice)
05-04-15 - new possibility to Enable/Disable specified spots in the site module
(honzam)   interface
         - small bugfixes in site module code; code cleaned
05-04-11 - new possibility to specify "group limit". Group limit is used
(honzam)   for limiting number of items from one category. If you want to list
           items grouped by category.......1, but you want to see just first
           three items from each category, then you could use "group limit".
           You can specify it as:
             3category.......1-
             (limit to three items from category.......1 - descending)
             for "order" slice.php3 parameter, or "sort" view.php3 parameter.
           Another usage is:
             sort[0][category.......1]=d&sort[0][limit]=3
             for slice.php3
           (it is also good in case you want to list all categories header,
           in which is at least one item - you can just set limit to 1)
         - conditions (conds[]) now could contain also long (unpacked) ids
           for id item field
         - new possibility to define, how the Related Selection Window listing
           should look - define view for it
         - the records with the same key and value is not listed twice
           in the inputform selectboxes
         - fixed dicussion caching - the cache is now invalidated correctly
           after user sendinds the post to the discussion
         - fixed slice.php3 content caching - it was broken since we added
           _#SESSION_ alias, which was different each time the slice.php3
           was called. Now it is done better way (f_e:session) function
         - searchbar now uses better help texts for date fields (the help text
           is in "value" field, not in "operator" field)
         - fixed counting of links in categories (Links module)
         - new possibility to generete standard gettext .PO language files
         - used longer database types for some fields (sql_update.php3)
           (like fulltext_format of slice, view - 2^16 is not enough for some
           aplications)
         - removed all mysql specific functions from perm_sql.php3 (it was last
           place in AA, where we did not use database abstract layer)
         - fixed author/editor security problem in Related Selection Window
           (thanks to Norbert Brazda)
         - category_sort field is now filled by 0 and converted to group_by
           field, when compact view is edited (for very old AA slices). This
           field is there only for backward compatibility - now we use better
           approach (at least three years) - group_by
         - corrected some database queries for easier migration to other
           database engines
         - hierarchical constants are now better handled in inputform - we use
           alias for javascript, which defines the constants, so it is possible
           to change the look of the form without specifying the constants there
         - small speed optimalizations (split() -> explode())
         - imagecopyresampled used instead of imagecopyresized - better image
           (thumbnail) quality generated (based on Norbert Brazda suggestion)
         - new cacheDb(), cacheMemDb(), cacheMem() functions, which joins
           pagecache and contentcache together
         - speed optimalization, set bigger time limit for dictionary aliases
         - improved toexecute class - time measurement implemented so we can run
           as many tasks within given time as possible
             - it allows execute many small tasks or only one big one
         - RSS feeds is able to decode diferent character encoding
           (thanks to Norbert Brazda)
         - better logging of alerts
         - fixed typo in category description cat-description field
         - laguage files updated
         - small fixes/security fixes
05-02-22 - new logout functionality (logout from admin interface)
(honzam) - fixed {include:/directory/file.inc} construct - corrected url when
           file starting with slash
         - fixed sql_update.php3 for MySQL 4.1
         - LDAP configuration updated (again)
05-02-20 - Added MLX mini view to display list of alternative translations for
(mimo)     an article
           {mlx_view:view format in html} mini view of translations available
                                          for this article does substitutions
                                          %lang, %itemid
           e.g. {mlx_view:<a href='?x-_#SITEMID_-&mlx=%lang'>%lang</a>}
         - Fixed a problem in MLXGetText I had already fixed in 1.15
         - Finalised reverse relation thing below
05-02-18 - fixed a bug with mutual/reverse related items:
(mimo)     when adding a new reverse relation it used to keep an empty
           text content, so one reverse relation were 2 entries in the
           target content. The fix deletes '' text relations from the target
           content.
         - minor mlx fixes
05-02-11 - other LDAP fixes for its new version - updated documentation
(honzam)  and configuration (thanks to Jiri Reischig)
         - e-mail is now marked as "required" on setup screen
05-02-10 - fixed LDAP configuration and documentation (thanks to Jiri Reischig)
(honzam) - view of constants now have also "Remove strings" option
05-02-08 - updated LDAP documentation and LDAP config files for LDAP v.3
(honzam)   (OpenLDAP v.2) (thanks to Jiri Reischig)
         - fixed e-mail validation functions to accept also domains like .museum
         - new modificator for f_t alias function - conds - allows you to call
           view with conds, just like:
              {view.php3?vid=9&cmd[9]=c-1-{alias::f_t:{_#VALUE___}:conds}}
         - better pagecache handling in site module (small fix)
05-02-03 - added 'integer' field type so searches and sorting can be done
(mimo)     numerically
05-01-29 - new {str_replace:search:replace:subject} aliase construct
(honzam) - {dictionary} now creates also links for all the words with first
           letter in uppercase
         - added new value for nocache slice.php3 and view.php3 url parameter -
           nocache=invalidate. It not only create the page without cache,
           it also clear the cache for all views used in generation of the page
         - new fix=1 parameter for alerts.php3 - if set, then send only e-mail
           to not processed collections
         - AA generates as short url as possible
           (sometimes only parameters "?x=17232" - see f_b, f_f)
         - parameters for user alias functions f_u are expanded before call user
           functions
         - fixed some help texts for Parameter Wizard
         - removed unused fields form slice table
         - added some debug messages written to the AA log for alerts
         - standard QueryZids() function used for readers collection in alerts
05-01-20 - fixed a problem in MLXGetText and added {mlx:setlang:(LANG_CODE)}
(mimo)     macro
         - added MLX_OPTIMIZE, if >5 it should speed up MLX results
05-01-13 - words for {dictionary} feature are not replaced, if it is just
(honzam)   substrings of another (bigger) words (thanks to Hana Havelkova)
         - added favicon for AA (thanks to Sarka Vasku)
         - new aliases for slice.php3:
             _#SESSION_ - session id
             _#PAGE_NO_ - number of current page (on pagescroller)
             _#PAGE_LEN - page length (number of items)
         - added loging to alerts sending (how many mails sent, begin and end)
         - fixed HTMLArea for en-utf8 (english UTF8) language
         - fixed typo in sql_update.php3
05-01-06 - discussions are not cached now, so there will not be problem
(honzam)   with unupdated list of comments
         - pagecache fixes
         - fixed bug in "links" module - category crossreferencing works also
           for catalogs, where you can crossreference deeper category
           ("select start") than is your "tree start"
05-01-04 - new implementation of pagecache - uses two tables - pagecache
(honzam)   (as the old one) and pagecache_str2find table. It should bring much
           quicker pagecache invalidation, when the content must be updated.
           Database update (sql_update.php3) for new table is needed.
         - fixed bug in Related Item Window input type - related items from
           trash are displayed correctly, now
04-12-30 - new "AA\Later\Toexecute" class used for e-mail sending - e-mails are not send
(honzam)   in one run of the script. It is rather send from AA cron, so the load
           of the server is lowered
         - slice name displayed on itemedit form
         - new possibility to change date for discussion comment from AA admin
         - e-mail's "From:" address is required, now
         - the "Errors-to:" header form generated e-mails is supplied
         - fixed bug with anonymous form creation (thanks to Omar Martinez)
         - fixed typo in view edit form
         - fixed pagecache bug
04-12-24 - {dictionary...} formating construct now do not search in SCRIPT,
(honzam)   H1-6, A tags as well as  inside tags itself
04-12-16 - new Input type: Multiple Text Field - allows to enter more than one
(honzam)   (multiple) values into one field (just like when you select multiple
           values from Multiple Selectbox). The new values are filled in popup
         - new edit possibility for related items from itemedit
         - fixed adding item to related slice
04-12-14 - new possibility to open inputform to popup window and fill item
(honzam)   to another slice during filling in another item in the current slice
           (used in Related Item Window - enable it by 'show actions' parameter
           of "Related Item Window" input type)
         - prepared for improved pagecache implementation; generalized API
         - code improvements - used OOP more (slice object, zids)
                             - reduced usage of global variables
         - small javascript files reorganization
         - discussion buttons texts are unaliased now (you can use aliases, ...
           there
04-11-26 - think I fixed the _#ITEMINDX problem, that subviews would make
(mimo)	   it invalid for parent views - now using a stack
           (see item.php3 and itemview.php3)
         - disabled the caching in MLX postqueryzids,see comments in MLX for why
         - added a mlx import function, in /misc/mlx/import.php
04-11-23 - any AA format-string could be used for displaying selects from
(honzam)   related slice (not only 1 field like headline........). You can place
           the format-string in "slice field" parameter for the Input Type.
           It works for all Input Types allowing displaying selections from
           a slice, like Selectbox, Two windows, Multiple Selectboxes,
           Radiobuttons, Multiple checkboxes...
         - new dictionary feature
           You can create "dictionary" slice, where each item will contain
           a word (in keywords........ field!) and url in other field (and
           possibly any other fields). Then you can use this "dictionary" slice
           in your own slice to add links to "dictionary words". You can do it
           by alias construct:
             {dictionary:<dictionary_slice_id>:<output_text>:<format>:<conds>}
           where - dictionary_slice_id is id of "dictionary slice"
                 - output_text is the text, where you want to search and replace
                               for dictionary words,
                 - format specifies, how to replace the keyword
                 - conds is optional parameter, where you can filter only subset
                   of used keywords from "dictionary slice". The syntax is
                   normal conds[] array like:
                   conds[0][category........]='myDict'&conds[1]...
                   (simplified as well as extended syntax)
           Example:
             {dictionary:4394e6117a0d66fee7cb49ffab9015d2:{_#FULLTEXT}:
             <a href="_#KEYW_URL">_#KEYWORD_</a>}
           _#KEYWORD_ is special alias, which could not be defined in the
           "dictionary slice". The reason, why we use it is, that you can use
           Multi value field as keyword (in keywords........). It is good
           to have only one dictionary item for one word (like APC) and then
           define multivalue for keyword, where you can fill "APC", "apc",
           "apc.org"... It is important for English, but it is crucial for such
           languages as is Czech with different kinds of words.
           Note: Use this feature mainly for fulltexts of item and not in
                 item-listing, since it is not so quick, at this moment.
04-11-18 - fixed a caching bug in include/view.php3 when using mlx
(mimo)   - fixed duplicated code in include/view.php3

04-11-18 - added "id" and "short_id" definitions to fields table for each slice,
(honzam)   where the definition is missing. It allows searchbar in Item Manager
           to create filter also on Short id field, ...
         - added missing nolinks field to links_categories table in sql_update
         - default empty option for selectboxes is on the top of list
           (not the bottom), now
         - MySQL - fixes for 4.1 (works without problems, now)
            - table columns in queries are enclosed by apostrophs (`column`)
            - trying to simplify queries to MySQL can use indexes better
         - alerts sending script (modules/alerts/alerts.php3) could be called
           also from real - system cron (reads also commandline arguments, now).
           The benefit is, that the script then can run as long as you want -
           it is not stoped be Apache after 2 minutes or whatever is set
           in TimeOut. The commandline could look like:
               # php alert.php3 howoften=weekly
           or with 'nice' and allowing safe_mode (for set_time_limit)
           and skiping to right directory for example:
               # cd /var/www/example.org/apc-aa/modules/alerts && nice php
                 -d safe_mode=Off alerts.php3 howoften=weekly
           The command above could be used from cron.
         - Links module improvements
            - fixed "Change state" for categories - it could by highlighted now
            - fixed "general categories proposal from public"
            - new possibility to restrict category list on output by l_p alias
         - fix of "{user:...} alias"
         - fixed e-mail validation for 4-characters domains (.info)
         - better "end of paragraph" detection for f_a - abstract function
         - better setting of slice.php3 cache - now the cache hit is much more
           probable (clear_url (with session ID!) is not in keystring, now)
04-11-12 - fixed HTMLArea 3.0rc1 support (honzam)
04-11-11 - Two Boxes input type (as well as some others types) now are able to
(honzam)   display not only name of the constant, but any other field from
           constant table (like value, priority, short id, ...).
           You will do it by inserting const_name, const_value, const_pri, ...
           keywords in "slice field" parameter (you will see the parameter
           in the parameter wizard
04-11-08 - Hierarchical Constant Editor could be used more than one on the page
(honzam)
04-11-06 - Link module improved
(honzam)   - new class for link management
           - completely changed handling of general categories (full automatic)
         - new HTMLArea 3.0rc
         - new possibility for cached javascripts (used in links module)
           (dynamicaly generated javascript is stored into database and then
            is included to the HTML file as external javascript file. Advantage
            is, that when the content of js is not changed, yhen the external
            file is not loaded (so it is quicker) - prooved with Apache log
         - prepared new item action - move to different slice (item manager)
04-11-05 - MLXGetText added (based on Honza's {_m:); will post instructions
(mimo)     on http://mimo.gn.apc.org/mlx/
           - {mlx:addslice:slice id:language[:domain[:mode]]} (domain defaults
             to global) use mode=learn to enable adding new items to the slice
             for unknown strings e.g.
             {mlx:addslice:3a0c44958b1c6ad697804cfdbccd8b09:{l}:IWPR Site:learn}
           - {_m:text to translate[:param1:param2:..]}
             {_m:Test %1 and %2 and %3:bla 1:bla 2:bla 3}
             would give 'Test bla1 and bla2 and bla3' in EN
           - {mlx:setdomain:domain} set MLXGetText to use this domain
         - removed my {include:file:filter} nonsense
04-10-25 - New {include:file:file:method1[:method2[:...]]}
(mimo)	   This calls filter methods method1, method2,.. on global object
           $GLOBALS[filter] after reading the file. Very nice with site module.
           Member function is called like this: method1(&$fileout,&$args)
04-10-20 - changes to {include} -- extended support for a very specialised
(mimo)     readfile mode
         - MLX: now using packed id for storing MLX control slice
04-10-15 - view.php3 now with MLX support for fulltext (single item) views
(mimo)     e.g. cmd[11]=x-1280&set[11]=mlx-DE will display the German version of
                the item with shortid 1280 instead of item 1280
04-10-14 - new {include:file:readfile} reads file contents, file is relative to
(mimo)     $_SERVER["DOCUMENT_ROOT"]
04-10-11 - Added script support, mlx.php has its own mappings table which
(mimo)     indicates what kind of DIR to use for controls in the Add/Edit Item
           This gets passed through a global mlxFormControlExtra to formutil
           - changed formutil to include the value of this global
           - added a new utf-8 language file and a language def en-utf8 which
             can be selected in the slice settings
04-10-06 - Added MLX support for views and finetuning slice settings interface
(mimo)     Parameter for view.php3
           - set[vid]=mlx-(lang)-(lang1)-..-(MODE) same as for slice.php3
04-10-05 - Totally reworked MLX, now using packed ids for storing MLX info
(mimo)
04-10-04 - Added Multilingual Extension - dont use yet (mimo)
             - mlx in URL to slice.php3
         - Slice Settings MLX field
         - Additions for MLX look&feel in tem manager
         ... more here http://mimo.gn.apc.org/mlx/
04-10-01 - new {str_replace:<search>,<replace>,<string>} alias function'
 (honzam) - improved f_a (abstract grabbing) alias
          - documentation: changed cvs login information to match current
            sourceforge state
          - fixed bug of not parsed spots in new (copied) site module
          - e-mail is now mandatory for AA user
04-09-20 - Fixed buggy hierarchical constant editor (honzam)
04-09-07 - The value of Display counter could be set be CSV importer of itemform
(honzam) - bugfix - html flag for CSV import now works
04-09-06 - List of "related" items in inputform could be now filtered for most
(honzam)   input types. You can specify:
             - Conditions in conds[] array
             - Ordering of items in sort[] array
             - Bins from which you want to display items
             - Field to be shown (as option).
           This works for: Selectbox, Multiple selectbox, Multiple checkboxes,
           Two boxes, Radio buttons, and Text field with presets input types
           (sponsored by Philip King, thanks)
         - new "Form parts" feature - you can split the inputform to two or more
           subforms, where you can switch from one to another by clicking
           on the tab header. see {formbreak} alias in bottom HTML code
           for field. (sponsored by GreenNet, thanks)
         - List of "related" items in inputform could be now filtered for most
           input types. You can specify:
             - Conditions in conds[] array
             - Ordering of items in sort[] array
             - Bins from which you want to display items
             - Field to be shown (as option).
           This works for: Selectbox, Multiple selectbox, Multiple checkboxes,
           Two boxes, Radio buttons, and Text field with presets input types
         - charset conversion now works in case both charsets are the same,
           as well
04-09-03 - new French language support (submitted by Marek Tichy)
(honzam) - dview parameter (discussion design switcher) for slice.php3 now
           accepts "0":    dview=0 - no discussion printed
         - new slice.php3 all_scr=1 url parameter - scroller show also "All"
           option to show all items on one page.' slice.php3
         - added short_id and id field definitions - it allows searchbar in
           Item Manager to create filter also on Short id field
         - date format fix for cross server exchange - fixes wrong user data
           format
         - added "Show" button which displays output of the view in view admin
         - dates in discussion admin contains also year, now
         - fixed bug in File upload Input type - it didn't show "Browse" button,
           if "Accept" input parameter wasn't specified. Now it uses default */*
         - "Field to show" could be specified in Multiple Selectbox input type
           for slices
         - new _#PAGEINDX alias - index of item within a page (it begins from 0
           on each page listed by pagescroller) as opposite to _#ITEMINDX which
           contains index of item within whole listing
         - better paragraph detection in f_a alias function
         - new url_base parameter for Link module l_p alias function
         - new AA_USE_NON_PERSISTENT_CONNECT configuration option - use MySQL
           persistent connections or not?
         - bugfix - moving spots up and down in site module admin now work
           correctly also for last spot in the sequence
04-05-27 - new /misc/charset/convert.php3 script, which allows you to encode
(honzam)   a text to another character encoding. It is usable outside of AA.
           The usage on shtml page:
           <!--#include
             virtual="/apc-aa/misc/charset/convert.php3?from=iso-8859-1&
             to=utf-8&source=http%3A%2F%2Fwww.apc.org%2Fpage.htm" -->
         - bulk email sending and alerts sending now should not end after
           timelimit. Now we have 2 minutes for each 20 e-mails.
         - feeding mapping for external feeds could now contain expressions
           (if "--value--" is selected) - just like in local feeding. So, you
           can do write {switch()} expression for status code, ...
         - if you "clear" searchbar in manager, then wrong values was filled
           in the order bar. Now it is fixed.
         - fixed link tag for APC AA RSS export (in order it could be used
           for RSS1.0 readers)
         - fixed bug on group permission page - it works again
         - fixed l_p alias for generating path links in the links module
         - deadlock error of MySQL database is not reported, if we delete
           records from pagecache table, now
         - fixed expansion of aliases, when contain colon character
04-05-17 - anonymous form wizard works again
(honzam) - added AA version info on title atribute of ActionApps logo
           in admin interface
         - added possibility to preview the view from admin interface
         - fixed "category top" and "category bottom" HTML for category grouped
           views and slices - you can use aliases in both this fields and it
           behaves as you could expect, now
         - [952262] fixed translation of "No item found" (and other) messages
           in views
04-05-15 - fixed problem with multivalue fields, when one of the value is empty
(honzam)   (it displayed number). Now we introduced FLAG_TEXT_STORED, which
           helps to determine text/numer stored values
         - fixed javascript error on several admin pages - it tried to display
           HTMLArea link, but the js file was not included
04-05-13 - fixed Cross Server Feeding - filters did not work properly (honzam)
04-05-11 - improved Cross Server Feeding
(honzam)    - added APC RSS and RSS test pages with debug options (see AA menu),
            - better handled categories (possibility to import any category
              (= all items) without change), you can also specify to feed items
              TO THE SAME category (just like for inner feeding),
            - better handled languages - all feeds now encoded and decoded
              to/from utf-8
         - improved all types of selectboxes and radio selections - if the
           content of variable (in the database) is a bit broken so the value is
           not listed in the array, which specifies the selectbox, then now
           the value is also listed in selectbox and is displayed in red
           (by CSS). This behavior make us sure, that we do not loose the value
           if we commit the form with such selectbox. It also gives information
           to user, that something is not right in the database.
           Also the bug for multiple selections was fixed (when empty value was
           selected, the number was written to the database. Now empty values
           aren't written to the DB for text_stored fields in content table
         - CSV import improvements
             - better default field mapping (tries to guess corresponding fields
               by field name),
             - possibility to create item id from any of the fields
               (from string/packed id/unpacked id)
             - better cache handling (invalidated after whole import
         - new parameters for i_s (image size) alias function
             - html    - (default) - returns image size as HTML atributes
                         (height='xxx' width='yyy')
             - width   - returns width of image in pixes
             - height  - returns height of image in pixels
             - imgtype - returns flag indicating the type of the image: 1 = GIF,
                         2 = JPG, 3 = PNG, 4 = SWF, 5 = PSD, 6 = BMP, 7 = TIFF
                         (intel byte order), 8 = TIFF (motorola byte order),
                         9 = JPC, 10 = JP2, 11 = JPX, 12 = JB2, 13 = SWC,
                         14 = IFF, 15 = WBMP, 16 = XBM
             - mime    - returns mimetype of the image (like 'image/gif',
                         'application/x-shockwave-flash', ...)
         - added possibility to display static columns in tabledit (used in
           admin/rsstest.php3 and admin/aarsstest.php3 pages
         - fixed broken admin interface for feeding (Update button didn't work)
         - fixed bug in alerts sending
         - fixed problem with displaying related items
04-04-30 - new "Group Update" possibility, which is used for filling one field
(honzam)   of all (or selected) items in the slice with specified content.
           Items could be selected manualy from Item Manager or by "Stored
           Search" feature (just like in "Bulk e-mail" feature. New content
           could be constant or could be combination of current items field.
           Any AA construct and aliases could be used for there.
         - Cross server feeding improved
            * slice character encoding is now handled properly - it uses
              conversion to utf-8 based on the encoding set for the slice
            * improved category handling - now we get all items and filtering
              is done on client side. New approach allows to download also items
              with not known category
         - slice imported by "slice import" is now imported also with all VIEWs
         - new f_t alias function parameter asis {alias:<field_id>::asis} which
           prints the field exactly as is in the database (regardless of
           HTML/Plain text settings). It is well used in conjunction with new
           "Group update" feature, where we often need the field as is.
         - added "Exported to" information to feedin setting page in order you
           know, where the slice is currently exported
         - the code is prepared for new - cookie based debuging (for programmers
           and superadministrators
         - "Bulk e-mail wizard" is converted to new FrmItemGroupSelect widget
           (used also for new "Group update" feature)
         - added default manager.class design (used for user listing as well
           as for related item selection listing
         - item class uses standard ItemContent class internaly for storing
           item data"
04-04-29 - special field "all_fields" and "all_fields_numeric" which you can use
(honzam)   with slice conditions (search form, ...)
              conds[0][all_fields]="hi"
           will find ANY text field containing "hi"
           You can use this syntax for simplified search conditions as well as
           for extended condition syntax. It is also possible to use
           "united field conditions" like
              conds[0][headline........,abstract........]='Hi'
           as equivalent to
              conds[0][headline........]=1&conds[0][abstract........]=1&
              conds[0][value]='Hi',conds[0][operator]=LIKE
           Number of united field conds is unlimited and you can use it
           in simplified condition syntax as well as in extended one
         - new aliases
             {cookie:<name>}
           which prints content of the cookie of the <name> and
             {item:<item_id_long_or_short>:<field_id_or_alias>}
           which returns <field_id> or _#ALIAS___ substitution for item
           of <short_id> or <long_id> - just like:
             {item:8ebc541d3703e64042cc198e6d0b026c:short_id........}
           or
             {item:171055:_#HEADLINE}
         - new log viewer and searchlog viewer for superadministrators
           (see "AA" menu)
         - designs and setting in Links module could be set also
           by administrator - not only by superadmins
         - default operation in searchbar is "contain", not "begins with"
         - time is incremented in steps also in admin interface, so the state
           of item in admin interface is the same as on the web
         - expired items not shown by default in related item selection window
         - better help text for Node setting (Cross Server feeding)
         - fixed feeding between slices (inner)
         - fixed sending discussion comments to mailinglist
         - fixed convertors (DOC/XLS/...) calling and htmlarea
         - fix logging - it do not report SQL errors when selector or event
           contains apostrophs, ...
         - item manager skips to page 1 if new search is invoked
         - fixed "Stored searched" feature - now works also for editors
         - fixed (old) "restrict" slice.php3 parameter - now works
           with apostrophs
         - fixed url variables passing to php script (add_vars)
04-04-28 - fixed spurious edit=1 in Inputform_url with vid paramater
(mitra)  - fixed permissions on live_checkbox and editbrief from
           PS_EDIT to PS_EDIT_ALL_ITEMS
         - added input_view from profile to _#EDITITEM
         - added ; on javascript in um_gedit.php3
         - added stringexpand_sessurl to expand {sessurl:xxxx}
         - added admin_notiem_msg to sql_update.php3
         - fixes to searchbar when have a profile
         - added {urlencode:xxxxx}
04-04-01 - new Croatian (Hrvatski) language translations. Thank to Igor Hrste
           from Zamir.net
04-03-26 - small fixes and improvements to sql_update.php3 (pep)
04-03-14 - added stringexpand_sessurl to expand {sessurl:xxxx}
         - added admin_notiem_msg to sql_update.php3
         - removed new DB_AA in itemedit.php3
         - removed extra } in sliceexp.php3
         - added stringexpand_sessurl
         - turned off warning about packing empty strings, too many bugs!
         - allowed c-OR-1-aaa-2-bbbb in param_conds and conds[0]
         - added admin/view.php3, like view.php3 but inside admin i/f
         - added editbrief.php3, change specific fields of specific items
04-02-26 - fixed rss to ignore unparsable dates (and use Now)
         - rss2.0 dates still need handling in xml_fetch
04-02-16 - uploaded new developer's version of AA (unstable yet). Changes:
(honzam) - used HTMLAREA 3 (http://www.interactivetools.com/products/htmlarea)
           instead of old RichText Editor
         - new manager class used for 'Item manager' and 'Related items
           selection window'. New manager allows much better searching (as many
           conditions as you want also with constant selection) and new
           possibility to save your query for future use
         - new profile class for better handling user's profiles
         - new Event class allowing us set event handlers for various events
           in AA (new item, constant changed, ...)
         - new inputform class - preparation for customizeable inputforms
           (through view)
         - bulk e-mail sending (to users from Reader slice)
         - 'related items selection window' now allows to define default filters
           of items (hidden filters as well as the preset ones). Now you can
           restrict from which items you want allow users to select related
           items
         - users from Reader slice could became Authors/Editors/Administrators
           of any slice (just like any other users) - now works for perm_LDAP
           only, but we can extend it to perm_sql as well
         - improved design of forms in admin interface (buttons on top, ...)
         - improved Node setting for intrer exchange (check some errors)
         - item class optimalization (simplifier constructor)
         - improved design of 'Manual feeding' (export)
         - you can set "No Item Message" also for slice.php3 (in AA admin)
         - added new "Stored query" (Bookmark) and "Inputform" property in user
           profile
         - added link to user names which links to user's setting
         - f_t alias function now supports output modification:
           csv / safe / javascript / urlencode / striptags
           (usage: {alias:<field_id........>:f_t:the text - possibly with
           {some aliases}:urlencode(or another modifier)})
         - improved log function - added "selector" for easier searching in logs
         - new hint and show (what) feature in manager class
         - menu utils now supports javascript calling
         - generalized bin design - now it is possible to have more than three
           bins (active/holding/trash) (if someone programs it)
         - added help texts for Links module
         - fixed bug of not working "notshown" array
         - remove duplicated lang_code field from AA Core Field slice template

--------------------
04-02-16 - v2.6.1 - stable release
--------------------
04-02-03 - fixed bug in feed field mapping settings - names with apostroph now
(honzam)   works
         - slice.php3 with iview parameter now accepts view sort order
         - new possibility to create "template" field in AA_Core_fields slice
           (just by adding new field there) and then use this field as template
           field for your slices
04-01-21 - fixed bug in f_r parameter parsing (interpreting)
04-01-18 - "Top HTML" and "Bottom HTML" code for fulltext slice view
(honzam)   is unaliased, now
04-01-17 - speed optimalization for MySQL 4.0.x
(honzam) - used "=" operator instead of "IN ()", where possible
            - defined QUERY_DATE_STEP constants containing number of seconds
              after which is index listing regenerated (this means that
              SQL query for the same page is the same during the QUERY_DATE_STEP
              time - it helps MySQL to cache results
              (see constants.php3 - default is 1000))
         - added "o" paremeter to slice.php3 - the behavior is exactly the same
           as "x" parameter, but the "hit" is not counted for this item
         - new transformation parameters to f_t alias function:
           csv, urlencode, safe, javascript (see parameter wizard for more info)
         - added start_cat parameter to view.php3 used with Links module
           for "path" display
         - fixed CSV import data parsing preview
         - fixed bug in link addition (Links module)
03-12-25 - allow setting status_code in filler.php3
(mitra)  - safer password checking in filler without text_password
         - more improvements to summarize copy field etc
         - created admin/console.php3 (commented in include/menu_aa.php3)
03-12-19 - fixed Email notifying for anonymous posted items into
(honzam)   reading_password protected slices (honzam)
         - related items with "admin design"=1 now displays headline correctly
           even if _#JS_HEAD_ alias is not defined in the slice
03-12-05 - allowed for contenttype parameter to set text/xml (mitra)
03-12-04 - fixed mime type of RSS view (mitra)
03-12-03 - fixed bug in filler.php3 - not shown fields with apostrph now works
(honzam)   well
03-11-10 - fixed problem with {user} alias - no warning displayed, now (honzam)
03-11-09 - e-mail "technical@ecn.cz" replaced by generic ERROR_REPORTING_EMAIL
(honzam) - fixed bug in input type Related Window: row count parameter now works
03-11-06 - added array possibility for cmd[89][]=.. view parameter, which allows
(honzam)   to combine more commands for the same view
           (one from url, one from SSI, ... - for example)
03-11-05 - fixed discussion  to mailing list where field present but unfilled
(mitra)  - fixed bug in error message in init_page

--------------------
03-11-04 - v2.6.0 - stable release
--------------------
03-11-04 - updated install documentation (marek)
03-11-04 - added "Noticias ES" template and view templates in sql_update
(honzam) - fixed get_aamenus() redeclare error
         - better general categories handling in Links module
         - fixed PHP warning of not existing array in slice import
         - all language files regenerated
         - fixed problem with wrong url supplied after discussion reply
         - modified config.php3 to allow easy setting virtual AA directories
           for virtual servers
03-11-03 - added Spanish language file to site module
(pep)    - fixed bug: admin/param_wizard.php3 and se_inputform.php3 now
           load the param wizard language file
         - fixed bug: include/mgettext.php3 did not allow multiple included
           files for a language
         - improved the spanish translation
03-10-30 - fixed RSS feeds to work in PHP <4.3.0 (honzam)
03-10-30 - fixed bug with $scr->current in slice.php3 (setu)
03-10-30 - removed utf8 encode and decode in RSS_restrict and decode (mitra)
03-10-24 - fixed bug with state variable expanding in site module
(mitra)  - parseUser becomes stringexpand_user
03-10-19 - Added mapping to RSS,
(mitra)    Added debugpermissions and associatioed reporting
           Fixed bug with http fetching in php>4.3.0
03-10-16 - 'Fixed bug in searchlib.php3 - multiple values joined by AND operator
03-10-24 - added alternative syntax for {@category.......1} -
(honzam)   {list:category.......1} - behaves in the same way
         - name 'Action Application' replaced by ActionApps
         - new parameter to l_p - add string as url parameter
         - updated initial view definitions in sql_update.php3
03-10-22 - added CSV import interface
(honzam) - new "add string" parameter to f_j - string is added, if the output
           is shorted (good for comething like "...")
         - f_a alias strips html tags, if abctract is grabed from fulltext
         - table of items in Item Manager have bigger cellpadding
         - and class="mgr_table", so user can customize it in css styles
         - fixed RSS output (id didn't work with some owners)
         - fixed not working includes in doc/param_wizard_list.php3
         - two new aliases for Links module - for General Categories
03-10-21 - fixed bug in AA Cross Server Feeding - Spanish and Czech characters
(honzam)   was corrupted for HTML flaged fields
03-10-20 - fixed {@field_id} alias - removed wrong comma in some cases
(honzam) - fixed initial rate setting for links to be neutral
         - queryZids() is stable - it do not change order of ids if we query
           just restricted set of ids and do not specify sort[]
03-10-19 - added mapping to RSS,
(mitra)  - added debugpermissions and associatioed reporting
         - fixed bug with http fetching in php>4.3.0
03-10-16 - fixed bug in searchlib.php3 - multiple values joined by AND operator
(marek)    were not enclosed in speech marks.
03-10-02 - fixed Up and Down arrows for Related items selection - now works also
(honzam)   in IE6 and Opera browsers
         - better implementation of {user:role} alias
03-09-30 - loop through multivalues in stringexpand:
(honzam)   {@category.......1},
           {@category.......1(const_name,const_value,_#MY_ALIAS):,:_#1 _#2 _#3}
           As you see, you can also use aliases here. The Usage is following:
               {@relation........(_#GET_HEAD): ,:_#1}
           where _#GET_HEAD is alias defined somewhere in current slice using
           f_t (for example):
               {item:{loop............}:headline}
           This displays all the related headlines delimeted by comma (since
           special field {loop............} contain one value from
           relation........ field
         - new {user:role} alias - returns
           author/editor/administrator/super/undefined
         - view setting for Links module (links, categories) allows to define
           sorting/conditions
         - "check URL" page and "linkedit" page in Links now print information
           about folder of found link
03-09-29 - related items now are displayed in user defined order (user can
(honzam)   easily move related items up and down by arrows - it must be allowed
           in "Field-setting -> Intut type"
         - feeding improvements:
           1) Through VALUE (in 'Mapping' page) you can specify not only new
              value, but you can write there also any AA expression, which is
              unaliased - example:
              <a href="{source_href.....}">{source..........}</a>
           2) You can specify, which items should be fed and which not. It is
              done by 1) (probably {switch()..} statement) for status_code.....
              field (1=Active, 2=Holding, 3=Trash, 4=Do not fed)
         - discussions under item can be posted to a mail (probably
           mailinglist). It is not new, but now you can use e-mail template for
           it (just like in Alerts) and use any discussion alias
           (like _#SUBJECT_) in e-mail's body or subject. Setting is the same
           as with view, but the template number is prefixed by "t" letter
           (like: t21:our-l@list.org.cz).
           Older approach (through discussion view) is deprecated.
         - cache content identifier for site module is extended to whole $apc
           variable (not only state), so you can use browser identification
           in $apc, now
         - hitCount is not updated so offten (for better database perfomance)
??/??/?? - notuploaded - fixed bug in importing slices when used hex coding
(mitra)
03-09-25 - Changes to summarize and related changes to se_inputform
03-09-23 - added possibility to get constant name (and other informations) from
(honzam)   constants value in unaliasing. The syntax is
           {const_name:category.......1} - prints constants name from current
           value in "category.......1" field. Possible informations are:
           const_name, const_value, const_short_id, const_description,
           const_pri, const_group, const_class, const_id
           (see constants table or constants view)
         - added possibility to specify more fields in 'd' parameter of
           view.php3 (cmd[246]=d-headline.......1,category........-RLIKE-Enviro)
         - added new "sort" param to view.php3 (set[246]=sort-headline.......1)
         - "display count" of randomly displayed items (probably
           banners/tickers/...) is updated on its display (in case you display
           just one item (=banner) by the view
         - fixed bad bug in constants change with "propagate changes"
           (wrong records was updated sometimes)
         - contentcache class for unaliasing speedup introduced
         - removed unused fields from links_category table
         - added possibility to query categories in whole subtree in links mod.
         - added document_uri computing on environments, where not specified
         - new possibility to specify file permissions on upload
           (IMG_UPLOAD_FILE_MODE constant in config.php3)
         - prepared for russian and vietnamese translation
03-09-17 - extended time limits on some admin functions
(mitra)  - major changes to summarize to compare slices
03-09-09 - added multiple checkbox refill to setControlArray, so now multiple
(marek)    checkboxes can be used in search forms that use fillform.php
03-09-04 - fixed show_fnc_hco to do input_before
(mitra)  - $db fixes to constedit_util itemfunc site/util admin/itemedit
         - fixed invalid_email regexp use [.] instead of \\.
         - now expands no_item text, may not catch all aliases
03-08-27 - added stringexpand_ prefix for extending string expansion
(mitra)  - replaced existing eb_functions for substr and fmod
         - added return_url to discedit.php3
         - removed unneeded warning on resizing
         - added commented out code for password problem on cross-architectures
03-08-26 - added "Select all" option on Filters admin page;
(honzam) - fixed crossserver feeding and its filter setting
03-08-24 - added pointers to Honza's demo slices to documentation
(mitra)  - removed require of non existance sessionobj.php3
03-08-21 - category tree display speedup (in links module)
(honzam) - fixed sql_update to not add disc_count,.. fields twice to the slie
         - sql_update - refreshed to last database state
           (added 'selector' column to log table)
         - discussions in thread view could be sorted in reverse time order
           (first thread is the newes one)
03-08-20 - added new parameter "hide email" for f_m alias function which prints
(honzam)   email using javascript, so it is hopefuly unvisible to spam robots
03-08-14 - fixed hierarchical editor on inputform - it show names of constants
(honzam)   instead of values
         - fixed redefine function problem in manager and scroller
           (require once, now)
         - language constants for output (view, slice) are now loaded
           (so "Next" is translated, for example)
         - fixed als[] defined aliases in constant view - now works
03-08-10 - {slice_id........} and {id..............} inline aliases displays
(honzam)   unpacked ids, now
         - fixed bug in Jump module - error when jumping from Edit Jump page
03-08-09 - fixed bug in f_r for _#RSS_IT_L (missing link in RSS output) (mitra)
03-07-25 - added test that function called by f_u is callable (mitra)
03-07-19 - new "u_slice_id......" and "unpacked_id....." item fields (with
(honzam)   unpacked ids) usable for unaliasing
         - new special "url" parameter used with "x" view.php3 cmd[] -
           view.php3?cmd[43]=x-43-url - which means, that such view takes
           item_id from x=... url parameter (obviously used with slice.php3)
           - we used it to create special view for <title> tag to contain
           Headline
         - fixed password protected anonymous posting in filler.php3
           and fillform.php3 - error 'No Slice ID' is no longer displayed
         - commented out wrong AlertsSendInstantAlert() call - instant Alerts
           are send form cron - as well as any other type of alerts
           (daily, weekly, monthly)
         - fixed f_x alias function - it do not report error if empty pairs
           supplied
         - fixed link editing problem - old values are shown in form again
           (on error)
         - general category selection is hidden for public users in Links
           module, now
         - new Links module alias functions
           - l_b (prints if category is crossreferenced)
           - l_p (allows to print path to the category)
         - allow delete only not empty categories (or categories which contain
           only trashed links
         - allow sorting categories with general categories at the end in Links
         - new aliases for crossreference and category path (category, where we
           are, now) in Links module
         - better (DHTML) category selection in on LinkEdit page
           (thanks to Martin Hladik)
         - fixed category assignment bug in linkedit2.php3
         - fixed trash display (it shows also proposals, now) in Links module
         - fixed problem with multislice search and quoted/unquoted slice_ids
         - item_content class generalized and prepared for content
           transformations (for CVS uploads, feeding, ...)
         - better function for counting number of links in categories
         - new item class parameter, which can contain additional item class
           settings
         - new addglobals() method for shorter code in varset.php3
         - new set_from_item_arr() method for storing ids posted from item
           manager.class to zids.class
03-07-10 - added user id to the user edit form (AA -> Edit User)
(honzam) - fixed posted_by (Author permissions) problem
03-07-09 - rearranged GetViewFromDB to fix bug in calendar drop-thru
(mitra)  - fixed bug in sliceid in GetViewFromDB (unpack doesnt work on quoted)
         - some changes to trace
         - fixes to site module to get rid of bad "co"
03-07-08 - fixed huhe with multiple arguments
(mitra)  - fixed isField to allow wider selection including alerts1....aZh12
03-07-07 - updated spanish translations (more work needed)
(pep)    - fixed posted_by field insert function on sql_update.php3
03-07-05 - added defaults and default functions to importer.php3
(mitra)  - don't send welcome inviting confirmation if already confirmed
         - removed $db paramater from "new itemview"
         - added link to editsliceinfo and colors in summarize
         - used newer unaliasing in mail.php3
         - removed $db paramater from new manager
         - removed warnings on unable to expand {0,4}
         - split fillform into include/fillform
03-06-30 - fixed image resize functions
(honzam) - fixed user profile setting where warning is no longer displayed
03-06-26 - added Links module into sql_update.php3 and updated config.php3
(honzam) - fixed Links to use new aliases
         - AAnoCONDITION could be used also with cmd[]=d (not only with cmd[]=c)
03-06-19 - fixed wrong called md5() function for password protected record
(honzam)   instead of crypt()
         - fixed status_code setting to value defined in Defaults
         - new disc_url parameter for discussion.php3 script - this parameter
           you can use, when you create discussion search, where you need
           to supply, on which page discussion comment fulltext should appear
         - fixed bug in default parameter for hidden form fields
03-06-14 - Added commented out in perm_sql for handling moved databases (mitra)
03-06-13 - category and link design editable through admin interface
(honzam) - fixed searching in links module
         - added link validity rank to link manager
         - added possibility to create left menu dynamicaly by function call
         - fixed bug in module deletion
         - removed unused options
03-06-12 - updated language files by misc/mgettext/  (honzam)
03-06-10 - added link and categories view type
(honzam) - new and better event handler for new item
         - improved link manager
         - left menu item could be created by function
         - added LINK_UPDATED event;
         - fixed category assignment problems, when user is not owner of link,
           but he wants to have the link in his/her category
         - bugfix zids: adds ids from array even if first id is not set
         - new set[]=slices-slice_id1-slice_id2-sli... for view.php3
         - fix of wrong Related Item Window field setting
         - fixed problem of wrong & behavior on hirarchical constants edit form
03-05-29 - fixed eb_functions in expand, and added substr (mitra)
03-05-28 - added {include:file:site} for getting files from specified directory
(mitra)  - fixed bug in sliceobj
03-05-31 - added special view.php3 alias _#SELECTED, which is "1" for selected
(honzam)   item (given by special set[] view.php3 paramater
           (like: set[34]=selected-43535) - usable for displaing menu generated
           from slice items (see leftmenu (topics) on obcan.ecn.cz))
         - aliases of unused fields are grayed in help alias listing
         - first selected menu in Slice Admin is Fields, now
         - fixed problem with wrong displayed items when from=1 and to=1
         - special "dview" slice parameter, which defines used view for
           discussions (just like ivew and fview parameters)' slice.php3
         - propagate changes in costantedit is default for new constants group
         - fulltext links now work also if slice.php3 is called from PHP script
         - if you add hidden field into discussion form with all_ids=1, then t
           he discussion after submit is shown in its full form
03-05-30 - constant view switched to standard view, so conditions conds[],
(honzam)   sort[] ... are possible
         - fixes for running AA on Zeus webserver
         - setup.php3 now reports error, if database is not set well
           and setup.php3 also suggests solution
         - no template selectbox if there are no tepmates for the module
         - preparison for LiveChange feature
         - better link and <br /> handling in text e-mails
         - anonymous form wizard is back
         - fixed problem with cached user auth informations - views
           (and slice.php3) is never cached if you use {user:xxx} in its
           definition, now
         - fixed "runtime reference function call" problem
         - fixed include path problem (modules/alerts/menu.php3,post2shtml.php3)
03-05-23 - added {include:file:fileman} for getting files from file manager
03-05-21 - fixed buggy path to moddel.php3 script (in admin/slicedel.php3)
(norbert)- fixed cache bug for two sites with the same state variable
03-05-20 - clearfonts in Richedit now removes not only <font> tag, but also
           <span>, <p> and <o:p> tags (norbert)
03-05-19 - new {user:} inline alias which is able to dislplay informations
(honzam)   about logged user (from PHP_USER_AUTH and ReaderManagement slice)
         - fixed RSS2 so recognizes HTML in description etc (mitra)
03-05-15 - added debugging to misc/file2slice/importer (mitra)
(mitra)  - removed test for nocache in site.php3 on store, for consistency
         - made get_output_cached include apc_state and als in keystr
03-05-14 - fix bug in caching of views run under other slices (mitra)
03-05-13 - constants view now uses standard itemview, so conditions (conds[] and
(honzam)   sort[]) are now possible for this view type
         - removed old database fields for link module
03-05-12 - changed UI elements in fileAction to buttons from links
         - this included changing parameter from uploadarg to upload
         - admin/test.php3 now correctly tests for presence of FILEMAN_BASE_DIR
         - fixed fileman path to images from /apc-aa/images to ../images
         - fixed get_filetype not to generate errors on "Other"
(mitra)  - changed se_fields to start new ids with .... instead of ...1
03-05-09 - added f_y to expand a string or a field
03-05-09 - better error reporting in input_fnc_fil (mitra)
03-05-09 - added f_y to expand a string or a field (mitra)
03-05-02 - FilemanPerms and GetModuleInfo and get_aamenus handle null
            slice_id better (was generating warnings on Add Slice)
(mitra)  - Fixed overlong for loop in calendar generating warnings
         - fixed address of sql_update in install-4.html (mitra)
03-05-01 - integrated summarize.php3 into menus and styles etc
03-05-01 - updated fileman.php3 and admin/test.php3 to check for missing
03-05-01 - integrated summarize.php3 into menus and styles etc (mitra)
(mitra)  - updated fileman.php3 and admin/test.php3 to check for missing
           fileman directory - still has UI and other bugs
03-04-28 - introduced AA_BASE_DIR AA_SITE_PATH AA_HTTP_DOMAIN into config.php3
(mitra)  - se_inputform.php3 can be called with onlyupdate and parameters
           to update a single field as called from summarize.php3
         - changed f_r to handle p[1]
         - Updates to summarize.php3 (mitra)
03-04-27 - picture is not resized if no width and height is given
(honzam) - global category support for Links module
03-04-25 - GetTable2Array no longer needs $db parameter
(mitra)  - Added admin/summarize to AA page, gives a quick summary of a page
           (enable on menu_aa.php3)
03-04-23 - added support for convertors from DOC/XLS/PPT/.. to HTML
(honzam) - fixed page scroller's 'All' feature - now works also from other
           than first page
         - updated and fixed Links module
         - fixed errors in set*() functions in item_content.php3
03-04-22 - tried to fix the bug with email notification of new items
03-04-18 - updated the alerts.xml and anonym.xml files (jakub)
03-04-15 - corrected text on wizard for file uploading - (mitra)
03-04-15 - fixed bug in include/item.php3 (addslashes needed in a query) -pep
03-04-15 - fixed require bug in util.php3 (uses writelog) (mitra)
03-04-14 - added unsubscribe option to Alerts (_#UNSBFORM)
(jakub)  - added "Show Not So Nice" to Anonym Wizard to be used when "Show" does
           not work
03-04-14 - fixed bug in StoreItem for image fields (duplicated)
(mitra)  - removed some global $db, involved changing args to some fnctns
03-04-13 - fixed import to allow for just slice data,
         - allow import to force import to current slice
         - workaround for empty spotid in site module (not a bug fix!)
03-04-10 - fixed Alerts bug which ignored Selection conds[]
(jakub)  - finished the new option for sending all items from one view at once
03-04-10 - new CountHit function, so displaying fulltext is quicker
(honzam) - improved slice selectbox - better titles for different slice types
         - fixed "live checkbox" - works again
         - fixed date validation/filling with default value (fix mainly for
           anonymous posting)
         - fixed bug with not shown scroller in site module
         - fixed triggers problem - it did not work properly
         - redesigned permission definition in perm_core to be more clear
           for modules other than slice (mainly optical change)
         - Links module much improved
03-04-08 - fixed layout bugs in menu_util (showed up in mac ie, included
           colspan=2 applied to an IMG
03-04-05 - enhanced the view types definitions in constant.php3 so that
(jakub)    help text may be added and field type overrided
         - enhanced zids->add() to work with arrays and zids objects
         - added zids->union() and made some minor fixes in zids
         - added a new setting to Alerts Selection Set view, to choose
           whether the corresponding filters should be grouped by selections
           (see doc/reader.html for a description)
         - fixed Alerts manual sending: all collections were sent instead of
           only the current one
         - added mutual exclusion to reader management usernames and AA
           permissions usernames (the same username can't be used in both)
         - separated Alerts doc to doc/alerts.xml and enhanced it
03-03-31 - updated all language files with xmgettext
(jakub)    and added some Czech translations
         - changed sql_update to work better with cron entries and updated
           the alerts cron entries
03-03-29 - improved the Anonym Form Wizard
(jakub)  - improved the Send Email Wizard, now it allows using field aliases
         - added links to reader.html and anonym.html to doc/index.html
03-03-28 - fixed bug with sliceobj that broke RSS
(mitra)  - changed debugging in itemfunc
         - fixed bug searchlib not showing items with no exp or publish date
03-03-25 - fixed problem with "&" character in parameter to shtml page (honzam)
03-03-24 - fixed "Bad Table view ID: modedit" bug when switching from one module
(honzam)   type to another
         - fixed: design setting is not lost when you scroll to another page
           in Related Item window
         - Fixed problem of duplicitly fed items when source item is edited
           again
03-03-24 - removed the old Alerts scripts from misc/alerts (jakub)
03-03-24 - fixed several things in Alerts (jakub)
03-03-24 - fixed bug of empty row appearing in "Two boxes" input type
(honzam) - new keyword "<!--Vacuum-->" can be used in "No item message"
           parameter in view or slice setup, which will display nothing
         - new view.php3 command 'o', which behaves exactly like 'x' but item
           hit-count is not increased
         - old selected values are highlighted ("sel_on" style) in SELECT-boxes
         - AA finder search now searches also in view ids, slice names and ids
         - fixed problem, when no file is specified in {include()} inline alias
         - fixed problem with language support in loginform (with new mgettext
           language environment)
         - fixed bug in random message view (random view parameter)
           (it did not work after zids update)
         - fixed problem with default date, setting from anonymous input forms
         - fixed problem with status_code, edited_by and posted_by field
           in anonymous input forms - it is not required even if marked
           as required in fields setting
         - fixed bug in "Two boxes" input type - it works again. Fixed warnings
           messages appering when array is empty in "Two boxes" input type.
         - fixed "Bad include file" problem in 'AA finder', 'Delete slice', ...
         - better debugtimes support in site module
         - added functions for clearing zids and adding new elements to zids
03-03-20 - constants view - added new aliases for description, level, short_id
(honzam) - added "url" view for list of urls (good for search engines)
         - permission to empty trash is asigned also to Editors (not only to
           administrators)
         - fixed bug with anonymous user login
         - fixed bug - not replaced lineends on Mac-type texts
03-03-16 - fixed init_page moving to index.php3 too often (jakub)
03-03-14 - fixed init_page so won't change page if coming in from outside. (mitra)
         - it should better be fixed so CALLER of init_page does switch
03-03-14 - fixed slice selector to show only permitted modules (jakub)
03-03-11 - globalised pagecache to avoid multiple purges (mitra)
03-03-11 - some more debugging code in image upload and manipulation (mitra)
03-03-10 - addedparamater to UseShowResult (was assuming err_url even on OK)
           (mitra)
03-03-10 - changed $db3 to getDB/freeDB to fix bug in item.php3 (mitra)
03-03-10 - insert_fnc_fil now preserves previously uploaded file or URL (mitra)
03-03-08 - removed duplicate new_id() from post2shtml and required util.php3
           (mitra)
03-03-08 - added links to Alerts modules to Item Manager submenu
(jakub)  - added some ? help icons to slice settings
         - added the Reading Password slice setting, see FAQ
         - added Alerts section to Item Manager submenu
         - created the file-lock synchronization mechanism,
           see include/file_lock.php3
         - added a new feature "Mailman: create list", see doc/reader.html
03-03-07 - joined the Slice Wizard Welcome emails with other emails, added
           "email templates" to menu (jakub)
03-03-06 - fixed (?) design of index.php3 with <tr><td> around item manager view
(jakub)  - changed some labels in Alerts
         - fixed filler.php3 so that it does not call ErrPage when everything OK
         - reorganized the module select box to groups by module / slice type
         - added an image to the title of Reader Management slices and to the
           title of Alerts
03-03-05 - imagefunc.php3: Added debugging, $debugupload=1, note exit on err
         -    use a table of image type properties instead of hard coding
         -    ResampleImage copies if no resampling required
         -    ResampleImage returns string on error, false on ok
         -    uses ImageTrueColor on GD2 for Jpeg old version goes mono on GD2
         -    Added PrintSupportedTypes for test.php3
         - itemfunc.php3 - added debugging $debugupload=1
         -   commented out Event_ItemAfterInsert etc since crashes
03-03-04 - new parameters columns and move_right for Radio Button input type,
(honzam)   which allows you to put radiobuttons in the grid (just like for
           Multiple Checkboxes)
         - fixed problem with language files in links module
03-03-04 - added display of GD types in test.php3
(mitra)  - remove warning on no picture in i_s - common when expanding
         - Added some debugging to AA\Cache\PageCache
         - Added stack of values for properly invalidating nested views
03-02-27 - fixed bug of not storing related items
(honzam) - fixed bug with wrong display multiple checkboxes input
           when "move down" is ON
         - fixed bug of not showing cron admin pages
03-02-25 - fixed bug of not showing buttons in related item select window
           (honzam)
03-02-20 - added the mailman feature, which creates files with lists of
           email addresses (jakub)
03-02-20 - added new input type field for itemedit - Hidden
(honzam) - added new alias function f_o which displaye "New" or "Old"
           or such text for the item
         - added banner parameter to slice.php3
           (see http://apc-aa.sourceforge.net/faq/#sliceparam)
         - added database optimize script - called from AA cron.php3
         - new Links module (not complete, yet)
         - fixed wrong order of odd/even rows in itemview (Index)
         - do not load already loaded language file in mgettext environment
         - new manager class for administration of items (still in Links module
           only)
         - removed old, unused functions in searchlib
         - it is impossible to use "AA Core slice" as template, now
         - fixed problem of not showing roles for slices in user management
         - fixed bug with call nonmember function in itemfunct.php3
         - constants in selectbox is shown even if they have the same value
           (space added)
         - added new paramewter for Selectbox input field - "show all" which
           displays all items including expited ones for slice
03-02-20 - added parameter wizzard for uploaded file (mitra)
         - fixed warning about missing field in fpr example {alias::f_e:add}
         - more functionality in sliceobj
         - another check in stringexpand
         - fixed permissions to allow adding AUTHOR EDITOR ADMINISTRATOR
           (may not be ok)
03-02-18 - added slice_id=$slice_id automatically to the menu_util and removed
           from the items in menu.php3 (jakub)
03-02-17 - updated sql_update to match the current changes
03-02-17 - fixed the bug in TableEdit with not deleting items
03-02-17 - fixed the bug in Item Manager with ignoring 0 in the Search box
           (jakub)
03-02-17 - fixed the bug in se_profile and profile with non-existing func
           inputDefaultTypes() (jakub)
03-02-17 - added "if (class_exists(DB_AA)) return" to extsess and extsessi
           (jakub)
03-02-17 - added zids::refill() function (jakub)
03-02-17 - improved the Anonymous Wizard to match the other changes (jakub)
03-02-17 - added a new field to slice settings, "Allow anonymous editing",
           with several options, described in doc/anonym.html (jakub)
03-02-17 - fixed several bugs in filler and fillform, improved their
           documentation, additional features (jakub)
03-02-17 - added a new Field validation function, "Unique e-mail", which
           combines the "Unique" and "e-mail" validations (jakub)
03-02-17 - enhanced the Anonymous form and Reader management documentation
           in doc/reader.xml,html and doc/anonym.xml,html (jakub)
03-02-17 - added new parameters to field Input type Multiple Checkboxes, which
           allow to view them in a table (jakub)
03-02-17 - finished the Alert module which cooperates with the Reader management
           slice, added events to event_handler (jakub)
03-02-16 - removed include of nonexistant en_site_lang.php3 from modedit (mitra)
         - added roles to um_util.php3.PrintModuleAddRow - possibly wrong
         - fixed bug in init_page stopping non-superusers logging in
         - fixed warning in view.php3 from packing empty slice_id
         - added some reset's in getxml
         - admin/index will now tell you WHICH slice you can't edit
         - added test option to RSS feed adder
         - added views to import and export - still not working properly!
         - added flag EXTSESSEITHER_INCLUDED to get around bugs with
            multiple includes until these get fixed
         - commented out security risk default_fnc_variable (mitra)
         - created include/view.class.php3
         - added mroe functionality to sliceobj, especially slice2
         - added getDB and freeDB to remove guessing about which AA_DB to use
         - created xml_serializer.php3 for object <-> xml
         - renamed zids/qqqquote to qqquote
03-02-10 - added note on securing apc-aa-uploads to install-4.html
03-02-06 - more on making import/export work  (mitra)
03-02-05 - fixed bugs in sliceimp.xml (mitra)
03-02-15 - fixed bug and added debugging to cache
03-02-11 - created the item_content.php3 file to ease manipulation with
           $content4id (jakub)
03-02-11 - created the event_handler.php3 file, useful for various
           event handlers which synchronize different parts of AA. Several
           Auth handlers set. (jakub)
03-02-11 - created the Auth feature which updates the auth_user and auth_group
           tables so allowing to use the mysql_auth Apache module (jakub)
03-02-05 - changed almost all files by changing require to require_once,
           deleting the "if (defined) return" constructs and changing
           GLOBALS[AA_INC_PATH] to GLOBALS["AA_INC_PATH"] (jakub)
03-02-04 - fixed bug in sliceimp.xml (tested $add instead of $add_fields)
         - fixed so displays Headlines of conflicting items
         - added functionality to import and export XML
03-02-05 - changed almost all files by changing require to require_once,
           deleting the "if (defined) return" constructs and changing
           GLOBALS[AA_INC_PATH] to GLOBALS["AA_INC_PATH"] (jakub)
         - fixed so conflict screen will still import from file, (textarea
           truncates)
03-02-04 - sql_update.php3: Changed the Alerts tables, added the Email table
03-02-04 - big changes in init_page. The script was a mess. With mgettext
           and some other changes it is much tidier and perhaps readable.
           (jakub)
03-02-04 - enhanced and fixed fillorm.php3 and filler.php3 in order
           to allow easy creation of anonymous forms. This involved
           changes in itemedit.php3 and itemfunc.php3, now it shares most of
           the code with them. (jakub)
03-02-04 - added the Anonymous Form Wizard (jakub)
03-02-04 - slightly changed the "Language" field in Slice Settings (jakub)
03-02-04 - fixed Slice Deleting (was in a bad state, deleted almost nothing)
           (jakub)
03-02-04 - added the Reader Management Minimal template to sql_update.php3
           (jakub)
03-02-04 - added Hex checkbox to Slice Export (default), uncheck to get XML
03-02-04 - fixed bug in discussion views (mitra)
03-02-04 - fixed new_id to skip ids ending in space (honza, via mitra)
03-02-04 - added slice.class.php3 to start encapsulating slice db manipulation
           (mitra)
         - fixed bug with error handling in xmlclient.php3
         - updated install-4.html to show no more aadb.sql
         - added % operator to math
         - support empty format string to math
03-02-01 - removed "Edit" from uneditable aliases in se_view (mitra)
         - added _#ITEMINDX and f_e:itemindex  for item number within a view
         - added _#ADD_ITEM standard alias, for putting on views to jump to add
           item (uses f_e)
         - added {dequote:....} to stringexpand to allow { } in fields where
           needed
         - added a generic extensions syntax to stringexpand via an array
           of functions
         - made huhl smarter, can print object via its printobj() method,
           implemented for zids.
03-02-01 - fixed bug with empty cmd[20]=x-20-   so returns empty set
03-01-30 - added support for match field "short_id" to f_q (could still use
           return field) (mitra)
03-01-30 - fixed bug in itemfunc where file not uploaded (mitra)
03-01-30 - fixed bug in {math where parameters contain aliases (mitra)
03-01-30 - allow time_limit parameter to extend PHP timeout on view.php3 (mitra)
         - switched ereg for preg in stringexpand 10000* speedup! (mitra)
         - added debug_times parameter to print timestamps (mitra)
03-01-28 - added new Password and Change Password field type and insert function
(jakub)  - added new Random function into Field Default
         - added parameters for Field Validation, Param Wizard for Field
           Validation and new Unique validation
03-01-28 - added paramater wizzard for i_s (mitra)
         - added some more warnings: in i_s, and stringexpand/alias
         - fixed title on site admin window
         - added test for GD into admin/test.php3
03-01-27 - fixed language constants in so many files, hopefully completely
(jakub)  - changed design of se_inputform.php3: added 2 new param wizards
         - improved param wizard design with buttons
         - fixed bug: slice was not deleted from module table
03-01-26 - added i_s as in {alias:{img_src.........}:i_s:} to generate height
           and width (mitra)
03-01-26 - fixed bad url from slicedel2 to slicedel
03-01-25 - added warnings to GD tests (controlled by errcheck=1) (mitra)
03-01-25 - restored en_site_lang.php3 since _m conversion not done completely
           (mitra)
03-01-24 - bug fix in slicedit.php3, mistyped URL sliceEdit.php3 (Jakub)
03-01-24 - changed design of se_inputform.php3 (Jakub)
03-01-24 - added H2 to admin.css (Jakub)
03-01-24 - fixed bug in code for non 128 bit ids (mitra)
         - parameterised RelatedItemsWindow, using table in itemfunc (later
            will allow redefining that table)
03-01-23 - doc/install Recommended php4.0.6 or later, (mitra)
         - instructions for non-shell accounts
         - added notes to install-3 that these packages are often preinstalled
         - added admin/test.php3 to CVS to enable checking options
03-01-23 - stringexpand - fixed bug in math (mitra)
03-01-23 - commented out insecure default_fnc_variable (mitra)
         - fixed zids.guesstype to allow for buggy shorter ids (14 or 15 char)
         - fixed new_id to only return 16 char ids in future
03-01-22 - fixed buggy shortids() function in zids.php3 (honzam)
03-01-22 - fixed typo sliceedit -> slicedit (mitra)
03-01-21 - code rule changes (mitra)
         - added global flag $errcheck like $debug but generates warnings
           on strangeness
         - added zids.php3 to encapsulate id management including:
           * adds support for tagged ids in many places (not all yet)
           ** If related item window field set to store text, it will cleanly
              edit these
           *** More changes to related item window coming
           * duplicates pack_id and unpack_id to pack_id128 and unpack_id128
             which check type
         - commented out require of  _lang.php3 files from config.php3
03-01-21 - changed {....} expansion to use f_h for fields, allowing multi-value
           fields
         - fixed bug in stringexpand for scroller (mitra)
03-01-20 - modified mgettext language files extension from .inc to .php3
           (mainly for backward compatibility) (jakub)
03-01-17 - changed all January dates here from /02 to /03 :-)) (jakub)
03-01-17 - changed name loginform.html to loginform.inc, the name was nonsense
           (jakub)
03-01-17 - BIG CHANGE: moved the complete AA to mgettext (jakub)
            * see documentation in include/lang/readme.html and misc/mgettext/*
            * Finished the scripts in misc/mgettext and include/mgettext.php3
            * In almost every script: All language constants replaced by _m()
              calls
            * All language files include/??_????_lang.php3 removed.
            * Updated language files in include/lang.
            * Added new item into config.php3: $XMGETTEXT_DESTINATION_DIR
            * Updated doc/install-5.html
            * Added menu item AA admin / xmgettext
            * changed global variables in constants.php3 to function calls
            * changed include/init_page.php3 to use mini-gettext
            * changed slice.php3 to use the ??_output_lang.inc language file
            * changed admin/param_wizard.php3 to use the ??_param_wizard.inc
              language file
03-01-17 - Documentation - ref to GD (but no instructions) (mitra)
            -- and ref FAQ for developer CVS install
         - stringexpand: do unalias on results of expanding apc_state or als
03-01-16 - added functions to module/site/site.php3 for site_* files (mitra)
           -- ModW_id2item - convert id to item enabling aliases etc
           -- ModW_arr2str - convert array back to string
           -- ModW_str2arr - convert apc= parameter string to array
           -- pass apc_state[item] on to unaliasing
03-01-15 - fixed bugs in imagefunc.php3 (check for GD, removed debug messages)
         - fixed problem in Item Manager (search field works again)
03-01-14 - hiding the slice select box for users with access to only one module
           (jakub)
03-01-14 - new function GetUserEmails in perm_core.php3 (jakub)
03-01-14 - new language file selectbox for site module (Site Admin - modedit)
03-01-13 - added "add" as option to f_e for adding an item;  (mitra)
           created parameter wizard for f_e
03-01-12 - changed site module to go to prior sibling when deleting rather than
           parent (mitra)
03-01-12 - added default $item=null to new_unalias_recurent to allow calling
           from site module without warnings (mitra)
03-01-12 - fixed adding AA_CP_Session to url in site module AAPage where it is
           already there.
03-01-12 - changes to allow _#EDITITEM to be used outside of admin interface
03-01-12 - combined several ways of redirecting to a URL into common function
           go_return_or_url
03-01-11 - Fixed item.php3:subst_alias, it relied on old bug of expanding bare
           field name without { }
03-01-11 - Changed typos of _#ITEMEDIT to _#EDITITEM
03-01-11 - Changed a type $New_silce to $New_slice in init_page.php3
03-01-11 - Added alias checking so {xx} will also check als[xx]
           (it will default to returning "{xx}" if not set)
03-01-11 - Changed f_e to work in views outside of admin (appends slice_id
           instead of session_id if no session id), takes a second parameter -
           return url (not currently specifieable with wizzard), and defaults
           to $PHP_SELF if running with no $sess.
03-01-10 - fixed bad display of selected related items, when "Two Boxes" input
           type is used (honzam)
         - {influde()} inline construct accepts "http://" includes, now (honzam)
         - fixed bug of bad number of parameters to new_unalias_recurent()
           (honzam)
         - fixed problem with modification of bad spot when clicked "Back"
           in browser for 'site module' (r_spot_id changed to spot_id) (honzam)
         - forbiden "action" field name renamed to "akce" in 'site module' admin
           (honzam)
         - added missing "util.php3" include in "Module Settings" page
           for 'site module' (modedit.php3) (honzam)
         - fixed bug of not displaying UserManagement pages in NN4.7 (honzam)
03-01-10 - fixed javascript bugs preventing for example deletion of RSS feeds
           on Mac IE, two bugs (mitra)
           -- if the index of a selection is -1 (not selected) you can't
              retrieve a value
           -- you can't test against undefined, have to test against null.
03-01-07 - move r_spot_id out of session variable and into URLs (mitra)
03-01-06 - added "All" option to the scroller in item manager
           (sets listlen to 99999) (mitra)
03-01-06 - changed cases of "action" to "akce" as form component name because
           its a  property of "form". Bug shows up in Omniweb but not in IE
           (fee_to.php3,index.php3 related_sel.php3) (mitra)
03-01-05 - added utils.php3:huhl function for wrapping print_r (mitra)
         - changed richEditShowable to return false for macintosh (Mac IE 5.2
           does not support either class or iframe versions of RichTextEdit)
03-01-03 - merged string expansion into include/stringexpand.php3 including
           (mitra)
           -- REMOVE strings from views are now applied to the RESULT, not
              the first parse, this might be significant/bad idea
           -- Behavior for extra { and } in the strings MIGHT be different
              before, the previous behavior looked inconsistent
           -- removed fake item kludge from include/mail.php3
           -- item.php3 (i.e. expansion in views) now supports "view.php3"
              syntax and expansion of apc_state
           -- QuoteColons now handles { and } as well, this might not always
              be a good idea
           -- modules/site/site.php3 uses new unalias which means
              ---  it requires switch({m}) instead of switch(m)
              ---  it supports the {math ...} and {include...} syntax
03-01-02 - fixed bug in site/index.php3 where cache not invalidated when site
           updated
02-12-30 - spelling correction in _m("There are too many related items.
           The number of related items is limited.") all *news_lang.php3 still
           in english (mitra)
02-12-30 - warning comment on slice special case in item.php3 (mitra)
02-12-29 - Added some comments in site/site and added simple example from sf.net
           (mitra)
02-12-20 - fixed problem with LiveCheckbox (image path/mozilla refresh) (honzam)
         - fixed bug of ignored conditions, when conds[x][value] was 0 (honzam)
02-12-17 - input type "selectbox with presets" with the "adding" parameter ads
           new constant into constants group WITH PRIORITY NUMBER SET TO
           MAX(pri)+10  (honzam)
02-12-15 - date fields posted from anonymous form takes date from Defaults, if
           it is send as empty and the field is not marked as REQUIRED (honzam)
02-12-13 - Removed output from cron (mitra)
02-12-11 - Allowed - and . in filemanager names in formutils and added err msg
           (mitra)
02-12-11 - fixed bug so Slice Admins can add/edit RSS feeds, not just superadmin
           (mitra)
02-11-21 - fixed problem, where slice admin can't edit slice settings
           (only superadmins can)
         - fixed bug of ocasional warning of empty array in sql_parse.php3
         - fixed typo in slice4cache variable name in modules/site/site.php3

--------------------
02-11-18 - v2.4.0 - stable release
--------------------
02-11-18 - install documentation updated (thanks to Marek Tichy)
         - multipart/form-data type of form is send only if you use file upload
           field on the form
         - fixed javascript error on new user/group creation
         - related items could be from another slice, again
02-11-17 - replaced bad '<?' php delimiters with '<?php' and other fixes
02-11-15 - display control variables (like navbar, sort_filter) are in sessions
         - new input type "two boxes"
         - fixed problem of IsSuperuser() function - it didn't use cached values
         - javascripts moved to new directory - it allows better security
           settings for include directory
         - fixed {switch()..} bug - default option works,
                                  - empty variable condition works
         - added "empty" class for empty cells in calendar view
         - better handling of Word pasted text
02-11-14 - added Item Edit javascript validation, alt+S accesskey
         - improved Item Manager design
02-11-13 - returned item ids are cached in QueryIDs function, which should
           improve slice.php3 speed and scrolling speed
         - added support for module deletion
         - fixed problems with aa menus in modules
         - fixed problem with html/plaintext setting on returned itemedit page
02-11-07 - added doc/param_wizar_list.php3 to provide a complete list of
           field types and alias functions
02-11-07 - sql_parser updated so that in a search form spaces, hyphens and
           apostrophes between two letters don't get special meaning.
           I.e. "south-west" remains "south-west", but "south -west" becomes
           "south AND NOT west"
02-11-02 - constants could be sorted by click on column name on constants admin
           page
         - cosmetic changes in design
02-11-03 - new 'site' module
         - more customization of window for related item selection (Backward
           link, optional buttons and design based on Item Manager interface)
         - new _#SLI_NAME alias introduced
         - new utility to import constants to database directly from an array
           (misc/file2slice/array2constants.php3)
         - fixed bug in f_d alias function - absolute date range now works as
           expected
02-10-25 - new possibility for selectbox with presets - newly written constant
           can be added automaticaly into 'preset' constants group
         - first version of Live checkbox - checbox changing database directly
           from Item Manager
         - new possibility to use 'login' as default or inserted value for field
         - related item view accepts view conditions now
         - related item view also do not display expired items
         - rows returned/afected is displayed on debug output (&debug=1 in url)
02-10-24 - new AA Finder admin page - finds views and slices
02-10-18 - added mathematical functions for aliases (thanks to Stano and Jakub)
02-10-14 - new possibility to send emails from discussion (discusion2mail view)
02-10-11 - send admin emails to non-committed users
02-10-03 - added span to active scroller page.
         - new cron admin pages
         - constants.description database field changed to TEXT
02-09-27 - minor bug fix: util.php3 / html2text (used in alerts sending) does
           not comprime all empty lines to one line end any more.
02-09-26 - nested aliases work in f_v alias function too
         - renamed all defaults aliases, which ends by '#' character (_#ITEM_ID#
           => _#ITEM_ID_) - there was problem with colon ':' escaping '#:'.
           old aliases works, so all code is backward compatible
02-09-12 - added Editorial to Alerts Collection
02-09-11 - fixed problems with related items view
         - new possibility to log user searches (queries) (see searchlog
           parameter to slice.php3)
02-08-20 - first parts of new language environment mini gettext
02-08-20 - new AA Alerts introduced, allowing to send new items to users by
           e-mail
02-08-20 - because MsgPage is sometimes called with menu which again uses some
           permissions functions, these occurences were changed to MsgPageMenu
           in include/msgpage.php3
02-08-02 - files uploaded to a slice with file manager set on, are uploaded to
           directory "items" in File Manager
02-07-25 - hierarchical constants: added check not to allow users to select one
           constant twice
02-07-23 - fixed minor bug, added als[] to scroller sessions
         - added 5th param to hier const field type, Level Names
02-07-22 - added sorting (and grouping) by constant-priority to view
02-07-21 - better names for uploaded files
02-07-18 - bug fix: sort didn't work with scroller
02-07-16 - fully functional File Manager with Copy Template feature
02-07-12 - added a new defaultCondsOperator URL parameter which changes the
           default operator LIKE to another one
02-07-12 - changed slice.php3 - it didn't combine correctly URL defined group_by
           etc. with the slice defined parameters.
02-07-11 - fixed itemview - group by ignores upper/lower case now
02-07-08 - new 'group_n' parameter for slice.php3 allowing display of first
           (second, ...) category only
           (good for display of last issue of magazine, for example)
02-07-03 - new possibility to use data (aliases) from the first item in listing
           for the 'top HTML code'
02-07-02 - new possibility to change all user permissions on one page
           (in user management)
         - new possibility to sort and mainly group items in 'priority' order
           (usable for all fields defined by 'constants' - like categories)
02-06-30 - added Slice Wizard
02-06-26 - bugfix - bad parsing of parameters of Input type function (el:.. bug)
         - bugfix - RSS view works again
02-06-21 - new "{include()}" inline function
         - bugfix - multiple checkboxes now works (again)
02-06-17 - patched PHPLib is part of AA, now (use 'cvs update -d' to get it)
         - fillform.php3 works with scroller (fillconds)
         - removed call-time passed-by-reference variables in function calls
         - better variable handling if magic_qoutes are not set (no more
           warning displayed)
         - f_t alias function parameter used for unaliasing string
--------------------
02-06-14 - v2.2.0 - stable release
--------------------
02-06-13 - fixed 'admin order' bug in profiles
02-06-07 - added the Field Triggers page to allow JavaScript support
02-06-06 - added possibility to create constant group from another constant
           group (clone template)
         - fixed bug with wrong day number in month in cron.php3
         - fixed bug with empty braces for cmd[] and set[] for view
         - removed dependance on 'conds' url parameter for view
         - fixed f_h function (no delimeter if empty value)
         - fixed problem with AA_INCLUDE_URL on http/https servers - can't load
           css file...
         - new operator 'is set'-NOTNULL for conditions
02-06-03 - added possibility to create view from template (any other view)
02-06-01 - http/https problem fixed for admin images
         - fixed parsing arrays from .shtml URL parameters (unlimited depth)
         - added possibility to define field mapping for manualy fed slices
         - the possibility to filter 'to the same' category on Filters page is
           back (for inner feeding)
02-05-31 - changes in navigation - new AA menu introduced instead of users menu
         - multiple selects now works well in fillform
         - interface for new module adition
         - include path generalization for richedit
         - fixed bug in jump module - jump between two slices
         - hierarchical constant editor - support for default value selection,
           support for addidion to public pages
         - new field_id change utility (good for multiple slice searching)
         - new alias listing column in Admin -> Fields
         - slice export/import now allows gzipping of data; storing the data to
           the file; storing not only slice setting, but the item's data too
02-05-24 - added 'number of item viewed counting' to view.php3, too
           (when cmd[]=x-.. used)
         - added information, where constants are used - on constant admin page
         - fixed bug in constant group deletion (all tracks removed, now)
         - newly created slices uses the same categories as template (no new
           constant group is created, now (BTW - it was buggy, so long))
         - fixed bug in 'Related item' input type (you can switch from page to
           page and it works, now)
02-05-17 - new 'textarea with presets' input type
         - added new possibility to "selectbox with presets" - two field could
           be filled by single selection (source and source_href, for example)
         - new possibility to concaternate texts filled by presets (field or
           textarea
         - added RLIKE possibility in operator list for views
         - fixed bug of not working url aliases in static view
         - added error description text passed to error page (on err_url)'
           filler.php3
         - removed old and unused parameter "query" and all related functions
         - added accesskey "s" for form submit
         - slice owners are ordered by name, now
         - fixed problem with displayed warning on discussion administration
           page, when accessed through https
         - fixed bug of ocassional warning of redeclare userdate2sec() function
         - fixed bug of ocassional warning of wrong language file include
02-05-15 - added 'storemultiasone' option in /misc/file2slice/importer.php3
02-05-14 - fixed bug in edit constant - se_constedit (udated to modules version)
         - removed debug messages from hierarchy constant editor
02-04-25 - module interface introduced (not only slices, but other modules are
           now possible to do. see /modules directory for module listing)
         - new 'inline' aliases definition (in {} brckets)
         - new 'propagate changes' possibility for constants
         - new hierarchy constant editor
         - new calendar view
         - new possibility to search across more slices
         - support for 'group by' setting in admin interface (not only
           categories) for slice.php3  (Admin -> Design -> Index)
         - more configurable discussions - button definition, separator
         - added css class to scroller
         - new view scroller for use in views
         - better newlines handling in joining feeds FEED_MAP_JOIN
         - better handling of urls (optional 'http://') in url fields
         - new f_j alias function for lowercase/upercase conversion
         - possibility to redefine author (created_by........) from anonymous
           postig form
         - new possibility to display random item in view
         - possibility to use shorted set[] and cmd[] parameters in view
         - banner display support in middle of shown items (banner parameter for
           view.php3)
         - possibility to redefine 'no item found' message by set[] url
           parameter in view.php3
         - anonymous posting timezone correction bugfix, checbox now works, ...
         - new scr_url parameter good for php included slice.php;
         - sort[] parameter is not depend on conds[] now in slice.php3
         - text inputboxes are checked for wrong HTML characters
         - some display design corrections and other bugfixes
         - new debuglog function for write debug output into file
         - itemview moved to separate file
         - support for on-view discussions;
         - removed logs from files
02-03-12 - new romanian language support (Thanks to Mihly Bak, StrawberryNet
           Foundation),
         - new_news_lang.php3 file introduced for better support of many
           language versions
         - fixed bug with file-upload in php 4.1.2
         - aliases added to pagecache lookup for views - bugfix
02-02-08 - corrected slovak language file by Norbert Brazda
02-02-05 - the message 'no item found' can be redefined
         - added new parametrs to view - from, to, page and slice_id.
         - new transformation alias function f_x
         - items are counted in all bins - including pending bin and expired bin
         - url alias substitution in slice.php3
         - fixed bug in searching in boolean fields
         - fixed bug of not working param_wizard on some domains
         - fixed bug in blurb f_q alias function
02-01-12 - fixed path in sql_update.php3 and changed docs in install-4.html
02-01-09 - new possibilty to anonymously edit items on public sites
         - new possibility to redefine the design of output by fview and iview
           url parameter
         - sorting and querying blank fields now fixed (bug 492331)
         - better database indexes
         - new alias for number of returned items
         - fixed bug in user profiles - not working "hide field"
         - fixed bug in aabd.sql - bad RSS view definition (thanks to Ram)
         - minutes in time fields are displayed two character numbers
         - debug messages displays duration for queries
         - fixed bug in parameter to f_v alias function
02-01-04 - added language constants for profiles, notifications.
         - updated some aliases functions
         - new hidefulltext parameter for slice (good for discussion)
--------------------
01-12-05 - v2.1.0 - developer release
--------------------
01-12-18 - scripts are now "magic_quotes" independent - no matter how it is set
         - new user profile feature
         - new possibility to join fields when fields are fed to another slice
         - new alias for displaying matched items count _#ID_COUNT
         - new WYSIWYG richtext editor for inputform (IE5+)
         - new notification e-mail possibility (notify new item in slice, bins)
         - fixed bug of not displayed items in admin interface (bug in scroller)
         - database conversion script (v1.2.x -- 1.5+) /misc/oldDb2Db
         - added possibility to fill multiple values to one field by offline
           filling
         - added empty row to selectbox for selectin no related item, if the
           field is not required (in inputform)
         - fixed file upload problem in PHP >= 4.0.3
         - new import functions for importing CSV files (/misc/file2slice/)
01-12-12 - better item table flags setting
         - better handling newlines in discussion.php3 and f_h alias function
         - bugfix in f_b alias function
         - fixed bug of not allowed empty group in LDAP
         - added possibility to quote queries in c- command in view.php3
         - better permission setting for discussions administration
--------------------
01-12-05 - v2.0.1
--------------------
01-11-26 - als parameter parsed in cmd parameter for view.php3
         - No session add option for itemlink in alias
         - IE6.0 center bug fix
         - sort slice/constant in listbox by name
01-10-26 - new tab2slice_php scripts for data import (thanks to Udo)
01-10-24 - new parameter wizard for function aliases and input type parameters
         - fixed bug of two listed slices in slice export
         - search expressions with AND, OR, NOT, (, ) allowed in conditions
         - fixed bug in search (INNER JOIN replaced by LEFT JOIN to content
           table)
         - group_by parametr extension for direction specification (+/-)
           in slice.php3
         - fixed bug with fourth parameter to f_c
         - fixed bug with unspecified maxlength parameter in text input field
--------------------
01-10-08 - v2.0.0
--------------------
01-10-02 - new sliceexport/import feature
01-10-01 - better Halt_On_Error support in extsess and extsessi
01-09-27 - added Cross Server Networking (RSS item exchange between AA)
         - added support for related items
         - new listlen parameter for view.php3
         - new view as alias feature
         - dash escaping in view.php3 url parameter
         - field ids will begin with zero ( headline........) not with 1
         - better support for dates in "<=", ">" comparison
         - new backup & restore possibility with sql_update.php3 script
         - new e-mail alias function f_m
         - new input type - preselect
         - generalized permissions functions to be able to store permissions
           for more modules and more AA installations
         - starting with alias different from AA Core (for superadmins)
         - moving item between bins updates "last_edit" and "edited_by" fields
         - navigation bar rewriten in order to simplify a new option addition
01-09-17 - fixed security hole in itemedit.php3 (caching of admin pages)
01-08-16 - added constant view type
         - added discussions
         - fixed bug with upload of file with bad charactes (like accents, ...)
01-08-03 - if no time in expiry date is specified, the end of day is stored
01-08-02 - new cmd[]-d parameter to view.php3 which is much stronger condition
           defining parameter than cmd[]-c
         - possibility to display expired items (for archves, ...)
01-07-31 - new - display condition redefining parameter to view.php3 (cmd[]=c)
         - added LIKE operator for view conditions
         - added '-' operator modifier for relative time conditions.
           The operator was implemented to view definition too (se_view.php3)
01-07-04 - new support for custom alias function definitions
           (include/usr_aliasfnc.php3 - not in CVS! - you can create it)
         - new user defined aliases (see url parameter 'als' to slice.php3)
         - new possibility to create item by copying old one
           ('Insert as new' in itemedit.php3 file)
01-06-24 - new sort and search possibility in admin interface
01-06-21 - fixed bug of constant assigning to field with multiple selectbox
         - feeding improved - field value redefine possibility
           in se_mapping.php3
         - added item ids description, ... to /doc/FAQ.html
         - enhanced cp command in install.txt
01-06-15 - improved f_h alias function for displaying multiple values
01-06-13 - added negation in condition alias function f_c
         - fixed bug of reverse meaning of condition
         - FAQ updated - slice.php3 parameters covered
01-06-12 - date inputs support time, now
         - new multivalue input possibility - <select multiple>
         - fixed bug in LDAP install documentation
01-06-11 - feeding improved - new feeding mode "Feed & update" and
           "Feed & update & lock"
01-06-08 - new slovak language support sk_*_lang.php3 (by Norbert Brazda)
01-06-07 - fixed bug of not displayed top and bottom html code for fulltext
01-06-05 - default codepage for slice not hardcoded now - moved to *_common_lang
         - minor changes in design (new logo and some colors)
         - updated README to reflect v1.8
--------------------
01-06-04 - v1.8.0
--------------------
01-06-01 - multiple categories (multiple values at all) for item now works
         - new item view statistics field (displayed_count) in item table
           (normal field, so you can view it, sort by it, make conditions ...)
         - new sql_update.php3 script for easy database install & reinstalation
         - new short_id for item (and new x parameter to slice.php3 script) for
           shorter item urls
         - little changes in view setting - better user interface
01-05-29 - shared field displayed in itemedit form, even they are locked for
           update
01-05-27 - fixed problem with doubled item from search
01-05-26 - fixed problem with '=' character passed by url
         - doc/FAQ.html updated
01-05-25 - field ID is displayed instead of type in field setting se_fields.php3
         - new search parameters in slice.php3, which uses beter search funct.
01-05-24 - fixed bug of item disapearing after item modify
         - fixed bug of not updated list of item in Item manager after item edit
01-05-21 - new "field mapping" feature for feeding - se_mapping.php3
           (by Ondra Mazanec)
01-05-18 - new View feature, new and improved search function (QueryIDs)
         - better Message Page handling (not so much)
         - removed unnecessary enctype="multipart/form-data" from <form> tags
01-05-17 - fixed problem vith "No slices listed in Content Pooling page"
01-05-16 - fixed problem of bad Netscape's view of user manegement pages
01-05-13 - link to alias editing page in listing of aliases (se_fulltext, ...)
         - spanish language added (es_news.lang.php3 and es_common_lang.php3)
01-04-17 - new script go.php3 for finding links to asiciated items (fed from...)
         - corrected LDIF.init and slapd.conf for LDAP permissions system
         - fixed bug of not displayed top/bottom HTML code in fulltext
           and category
         - new conditional alias
01-04-09 - order parameter works with '+' sign too in slice.php3
         - new timeorder parameter in slice.php3
         - fixed bug in selecting bin, where to put item in filler.php3
         - fixed bug of not stored parameter for field input type in
           se_inputform.php3
         - added size and maxlength parameters to field input type
01-03-30 - uploaded images goes to sepatrate directories (separated by slice)
           (subdirectories under IMG_UPLOAD_PATH with name based on slice_id)
         - offline filling bug fixed
         - reversed HTML / Plaintext setting bug fixed
01-03-23 - fixed problem with displaying quotes (["'\<>]) in se_input_form.php3
         - multiple image (file) uploading into slice now works
01-03-19 - updated FAQ.html to reflect v1.6
01-03-17 - feeding now respects current setting of feeding permission (fixed
           the "disable feeding doesn't terminate feeding" bug)
         - new "Delete slice" admin page for superusers
         - better anonymous posting support (new filler.php3 script introduced
           which allows full HTML customization and images and other files
           uploads from anonymous forms)
01-03-14 - HTML/plaintext switch now works
         - some fields are hidden for not superusers (template, deleted, ...)
         - counting of items in each bin
         - better feeding support (internaly prepared for unfeedable fields)
01-03-03 - feeding support
         - fixed bug with radiobuttons, ...
         - better seting of News template
01-02-24 - color profiles definitoins
         - template/delete options in slicedit.php3 visible only to Superadmins
--------------------
00-26-01 - v1.6
--------------------
01-01-23 - added possibility to define Aliases in se_inputform.php3
         - fixed bug in permission handling (no showed slices for no superusers)
         - added help texts to design pages se_admin, se_fulltext, se_compact
01-01-20 - final 'I hope' version of APC-wide categories implemented
         - better categy handling for new slices (predefined its own category
           set)
         - fixed problem with storing item ids to session in too big slices
         - implemented posibility to view multiple fulltext items on one page
           (see item parameter in slice.php3)
01-01-19 - removed absolute paths to some pictures
         - fixed bug in displaying admin pages (table caption not displayed)
01-01-14 - modified db table constant (added id column - used with categories)
         - include/view.php3 modified to use page caching
         - new include/pagecache.php3 (later PageCache) with functions allowing caching of pages
01-01-13 - loging for change slice feeding settings
         - new include/logs.php3 with utilities for logging (log table modified)
01-01-09 - located and fixed bug in in PHPLib. Fixed by patching ac_store()\
           function in PHPLib :-(.
01-01-08 - fixed problem with unpack_id() in some PHP versions (4.0.3)
           (Documents contain no data problem)
01-01-04 - fixed "cannot redeclare sec2userdate() problem"
         - fixed problem with wrong .htaccess file ("Internal Server Error"
           problem)
--------------------
00-25-12 - v1.5.2
--------------------
The new structure allows
  - more powerfull customisation of each slice (you can easy add the new
    field to your slice)
  - new aplications (as joblist, resources, ...) can be done via admin
    interface - not by editing language files.
  - each item category has its parent - APC wide - category (suggestion on this
    welcommed)
  - allows threading and grouping of items in future - allows multiple
    selection for the same field in future
  - ...
--------------------
00-18-12 - v1.2.3
--------------------
00-11-20 - fixed bug in anonymous posting from other than news aplication
00-11-16 - changed admin leftbar menu order and labels
         - changed default article editor field order & fields
         - improved some of the english labels
00-11-15 - fixed problem with required Start date and End date
         - fixed bug of bad viewed item in itemedit
         - fixed problem with annonymous posted item on encapsulated (SSI) page
00-11-13 - fixed bad order for default setting of show fields and needed fields
         - fixed problem with bad minutes in date() function
         - list of items in admin interface is not centered
00-11-08 - fixed problem with bad AA_SL_Sess id - bad copy QUERY_STRING to
           HTTP_GET_VARS
00-10-16 - big search form can be customized via style sheets
--------------------
00-09-14 - v1.2.2
--------------------
00-10-10 - new application "Who's who", "Joblist", "Resource"
           (support for Web.net's extended item table)
         - better backslashes handling for Query string parsing
         - better database operations result checking
         - messages abstraction via MsgOK(), MsgErr()
         - default sortorded of items in adminstration is the newest first
--------------------
00-09-14 - v1.2.0
--------------------
00-08-29 - better validation of id (1-32 chars) and password (any character)
00-08-23 - fixed security problem with inc parameter to slice.php3
00-08-22 - fixed problem with lost session id AA_SL_Session in cgi (PHP4)
           instalation
00-08-18 - new installation documentation
00-08-17 - New possibility of redirected view of item. Alias _#HDLN_URL now
           points to External link (if link_only=true) or on redirect url
           (if specified) or on the same page. The redirected url should
           contain <!-- #include ...slice.php3 --> again, but with other look.
           database modifications necessary:
              ALTER TABLE items ADD redirect VARCHAR (255);
              ALTER TABLE slices ADD d_redirect VARCHAR (255) ;
         - new parameter inc for slice.php3 script (used for displaying static
           page insear of slice data
           Usage: http://web.ecn.cz/slice.shtml?inc=http://www.ecn.cz/info.txt
         - Search go through approved items only in searchlib
00-08-14 - fixed "membership of zeros" problem visible in SQL permissions
         - fixed incorrect default for in DelGroup
         - added checking for empty groups with superadmin access in setup.php3
00-08-11 - added setup script setup.php3
         - E-mail is not required for user in permission system
00-08-07 - fixed a few compatibility problems with PHP4
           (in_array defined optionaly, added semicolon to global declarations)
00-08-03 - fixed bug in sort order in view.php3
         - "No WDDX warning" removed as confusing
         - session variable r_hidden used instead of HIDDEN html tag
           for security lacking data.
         - magic quoting of posted variables if magic_quotes_gpc is off.
00-08-02 - fixed problem with zero scroller length error message
         - partialy fixed problem with quoting values on machinech with no
           magic_quotes_gpc = on
         - default variables for new slices defined
         - new images for "HTML formated" column in admin interface index.php3
         - some language corrections
00-08-01 - fixed problem with OpenLDAP and ldap_mod_del (apcaci changes)
         - global SuperAdmin access rights take precedence over slice-specific
         - membership in groups now queried in SQL version of GetIDPerms()
00-07-28 - deletion of groups now works
         - resolved some differencies in behaviour of perm_sql and perm_ldap
00-07-27 - to change privileges of other accounts, equality of permissions
           is no longer adequate (higher role is required)
         - superadmin privilege settings in User / Group management
00-07-26 - added default WDDX value for new slices
00-07-25 - fixed minor Javascript errors in se_compact.php3 and index.php3
         - changes.txt renamed to CHANGES, format adjusted
00-07-21 - "Edit User" prints login names instead of DB specific IDs
         - added support for PHP in CGI mode with --enable-force-cgi-redirect
00-07-18 - added support for other crypt() variants
00-07-17 - fixed login without password bug (LDAP)
--------------------
00-07-14 - v1.1.0
--------------------
00-07-14 - fixed filters bug (no defined categories)
00-07-13 - created_by and created_at are no more zeroized during slice
           updates
         - Article Editor prints people's names instead of UIDs
00-07-12 - fixed seek() error (OPTIMIZE_FOR_MYSQL == false)
         - slice selector printed only when more slices available
         - Article Manager prints real SSI line
00-07-11 - config.inc renamed to config.php3, old links to config.inc
           adjusted
--------------------
00-07-04 - v1.0.2
--------------------
00-07-04 - miscellaneous bugs fixed
--------------------
00-06-14 - v1.0.1
--------------------
00-06-12 - fixed bug of add new slice (it was caused by expiry date
           removing 6/5/00)
00-06-07 - new configurable admin interface (user can select columns
           in admin interface)
00-06-05 - removed expiry date default setting for slice (so now there
           is only expity limit in days)
00-05-29 - fixed bug for OPTIMIZED_FOR_MYSQL compact view - navigation
           bars are shown now
00-05-22 - sort order of items in compact view changed (newer items go first)
00-05-19 - MySQL perms fixed
00-04-24 - new anonymous posting feature (465)
         - new preview of editted item feature (467)
00-04-18 - corrections to design
00-04-17 - new user management interface
00-04-14 - some language corrections
00-04-13 - new public permission function GetGroup (analogic to GetUser)
00-04-12 - fixed bug in remove all fed slices from import
00-04-11 - fixed bug of category sorting in index.php3 (436)
00-03-30 - fixed bug of wrong displaying "feeded from" and "feeded into"
           (more details in index.php3)
00-03-29 - fulltext slash bug fixed (no additional slashes before ' " and \)
         - updated icon legend just below items in index.php3
         - encap=true is default setting of parameter given to slice.php3
00-03-28 - new direct feeding feature from index.php3
00-03-24 - bug fixed in index.php3 - zero length items list makes no error
           message if OPTIMIZE_FOR_MYSQL == false
00-03-22 - updated perm function GetMembership - if $flags==1 then groups
           are not scanned recursively
         - bug fixed in perm_ldap.php3: ($flags && 1) changed to ($flags & 1)
           for bitwise AND
00-03-20 - fulltext preview window go always on top, now
         - categories and slices too are sorted in listboxes
           in se_catogory.php3
00-03-17 - javascript in category setting supports NN 3.0 too
         - javascript for selecting/unselecting visible items on editor page
           supports NN3
         - javascript for Import & Export feeding setting supports NN3, now
00-03-16 - solved problem of adding new slice to empty database
         - new aplications: Press release publisher, News in czech language
         - fixed bug in detailed list of items (editor index.php3 page)
00-03-13 - new graphics design
         - perm_sql
00-03-09 - SGML version of INSTALL
         - all configuration options moved to config.php3
00-03-08 - new directive OPTIMIZE_FOR_MYSQL which optimizes SQL queries
           for MySQL database
         - new aliases and alises help
00-03-07 - alias substitution optimized for speed
00-03-02 - bug fixed in slice URL setting (slice_url in form colided with
           slice_url in navigation bar)
00-02-29 - new: fulltext preview comes to separate window
00-02-28 - new navigation bar
00-02-25 - new category administration interface
         - enhanced permission system API
         - new caching feature of permission system (just one (LDAP ...)
           search for each user)
00-02-24 - bug fixed: no LDAP warning message if number of results exceeds
           limit (500)
         - removed organization select in Add user interface (not needed
           in new permission system)
00-02-22 - expiry date limit now works
         - when you insert new user you will go directly to add slice user
           page
00-02-21 - add user search return all matched users (not only addable one)
00-02-17 - simplified AuthenticateUsername(), changed declaration of
           AddPermissionPerson() - now requires an array
00-02-16 - fixed bug in Delete of last assigned permission; changes now at
           attribute level
00-02-14 - fixed URL generation in Permissions pages
00-02-10 - speed up page view by spliting util.php3 into util.php3 and
           formutil.php3 (and selective incuding of these files)
00-02-08 - safer html headers within pages (charset specified)
00-02-07 - image uploading from itemedit.php3 page
00-02-05 - aplication prepared for multiple types of AA
           (slice type select for new slice, ...)
00-02-03 - feeding export enabling/disabling now works
00-02-02 - new design of editor page index.php3
00-01-31 - updated perm_all.php3 - pure permission function file - all
           users have all permissions
00-01-21 - Improved speed of compact and fulltext view displaying.
           (Names os aliases changed to equal lenth one)
         - new: grabing fulltext into abstract, when abstract is empty.
           Length is controlled on slicedit.php3 page.
         - "Posting enabled" and "Show recents" removed from
           slicedit.php3 - recrement information
         - New "Remove strings" in compact and fulltext view (in order
           to remove empty braces and other things from display)
00-01-20 - fixed bugs on category sorting (1. database error ocurred,
           2. skipped to another slice)
         - Deleted slices are not accessible for authors-administrators from
           editor page index.php3 (super user (as toolkit one) see all
           slices)
         - Deleted slices are not accessible for view, too (in slice.php3)
           (items from deleted slice are still accessible from search engine,
           if user do not specify slice, where to search)
00-01-19 - new: se_newuser.php3 for adding new user to LDAP permission
           system
           (password is md5 encrypted)
00-01-14 - editor.php3 ranamed to index.php3, index.php3 removed
00-01-13 - new: item fulltext preview button in editor.php3
         - new: slice management strip in editor.php3
00-01-12 - new LDAP permission system (user management with roles, add user
           from ldap directory, not new LDAP users interface)
         - all known pages (without index.php3) support LDAP permission
           system
00-01-11 - max nesting of groups of users is checked (it avoids cycle
           in group definition)
00-01-06 - if you add slice, new ldap entry for this object is created
00-01-05 - new file perm_all.php3 which is modified permission library
           perm_ldap.php3. perm_all.php3 gives any permisiion to any user
         - simple user management works
99-12-22 - refresh message page is not displayed, when you click back button
           in browser
         - LDAP authentification instead of MySQL database (changes in
           phplib)
99-12-17 - big search form works correctly and its behavior can be set
           on se_search.php3 page
99-12-16 - new example slice with examples of category links, homepage
           (highlight) links, small search field and full search form link
         - improved managing of spdecial characters in forms (like ', ", \)
99-12-15 - new slice administration page se_search.php3 for big search form
           setting
99-12-14 - fixed bug in deleting items (bug due to move full_text to new
           database)
99-12-13 - search works with feeded items, now (I changed name of full_text
           field in items table to full_text_old, because it should not
           longer
           be used. Use full_text in fulltexts table instead)
99-12-10 - table items divided to items and fulltexts, where fulltexts of
           items are stored (its very useful for searching, expecialy when
           you want to search feeded items)
         - new parameter bigsearch to slice.php3 - shows big search form
           (the searching is not 100%, yet - not search in feeded item
           and maybe other bugs)
99-12-09 - slice url field added to slices database and related scripts,
           which means link to home page of this slice (slice.shtml)
         - new parameter cat_id to slice.php3 - shows only items in category
           with id ...
         - new parameter cat_name to slice.php3 - shows only items in
           category with name LIKE '%cat_name%'
         - new version of scroller - easy_scroller - simplified version of
           scroller used in slice.php3
99-12-08 - compact view sorting is by publish_date and not post_date
         - default fulltext and compact html changed to view publish date
           and not post date
         - fixed bug in html formatted preview (it replaces NL with <BR>
           before)
         - listing length settings in slicedit is now applayed to compact
           view
99-12-07 - slice headline and id shown in all sliceedit pages
99-12-06 - full functionality of itemedit with hiding fields
         - little bug in feeding fixed (do not feed items posted to holding
           bin)
99-12-03 - completely new itemedit.php3 in order to work with hiding
           settings(se_fields.php3)
99-12-02 - new se_fields.php3 page for seting, which data fields are shown
           and which of them are needed to fill in itemedit
99-11-30 - new delete trash bin command in editor.php3 (it is smart - do not
           delete base items which have some feed)
         - highlight checkbox added to itemedit.php3
         - default highlight checkbox added to slicedit.php3
99-11-29 - editor table shows highlighted items now (in editor.php3)
         - editor table shows feeded/base items now (in editor.php3) - maybe
           it is useful for debugging only
99-11-26 - expired items are shown with red headline in editor tables
           (editor.php3)
         - if item is not published yet (due to publish_date) the headline
           ineditor tables is blue (editor.php3)
99-11-25 - fulltext is shown correctly in feeded items now
         - default format string values for compact and fulltext view are
           defined
         - feeding seems to work good including category renaming
         - publish date is extended by actual time when publish date is
           today(getdatetime() in date.php3
         - expiry date is shown correctly in add item (itemedit.php3) now
         - date ranges are changed for expiry and publish date in
           itemedit.php3 and sliedit.php3
           (extended date.php3 to accept "year plus range" and "year minus
           range")
         - there are no longer shown expired items in compact view
           (slice.php3)
         - the items with publish date somewhere in future are not displayed
           in compact view
         - new parameter highlight to slice.php3 which selected just
           highlighted items (if true)
99-11-24 - feeding filtering background (se_filters2.php3) - writing to
           database
         - new user slices examples (Altavista like slice, Press.cz like
           slice)
99-11-23 - removed bug in se_import.php3 - list of not imported slices is
           correct now
         - new interface page for feeding filtering (se_filters.php3)
99-11-22 - implemented feeding background
         - removed bug in new_id() - function doesn't return ids which
           packedcontaints >'<
99-11-18 - added new page for feeding setting (import part is function,
           export part does not (due to permission system)
99-11-16 - category sorting posibility in compact view (you can set it on
           se_compact.php3 page)
         - category headline is showed in category sorted compact view
         - category headline format can be set on se_compact.php3 page
         - you can use top/bottom HTML code which is added before/after
           compact view (se_compact.php3)
         - sort looks only into selected slice
99-11-15 - compact view format now works (item.php3 completely changed)
         - fulltext format works
         - Econnect-like slice.shtml added
99-11-12 - added correct codepage in HTML HEAD in not encapsulated
           slice.php3 page
         - added new page for fulltext format setting (se_fulltext.php3)
         - added new page for compact view format setting (se_compact.php3)
99-11-11 - left navigation column in slicedit.php3 is called via require
           se_inc.php3 now
         - added links to feeding and design setting for slice
           (slicedit.php3), but it does not work yet
99-11-10 - fixed bug in add_vars() function (extsessi.php3) which did not
           work with arrays
         - small search window installed to slice.shtml and search
           backgroundchanged to work with
           scroller and rewrited from search.php3 to slice.php3
99-11-09 - user view in compact form works well with categories now
         - better navigation bar behavior in compact item view
         - category rename feature in se_category.php3
         - items, which is in category not defined for this slice are shown
           in red (in editor.php3)
         - better converting plaintext to html in fulltext view (spaces are
           accepted now)
99-11-08 - new class Ctable for better table manipulation
         - no category column for slices without categories
         - fixed bug on storing filters when switching to another slice (now
           are filters cleared)
99-11-05 - add and modify items work with selected slice (not only with the
           hardwired one)
         - main admin page switched from index.html to index.php3
99-11-04 - category management for slices (for both - new slice and edit
           slice)
99-11-03 - new category buton functionality added (in slice management)
